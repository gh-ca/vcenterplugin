<div style="height: 100%;">
  <!-- 头部按钮组 -->
  <div class="gh-btngroup-header">
    <div class="gh-btngroup-left">

    </div>
    <div class="btn-group btn-icon">
    </div>
  </div>
  <div class="clr-row">
    <div class="clr-col-8">
      <button class="btn btn-primary" (click)="syncStoragePolicy()" style="margin-left: 10px">{{'menu.synSPolicy' | translate}}</button>
    </div>
    <div class="clr-col-4">
      <div style="position:absolute;right:50px;">
        <input (input)="search()"  style="height: 35px;width: 200px;"
               [(ngModel)]="searchName" placeholder="{{'tier.namep'|translate}}" type="search" name="name"/>
        <select style="height: 35px; margin-left: 10px; margin-right: 10px;width: 150px;" (ngModelOptions)="sortItems" [(ngModel)]="sortItem" name="sort" (change)="sortItemsChange();">
          <option *ngFor="let item of sortItems" value="{{item.id}}">{{item.value|translate}}</option>
        </select>
        <button class="btn btn-icon" (click)="sortBtnClick();">
          <clr-icon [hidden] ="sortUpDown.s == 'asc'" shape="angle-double down"></clr-icon>
          <clr-icon [hidden] ="sortUpDown.s == 'desc'" shape="angle-double up"></clr-icon>
        </button>
        <button title="{{'menu.refresh' | translate}}" class="btn btn-icon" (click)="refresh();"><clr-icon shape="refresh"></clr-icon></button>
      </div>
    </div>
  </div>
  <div class="clr-row">
    <div class="clr-col-4" *ngFor="let item of serviceLevels" [clrDgItem]="item">
      <div class="info-card" style="margin-left: 10px;margin-top: 30px; height: 260px; overflow: auto">
        <div class="info-card-header">
          <div class="info-card-title" style="color:#829DE6;cursor:pointer;overflow: hidden" title="{{item.name}}" (click)="clickName(item)">{{item.name}}</div>
          <!--<clr-dropdown [clrCloseMenuOnItemClick]="false">
            <button clrDropdownTrigger class="dropdown-toggle btn btn-link">
              Operation
              <clr-icon shape="caret down"></clr-icon>
            </button>
            <clr-dropdown-menu *clrIfOpen>
              <div clrDropdownItem>Link 1</div>
              <div clrDropdownItem>Link 2</div>
            </clr-dropdown-menu>
          </clr-dropdown>-->
        </div>
        <div class="info-card-content">
          <div class="info-card-squre">
            <div class="squre-per-box" [ngStyle]="{'height':item.usedRate+'%'}"></div>
            <div class="squre-num">{{item.usedRate}}%</div>
          </div>
          <div style="width: 70%;">
            <div class="gh-info-item">
              <span class="gh-info-lable">{{'tier.total'|translate}}</span>
              <span class="gh-info-value">{{item.totalCapacity}} GB</span>
            </div>
            <div class="gh-info-item">
              <span class="gh-info-lable">{{'tier.free'|translate}}</span>
              <span class="gh-info-value">{{item.freeCapacity}} GB</span>
            </div>
            <div class="gh-info-item" style="display: flex">
              <span class="gh-info-lable">{{'tier.qosP'|translate}}</span>
              <div class="gh-info-value" *ngIf="item.capabilities.qos == undefined">--</div>
              <div style="margin-top: 5px;" *ngIf="item.capabilities.qos != undefined
                                            && item.capabilities.qos.enabled == true">
                <div style="margin-top: 5px" *ngIf="item.capabilities.qos.qosParam.latency != undefined">{{'tier.latency'|translate}} <= {{item.capabilities.qos.qosParam.latency}} {{item.capabilities.qos.qosParam.latencyUnit}}</div>
                <div style="margin-top: 5px" *ngIf="item.capabilities.qos.qosParam.maxIOPS != undefined">IOPS <= {{item.capabilities.qos.qosParam.maxIOPS}} IOPS/TB</div>
                <div style="margin-top: 5px" *ngIf="item.capabilities.qos.qosParam.minIOPS != undefined">IOPS >= {{item.capabilities.qos.qosParam.minIOPS}} IOPS/TB</div>
                <div style="margin-top: 5px" *ngIf="item.capabilities.qos.qosParam.maxBandWidth != undefined">{{'tier.bandwidth'|translate}} <= {{item.capabilities.qos.qosParam.maxBandWidth}} Mbps/s</div>
                <div style="margin-top: 5px" *ngIf="item.capabilities.qos.qosParam.minBandWidth != undefined">{{'tier.bandwidth'|translate}} >= {{item.capabilities.qos.qosParam.minBandWidth}} Mbps/s</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="loadingDiv" [hidden]="!tierLoading"><clr-spinner class="spinner spinner-md">Loading</clr-spinner></div>
  <div class="loadingDiv" [hidden]="!syncLoading"><clr-spinner class="spinner spinner-md">Loading</clr-spinner></div>
</div>
<clr-modal class="modal" [(clrModalOpen)]="popShow" [clrModalSize]="'lg'">
  <h3 class="modal-title">
    <span>{{selectedModel.name}}</span>
    <!--<span>下拉框</span>
    <span>下拉框1</span>-->
  </h3>
  <div *ngIf="popShow" class="modal-body" style="height: 500px">
    <clr-tabs>
      <clr-tab active>
        <button clrTabLink>{{'tier.general'|translate}}</button>
        <clr-tab-content *clrIfActive>
          <!-- 基础信息展示 -->
          <div class="gh-info-head">{{'tier.basic'|translate}}</div>
          <div class="gh-info-wrap clr-row">
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.name'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.name">{{selectedModel.name}}</span>
              <span class="gh-info-value" *ngIf="!selectedModel.name">--</span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.total'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.totalCapacity">{{selectedModel.totalCapacity}} GB</span>
              <span class="gh-info-value" *ngIf="!selectedModel.totalCapacity">--</span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.free'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.freeCapacity">{{selectedModel.freeCapacity}} GB</span>
              <span class="gh-info-value" *ngIf="!selectedModel.freeCapacity">--</span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.used'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.usedCapacity">{{selectedModel.usedCapacity}} GB</span>
              <span class="gh-info-value" *ngIf="!selectedModel.usedCapacity">--</span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.usage'|translate}}</span>
              <span class="gh-info-value" style="width: 60%" *ngIf="selectedModel.usedRate"><clr-progress-bar clrValue="{{selectedModel.usedRate}}" clrLabeled></clr-progress-bar></span>
              <span class="gh-info-value" style="width: 60%" *ngIf="!selectedModel.usedRate">--</span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.iop'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.iopriority !== undefined
                                            && selectedModel.capabilities.iopriority.enabled === true">
                  <span *ngIf="selectedModel.capabilities.iopriority.policy == 1">{{'vmfs.low'|translate}}</span>
                  <span *ngIf="selectedModel.capabilities.iopriority.policy == 2">{{'tier.middle'|translate}}</span>
                  <span *ngIf="selectedModel.capabilities.iopriority.policy == 3">{{'tier.high'|translate}}</span>
              </span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.iopriority === undefined
                                            || selectedModel.capabilities.iopriority.enabled === false">
                  --
              </span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.zoning'|translate}}</span>
              <span class="gh-info-value">--</span>
            </div>
          </div>
          <!-- 基础信息展示 -->
          <div class="gh-info-head">{{'tier.qosP'|translate}}</div>
          <div class="gh-info-wrap clr-row">
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.controlP'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.qos != undefined
                                            && selectedModel.capabilities.qos.enabled == true">
                     <span *ngIf="selectedModel.capabilities.qos.qosParam.maxBandWidth != undefined
                                  && selectedModel.capabilities.qos.qosParam.maxIOPS != undefined">
                       {{'tier.uLimit'|translate}}
                     </span>
                     <span *ngIf="selectedModel.capabilities.qos.qosParam.minBandWidth != undefined
                                  && selectedModel.capabilities.qos.qosParam.minIOPS != undefined ">
                       {{'tier.lLimit'|translate}}
                     </span>
              </span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.qos == undefined
                                            || selectedModel.capabilities.qos.enabled == false">
                     --
              </span>
            </div>
            <div class="gh-info-item clr-col-4" *ngIf="selectedModel.capabilities.qos != undefined && selectedModel.capabilities.qos.qosParam.maxBandWidth != undefined">
              <span class="gh-info-lable">{{'tier.bandwidth'|translate}}</span>
              <span class="gh-info-value"> <= {{selectedModel.capabilities.qos.qosParam.maxBandWidth}} MBPS/TB</span>
            </div>
            <div class="gh-info-item clr-col-4" *ngIf="selectedModel.capabilities.qos != undefined && selectedModel.capabilities.qos.qosParam.minBandWidth != undefined">
              <span class="gh-info-lable">{{'tier.bandwidth'|translate}}</span>
              <span class="gh-info-value"> >= {{selectedModel.capabilities.qos.qosParam.minBandWidth}} MBPS/TB</span>
            </div>
            <div class="gh-info-item clr-col-4" *ngIf="selectedModel.capabilities.qos != undefined && selectedModel.capabilities.qos.qosParam.maxIOPS != undefined">
              <span class="gh-info-lable">IOPS</span>
              <span class="gh-info-value"> <= {{selectedModel.capabilities.qos.qosParam.maxIOPS}} IOPS/TB</span>
            </div>
            <div class="gh-info-item clr-col-4" *ngIf="selectedModel.capabilities.qos != undefined && selectedModel.capabilities.qos.qosParam.minIOPS != undefined">
              <span class="gh-info-lable">IOPS</span>
              <span class="gh-info-value"> >= {{selectedModel.capabilities.qos.qosParam.minIOPS}} IOPS/TB</span>
            </div>
          </div>
          <!-- 基础信息展示 -->
          <div class="gh-info-head">{{'tier.rtuning'|translate}}</div>
          <div class="gh-info-wrap clr-row">
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.alloctype'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.resourceType == undefined
                                                || selectedModel.capabilities.resourceType == 'default_type'">--</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.resourceType != undefined
                                                && selectedModel.capabilities.resourceType != 'default_type'">
                {{selectedModel.capabilities.resourceType}}
              </span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.dedupe'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.deduplication == undefined">--</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.deduplication != undefined">
                <span *ngIf="selectedModel.capabilities.deduplication == 'enabled'">
                   {{'tier.enable'|translate}}
                </span>
                <span *ngIf="selectedModel.capabilities.deduplication == 'disabled'">
                   {{'tier.disable'|translate}}
                </span>
                 <span *ngIf="selectedModel.capabilities.deduplication == 'default_type'">
                   {{'rdm.default'|translate}}
                </span>
              </span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.compression'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.compression == undefined">--</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.compression != undefined">
                <span *ngIf="selectedModel.capabilities.compression == true">
                  {{'tier.enable'|translate}}
                </span>
                <span *ngIf="selectedModel.capabilities.compression == false">
                  {{'tier.disable'|translate}}
                </span>
              </span>
            </div>
            <div class="gh-info-item clr-col-4">
              <span class="gh-info-lable">{{'tier.smartTierP'|translate}}</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.smarttier == undefined
                                                || selectedModel.capabilities.smarttier.enabled == false">--</span>
              <span class="gh-info-value" *ngIf="selectedModel.capabilities.smarttier != undefined
                                                && selectedModel.capabilities.smarttier.enabled == true">
                     <span *ngIf="selectedModel.capabilities.smarttier.policy == 0">
                       {{'tier.notMove'|translate}}
                     </span>
                     <span *ngIf="selectedModel.capabilities.smarttier.policy == 1">
                       {{'tier.autoMove'|translate}}
                     </span>
                     <span *ngIf="selectedModel.capabilities.smarttier.policy == 2">
                       {{'tier.highPMove'|translate}}
                     </span>
                     <span *ngIf="selectedModel.capabilities.smarttier.policy == 3">
                       {{'tier.lowPMove'|translate}}
                     </span>
              </span>
            </div>
          </div>
          <!-- 基础信息展示 -->
          <!--<div class="gh-info-head">Threshold Setting</div>
          <div class="gh-info-wrap clr-row">
             //
          </div>-->
        </clr-tab-content>
      </clr-tab>
      <clr-tab>
        <button clrTabLink (click)="storagePoolRefresh()">{{'tier.storagep'|translate}}</button>
        <clr-tab-content *clrIfActive>

            <div class="gh-info-head"></div>

            <div class="btn-group btn-icon">
              <div class="radio btn">
                <input (click)="storagePoolRadioCheck = 'basic';initStoragePoolListFilter()" type="radio" name="btn-group-demo-radios" id="btn-demo-radio-1" checked>
                <label for="btn-demo-radio-1"><clr-icon shape="list" size="20"></clr-icon></label>
              </div>
              <div class="radio btn">
                <input (click)="storagePoolRadioCheck = 'capacity';initStoragePoolListFilter()" type="radio" name="btn-group-demo-radios" id="btn-demo-radio-2">
                <label for="btn-demo-radio-2"><clr-icon shape="dashboard" size="20"></clr-icon></label>
              </div>
              <div class="radio btn">
                <input (click)="storagePoolRadioCheck = 'performance';initStoragePoolListFilter();" type="radio" name="btn-group-demo-radios" id="btn-demo-radio-3">
                <label for="btn-demo-radio-3"><clr-icon shape="radar" size="20"></clr-icon></label>
              </div>
              <div class="radio btn merginLeft">
                <label><clr-icon shape="refresh" size="20" (click)="storagePoolRefresh();initStoragePoolListFilter()"></clr-icon></label>
              </div>
            </div>

            <!-- 列表页 -->
            <clr-datagrid [clrDgLoading]="storeagePoolIsloading">

              <clr-dg-column [clrDgField]="'name'">{{'tier.name'|translate}}</clr-dg-column>

              <clr-dg-column [hidden]="storagePoolRadioCheck!=='basic'">
                {{'tier.status'|translate}}
                <clr-dg-filter [clrDgFilter]="slspStatusFilter">
                  <sl-sp-status-filter #slspStatusFilter></sl-sp-status-filter>
                </clr-dg-filter>
              </clr-dg-column>
              <clr-dg-column [hidden]="storagePoolRadioCheck!=='basic'" [clrDgField]="'physicalType'">
                {{'tier.diskType'|translate}}
              </clr-dg-column>
              <clr-dg-column [hidden]="storagePoolRadioCheck!=='basic'" [clrDgField]="'storageName'">
                {{'tier.storage'|translate}}
                <clr-dg-filter [clrDgFilter]="sLSPStorageNameFilter">
                  <sl-sp-storage-name-filter #sLSPStorageNameFilter></sl-sp-storage-name-filter>
                </clr-dg-filter>
              </clr-dg-column>

              <clr-dg-column #poolTotalCapacity [hidden]="storagePoolRadioCheck!=='capacity'" class="hideFilter" [clrDgField]="'totalCapacity'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                {{'tier.total'|translate}}
                <clr-icon *ngIf="sortFunc(poolTotalCapacity.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>
              <clr-dg-column  #poolConsumedCapacity [hidden]="storagePoolRadioCheck!=='capacity'" class="hideFilter" [clrDgField]="'consumedCapacity'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                {{'tier.used'|translate}}
                <clr-icon *ngIf="sortFunc(poolConsumedCapacity.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>
              <clr-dg-column #poolUsedCapacity [hidden]="storagePoolRadioCheck!=='capacity'" class="hideFilter" [clrDgField]="'usedCapacity'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                {{'tier.usage'|translate}}
                <clr-icon *ngIf="sortFunc(poolUsedCapacity.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>
              <clr-dg-column #poolFreeCapacity [hidden]="storagePoolRadioCheck!=='capacity'" class="hideFilter" [clrDgField]="'freeCapacity'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                {{'tier.free'|translate}}
                <clr-icon *ngIf="sortFunc(poolFreeCapacity.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>

              <clr-dg-column [hidden]="storagePoolRadioCheck!=='performance'" [clrDgField]="'runningStatus'">
                {{'tier.status'|translate}}
                <clr-dg-filter [clrDgFilter]="runningStatusFilter">
                  <sl-sp-status-filter #runningStatusFilter></sl-sp-status-filter>
                </clr-dg-filter>
              </clr-dg-column>
              <clr-dg-column #poolLatency [hidden]="storagePoolRadioCheck!=='performance'" class="hideFilter" [clrDgField]="'latency'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                {{'tier.latencyms'|translate}}
                <clr-icon *ngIf="sortFunc(poolLatency.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>
              <clr-dg-column #poolIOPS [hidden]="storagePoolRadioCheck!=='performance'" class="hideFilter" [clrDgField]="'iops'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                IOPS
                <clr-icon *ngIf="sortFunc(poolIOPS.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>
              <clr-dg-column #poolBandwidth [hidden]="storagePoolRadioCheck!=='performance'" class="hideFilter" [clrDgField]="'bandwidth'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
                {{'tier.bandwidthm'|translate}}
                <clr-icon *ngIf="sortFunc(poolBandwidth.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
              </clr-dg-column>
              <clr-dg-placeholder>{{'tips.noData' | translate}}</clr-dg-placeholder>
              <clr-dg-row *clrDgItems="let item of storagePoolList" [clrDgItem]="item">

                <clr-dg-cell>{{item.name}}</clr-dg-cell>

                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='basic'">
                  <span *ngIf="item.runningStatus == 'offline'">
                    <span class="color-square" style="background-color: #A9A9A9; margin-right: 10px"></span>{{'tier.offLine' | translate}}
                  </span>
                  <span *ngIf="item.runningStatus == 'normal'">
                    <span class="color-square" style="background-color: #7CDFA0; margin-right: 10px;"></span>{{'tier.normal' | translate}}
                  </span>
                  <span *ngIf="item.runningStatus == 'abnormal'">
                    <span class="color-square" style="background-color: red; margin-right: 10px"></span>{{'tier.fault' | translate}}
                  </span>
                  <span *ngIf="item.runningStatus == 'unknown'">
                    <span class="color-square" style="background-color: yellow; margin-right: 10px"></span>{{'tier.unknown' | translate}}
                  </span>
                  <span *ngIf="!item.runningStatus">
                    <span class="color-square" style="background-color: #A9A9A9; margin-right: 10px"></span>--
                  </span>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='basic'">{{item.physicalType ? item.physicalType:'--'}}</clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='basic'">{{item.storageName ? item.storageName:'--'}}</clr-dg-cell>

                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='capacity'" style="text-align: right">{{item.totalCapacity ? formatCapacity(item.totalCapacity):'--'}} </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='capacity'" style="text-align: right">{{item.consumedCapacity ? formatCapacity(item.consumedCapacity):'--'}} </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='capacity'">
                  <div class="progress-block">
                    <clr-progress-bar clrValue="{{item.usedCapacity}}" clrSuccess></clr-progress-bar>
                    <span>{{item.usedCapacity}}%</span>
                  </div>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='capacity'" style="text-align: right">{{item.freeCapacity ? formatCapacity(item.freeCapacity):'--'}} </clr-dg-cell>

                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='performance'">
                  <span *ngIf="item.runningStatus == 'offline'">
                    <span class="color-square" style="background-color: #A9A9A9; margin-right: 10px"></span>{{'tier.offLine' | translate}}
                  </span>
                  <span *ngIf="item.runningStatus == 'normal'">
                    <span class="color-square" style="background-color: #7CDFA0; margin-right: 10px;"></span>{{'tier.normal' | translate}}
                  </span>
                  <span *ngIf="item.runningStatus == 'abnormal'">
                    <span class="color-square" style="background-color: red; margin-right: 10px"></span>{{'tier.fault' | translate}}
                  </span>
                  <span *ngIf="item.runningStatus == 'unknown'">
                    <span class="color-square" style="background-color: yellow; margin-right: 10px"></span>{{'tier.unknown' | translate}}
                  </span>
                  <span *ngIf="!item.runningStatus">
                    <span class="color-square" style="background-color: #A9A9A9; margin-right: 10px"></span>--
                  </span>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='performance'" style="text-align: right">
                  <span *ngIf="item.latency != undefined">{{item.latency}}</span>
                  <span *ngIf="item.latency == undefined">--</span>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='performance'" style="text-align: right">
                  <span *ngIf="item.iops != undefined">{{item.iops}}</span>
                  <span *ngIf="item.iops == undefined">--</span>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="storagePoolRadioCheck!=='performance'" style="text-align: right">
                  <span *ngIf="item.bandwidth != undefined">{{item.bandwidth}}</span>
                  <span *ngIf="item.bandwidth == undefined">--</span>
                </clr-dg-cell>

              </clr-dg-row>

              <clr-dg-footer>
                <clr-dg-pagination #pagination [clrDgPageSize]="5" [clrDgTotalItems]="storagePoolTotal">
                  <clr-dg-page-size [clrPageSizeOptions]="[5,10,50,100]">{{'page.perPage' | translate}}</clr-dg-page-size>
                  {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                  {{'page.all' | translate}}
                  {{pagination.totalItems}}
                </clr-dg-pagination>
              </clr-dg-footer>


          </clr-datagrid>
        </clr-tab-content>
      </clr-tab>
      <clr-tab>
        <button clrTabLink (click)="volumeRefresh()">{{'storage.chart.volume'|translate}}</button>
        <clr-tab-content *clrIfActive>

          <div class="gh-info-head"></div>

          <div class="btn-group btn-icon">
            <div class="radio btn">
              <input (click)="volumeRadioCheck = 'basic'" type="radio" name="btn-group-demo-radios" id="btn-demo-radio-4" checked>
              <label for="btn-demo-radio-4"><clr-icon shape="list" size="20"></clr-icon></label>
            </div>
            <div class="radio btn">
              <input (click)="volumeRadioCheck = 'performance'" type="radio" name="btn-group-demo-radios" id="btn-demo-radio-5">
              <label for="btn-demo-radio-5"><clr-icon shape="dashboard" size="20"></clr-icon></label>
            </div>
            <div class="radio btn merginLeft">
              <label><clr-icon shape="refresh" size="20" (click)="volumeRefresh()"></clr-icon></label>
            </div>
          </div>

          <clr-datagrid [clrDgLoading]="volumeIsloading">
            <clr-dg-column [clrDgField]="'name'">{{'tier.name'|translate}}</clr-dg-column>
            <clr-dg-column>
              {{'tier.status'|translate}}
              <clr-dg-filter [clrDgFilter]="lunStatusFilter">
                <lun-status-filter #lunStatusFilter></lun-status-filter>
              </clr-dg-filter>
            </clr-dg-column>
            <clr-dg-column #lunCapacity [hidden]="volumeRadioCheck!=='basic'" class="hideFilter" [clrDgField]="'capacity'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
              {{'tier.total'|translate}}
              <clr-icon *ngIf="sortFunc(lunCapacity.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
            </clr-dg-column>
            <clr-dg-column [hidden]="volumeRadioCheck!=='basic'" [clrDgField]="'alloctype'">{{'tier.alloctype'|translate}}</clr-dg-column>
            <clr-dg-column #lunCapacityUsage [hidden]="volumeRadioCheck!=='basic'" class="hideFilter" [clrDgField]="'capacityUsage'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
              {{'tier.used'|translate}}
              <clr-icon *ngIf="sortFunc(lunCapacityUsage.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
            </clr-dg-column>

            <clr-dg-column #lunLatency [hidden]="volumeRadioCheck!=='performance'" class="hideFilter" [clrDgField]="'latency'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
              {{'tier.latencyms'|translate}}
              <clr-icon *ngIf="sortFunc(lunLatency.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
            </clr-dg-column>
            <clr-dg-column #lunIOPS [hidden]="volumeRadioCheck!=='performance'" class="hideFilter" [clrDgField]="'iops'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
              IOPS
              <clr-icon *ngIf="sortFunc(lunIOPS.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
            </clr-dg-column>
            <clr-dg-column #lunBandwidth [hidden]="volumeRadioCheck!=='performance'" class="hideFilter" [clrDgField]="'bandwidth'" style="position: relative" (clrDgSortedChange)="sortFunc($event);">
              {{'tier.bandwidthm'|translate}}
              <clr-icon *ngIf="sortFunc(lunBandwidth.sorted);" shape="arrow down" class="is-solid" style="position: absolute;right: 1.1rem;"></clr-icon>
            </clr-dg-column>
            <clr-dg-placeholder>{{'tips.noData' | translate}}</clr-dg-placeholder>
            <clr-dg-row *clrDgItems="let item of volumeList" [clrDgItem]="item">

                <clr-dg-cell>{{item.name}}</clr-dg-cell>
                <clr-dg-cell class="over_flow">
                 <span *ngIf="item.status == 'creating'">
                            <span class="color-square" style="background-color: green; margin-right: 10px"></span>{{'enum.status.creating' | translate}}
                          </span>
                  <span *ngIf="item.status == 'normal'">
                            <span class="color-square" style="background-color: #7CDFA0; margin-right: 10px"></span>{{'enum.status.normal' | translate}}
                          </span>
                  <span *ngIf="item.status == 'mapping'">
                            <span class="color-square" style="background-color: gold; margin-right: 10px"></span>{{'enum.status.mapping' | translate}}
                          </span>
                  <span *ngIf="item.status == 'unmapping'">
                            <span class="color-square" style="background-color: blueviolet; margin-right: 10px"></span>{{'enum.status.unmapping' | translate}}
                          </span>
                  <span *ngIf="item.status == 'deleting'">
                            <span class="color-square" style="background-color: bisque; margin-right: 10px"></span>{{'enum.status.deleting' | translate}}
                          </span>
                  <span *ngIf="item.status == 'error'">
                            <span class="color-square" style="background-color: red; margin-right: 10px"></span>{{'enum.status.error' | translate}}
                          </span>
                  <span *ngIf="item.status == 'expanding'">
                            <span class="color-square" style="background-color: darkmagenta; margin-right: 10px"></span>{{'enum.status.expanding' | translate}}
                          </span>
                  <span *ngIf="!item.status">
                            --
                          </span>
                </clr-dg-cell>

                <clr-dg-cell [hidden]="volumeRadioCheck!=='basic'" style="text-align: right">{{item.capacity}} GB</clr-dg-cell>
                <clr-dg-cell [hidden]="volumeRadioCheck!=='basic'">{{item.alloctype}}</clr-dg-cell>
                <clr-dg-cell [hidden]="volumeRadioCheck!=='basic'" *ngIf="item.capacityUsage==''">--</clr-dg-cell>
                <clr-dg-cell [hidden]="volumeRadioCheck!=='basic'" *ngIf="item.capacityUsage!=''">
                  <clr-progress-bar clrValue="{{item.capacity_usage}}" clrSuccess clrLabeled></clr-progress-bar>
                </clr-dg-cell>

                <clr-dg-cell [hidden]="volumeRadioCheck!=='performance'" style="text-align: right">
                  <span *ngIf="item.latency != undefined">{{item.latency}}</span>
                  <span *ngIf="item.latency == undefined">--</span>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="volumeRadioCheck!=='performance'" style="text-align: right">
                  <span *ngIf="item.iops != undefined">{{item.iops}}</span>
                  <span *ngIf="item.iops == undefined">--</span>
                </clr-dg-cell>
                <clr-dg-cell [hidden]="volumeRadioCheck!=='performance'" style="text-align: right">
                  <span *ngIf="item.bandwidth != undefined">{{item.bandwidth}}</span>
                  <span *ngIf="item.bandwidth == undefined">--</span>
                </clr-dg-cell>

            </clr-dg-row>

            <clr-dg-footer>
              <clr-dg-pagination #pagination [clrDgPageSize]="5" [clrDgTotalItems]="volumeTotal">
                <clr-dg-page-size [clrPageSizeOptions]="[5,10,50,100]">{{'page.perPage' | translate}}</clr-dg-page-size>
                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                {{'page.all' | translate}}
                {{pagination.totalItems}}
              </clr-dg-pagination>
            </clr-dg-footer>
          </clr-datagrid>

        </clr-tab-content>
      </clr-tab>
      <clr-tab>
        <button clrTabLink>{{'tier.capacity'|translate}}</button>
        <clr-tab-content *clrIfActive>
          <div style="position:relative;">
            <div style="float:right; height: 50px;">
              <clr-select-container style="margin-right: 50px">
                <select clrSelect (change)="initCapacityChart(capacityRange)" [(ngModel)]="capacityRange.range">
                  <option value="LAST_1_MONTH">{{'tier.last1M'|translate}}</option>
                  <option value="LAST_3_MONTH">{{'tier.last3M'|translate}}</option>
                  <option value="LAST_6_MONTH">{{'tier.last6M'|translate}}</option>
                  <option value="LAST_1_YEAR">{{'tier.last1Y'|translate}}</option>
                </select>
              </clr-select-container>
            </div>
            <div style="margin-top: 30px;" echarts [options]="volumeCapacity"></div>

            <div *ngIf="volDataIsNull" style="position: absolute;width: 100%;top: 15%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>

            <div style="margin-top: 30px;" echarts [options]="storagePoolCapacity"></div>

            <div *ngIf="storagePoolDataIsNull" style="position: absolute;width: 100%;top: 70%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>
          </div>
        </clr-tab-content>
      </clr-tab>
      <clr-tab>
        <button clrTabLink>{{'tier.performance'|translate}}</button>
        <clr-tab-content *clrIfActive>
          <div style="position:relative;">
            <div style="float:right; height: 50px;">
              <clr-select-container style="margin-right: 50px">
                <select clrSelect (change)="initChart(range)"  [(ngModel)]="range.range">
                  <option value="LAST_1_DAY">{{'tier.last1D'|translate}}</option>
                  <option value="LAST_1_WEEK">{{'tier.last1W'|translate}}</option>
                  <option value="LAST_1_MONTH">{{'tier.last1M'|translate}}</option>
                  <option value="LAST_1_YEAR">{{'tier.last1Y'|translate}}</option>
                </select>
              </clr-select-container>
            </div>
            <div style="margin-top: 50px" echarts [options]="volumeMaxResponseTime"></div>
            <div style="margin-top: 30px" echarts [options]="volumeDensity"></div>
            <div style="margin-top: 30px" echarts [options]="volumeThroughput"></div>
            <div style="margin-top: 30px" echarts [options]="volumeBandwidth"></div>
            <div style="margin-top: 30px" echarts [options]="storagePoolDensity"></div>
            <div *ngIf="volMaxDataIsNull" style="position: absolute;width: 100%;top: 7%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>
            <div *ngIf="volDenDataIsNull" style="position: absolute;width: 100%;top: 27%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>
            <div *ngIf="volThrDataIsNull" style="position: absolute;width: 100%;top: 47%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>
            <div *ngIf="volBDWTDataIsNull" style="position: absolute;width: 100%;top: 67%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>
            <div *ngIf="storagePoolDenDataIsNull" style="position: absolute;width: 100%;top: 87%;">
              <span style="color: #b3b3b3;display: inline-block;width: 100%;text-align: center;font-size: 20px;font-weight: 600;">
                <clr-icon shape="info-standard" class="is-warning" size="20"></clr-icon>&nbsp;{{'tips.noData' | translate}}
              </span>
            </div>
          </div>
        </clr-tab-content>
      </clr-tab>
      <clr-tab>
        <button clrTabLink>{{'tier.appType'|translate}}</button>
        <clr-tab-content *clrIfActive>
          <clr-datagrid [(clrDgSelected)]="applicationTypeSelected"  [clrDgLoading]="applicationTypeIsloading">

            <clr-dg-column [clrDgField]="'storageDevice'">{{'tier.storage'|translate}}</clr-dg-column>
            <clr-dg-column [clrDgField]="'applicationType'">{{'tier.appType'|translate}}</clr-dg-column>
            <clr-dg-placeholder>{{'tips.noData' | translate}}</clr-dg-placeholder>
            <clr-dg-row *clrDgItems="let item of applicationTypeList" [clrDgItem]="item">
              <clr-dg-cell>{{item.storageDevice}}</clr-dg-cell>
              <clr-dg-cell>{{item.applicationType}}</clr-dg-cell>
            </clr-dg-row>

            <clr-dg-footer>
              <clr-dg-pagination #pagination [clrDgPageSize]="5" [clrDgTotalItems]="applicationTypeTotal">
                <clr-dg-page-size [clrPageSizeOptions]="[5,10,50,100]">{{'page.perPage' | translate}}</clr-dg-page-size>
                {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}
                {{'page.all' | translate}}
                {{pagination.totalItems}}
              </clr-dg-pagination>
            </clr-dg-footer>

          </clr-datagrid>
        </clr-tab-content>
      </clr-tab>
    </clr-tabs>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline bottom-middle" (click)="closeS()">{{'menu.close'|translate}}</button>
  </div>
</clr-modal>


<clr-modal [(clrModalOpen)]="tipModalSuccess" [clrModalSize]="'sm'" style="height: 100px;">
  <h3 class="modal-title">{{'menu.tip'|translate}}</h3>
  <div class="modal-body">
    <clr-icon shape="success-standard" class="is-solid" style="color: #59A220;margin-right: 5px;"></clr-icon>{{'bestPractice.syncSuccess'|translate}}
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="tipModalSuccess=false">{{'menu.ok'|translate}}</button>
  </div>
</clr-modal>

<clr-modal [(clrModalOpen)]="tipModalFail" [clrModalSize]="'sm'">
  <h3 class="modal-title">{{'menu.tip'|translate}}</h3>
  <div class="modal-body">
    <clr-icon shape="error-standard" class="is-solid" style="color: red;margin-right: 5px;"></clr-icon>{{'bestPractice.syncFail'|translate}}
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="tipModalFail=false">{{'menu.ok'|translate}}</button>
  </div>
</clr-modal>
