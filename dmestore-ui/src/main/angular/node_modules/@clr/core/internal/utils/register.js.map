{"version":3,"file":"register.js","sourceRoot":"","sources":["../../../../src/internal/utils/register.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,MAAM,MAAM,iBAAiB,CAAC;AACrC,OAAO,EAAE,aAAa,EAAE,cAAc,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACvE,OAAO,EAAE,cAAc,EAAE,MAAM,aAAa,CAAC;AAC7C,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAE7C,MAAM,oBAAoB,GAAG,MAAM,CACjC,CAAC,EACD,CAAC,OAAe,EAAE,YAAiB,EAAE,QAA+C,EAAE,EAAE;IACtF,IAAI,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE;QAC5C,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,8BAA8B,CAAC,CAAC;KACxD;SAAM;QACL,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QACvC,cAAc,EAAE,CAAC;QAEjB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,OAAO,CAAC,EAAE;YACxD,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC1C;KACF;AACH,CAAC,CACF,CAAC;AAEF,MAAM,UAAU,qBAAqB,CAAC,OAAe,EAAE,YAAiB;IACtE,IAAI,SAAS,EAAE,IAAI,cAAc,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE;QACrD,oBAAoB,CAAC,OAAO,EAAE,YAAY,EAAE,MAAM,CAAC,cAAc,CAAC,CAAC;KACpE;AACH,CAAC","sourcesContent":["/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport curryN from 'ramda/es/curryN';\nimport { elementExists, existsInWindow, isBrowser } from './exists.js';\nimport { setupCDSGlobal } from './global.js';\nimport { isStorybook } from './framework.js';\n\nconst addElementToRegistry = curryN(\n  3,\n  (tagName: string, elementClass: any, registry: { define: (a: string, b: any) => {} }) => {\n    if (elementExists(tagName) && !isStorybook()) {\n      console.warn(`${tagName} has already been registered`);\n    } else {\n      registry.define(tagName, elementClass);\n      setupCDSGlobal();\n\n      if (!window.CDS._loadedElements.some(i => i === tagName)) {\n        window.CDS._loadedElements.push(tagName);\n      }\n    }\n  }\n);\n\nexport function registerElementSafely(tagName: string, elementClass: any) {\n  if (isBrowser() && existsInWindow(['customElements'])) {\n    addElementToRegistry(tagName, elementClass, window.customElements);\n  }\n}\n"]}