{"version":3,"file":"id.js","sourceRoot":"","sources":["../../../../src/internal/decorators/id.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAGH,OAAO,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAElD,MAAM,QAAQ,GAAG,CAAC,UAA8B,EAAE,KAAS,EAAE,IAAiB,EAAE,EAAE;IAChF,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,UAAU,CAAC,CAAC;AACjD,CAAC,CAAC;AAEF,MAAM,UAAU,GAAG,CAAC,UAA8B,EAAE,OAAY,EAAE,EAAE,CAAC,CAAC;IACpE,IAAI,EAAE,QAAQ;IACd,SAAS,EAAE,WAAW;IACtB,GAAG,EAAE,OAAO,CAAC,GAAG;IAChB,UAAU;CACX,CAAC,CAAC;AAEH,MAAM,UAAU,EAAE;IAChB,OAAO,CAAC,iBAA2B,EAAE,IAAkB,EAAO,EAAE;QAC9D,MAAM,UAAU,GAAG;YACjB,GAAG;gBACD,MAAM,YAAY,GAAG,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,GAAG,CAAC;gBACvE,IAAI,CAAE,IAAY,CAAC,KAAK,YAAY,EAAE,CAAC,EAAE;oBACvC,wFAAwF;oBACvF,IAAY,CAAC,KAAK,YAAY,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC;iBACjD;gBACD,OAAQ,IAAY,CAAC,KAAK,YAAY,EAAE,CAAC,CAAC;YAC5C,CAAC;YACD,UAAU,EAAE,IAAI;YAChB,YAAY,EAAE,IAAI;SACnB,CAAC;QACF,OAAO,IAAI,KAAK,SAAS;YACvB,CAAC,CAAC,QAAQ,CAAC,UAAU,EAAE,iBAAuB,EAAE,IAAI,CAAC;YACrD,CAAC,CAAC,UAAU,CAAC,UAAU,EAAE,iBAAwB,CAAC,CAAC;IACvD,CAAC,CAAC;AACJ,CAAC","sourcesContent":["/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { LitElement } from 'lit-element';\nimport { createId } from './../utils/identity.js';\n\nconst legacyId = (descriptor: PropertyDescriptor, proto: {}, name: PropertyKey) => {\n  Object.defineProperty(proto, name, descriptor);\n};\n\nconst standardId = (descriptor: PropertyDescriptor, element: any) => ({\n  kind: 'method',\n  placement: 'prototype',\n  key: element.key,\n  descriptor,\n});\n\nexport function id() {\n  return (protoOrDescriptor: {} | any, name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        const propertyName = name !== undefined ? name : protoOrDescriptor.key;\n        if (!(this as any)[`__${propertyName}`]) {\n          // _ is used to ensure number is not first since this can create an invalid css selector\n          (this as any)[`__${propertyName}`] = createId();\n        }\n        return (this as any)[`__${propertyName}`];\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return name !== undefined\n      ? legacyId(descriptor, protoOrDescriptor as {}, name)\n      : standardId(descriptor, protoOrDescriptor as any);\n  };\n}\n"]}