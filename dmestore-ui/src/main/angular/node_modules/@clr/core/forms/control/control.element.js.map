{"version":3,"file":"control.element.js","sourceRoot":"","sources":["../../../../src/forms/control/control.element.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (c) 2016-2020 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\n\nimport { html, LitElement, query } from 'lit-element';\nimport {\n  baseStyles,\n  property,\n  querySlot,\n  querySlotAll,\n  id,\n  listenForAttributeChange,\n  childrenUpdateComplete,\n  getElementLanguageDirection,\n  event,\n  EventEmitter,\n  describeElementByElements,\n  updateComponentLayout,\n  supportsResizeObserver,\n  internalProperty,\n  syncProps,\n} from '@clr/core/internal';\nimport { ClarityIcons } from '@clr/core/icon/icon.service.js';\nimport { exclamationCircleIcon } from '@clr/core/icon/shapes/exclamation-circle.js';\nimport { checkCircleIcon } from '@clr/core/icon/shapes/check-circle.js';\nimport { CdsControlMessage } from './../control-message/control-message.element.js';\nimport { styles } from './control.element.css.js';\nimport { ControlStatus, ControlLayout, ControlWidth } from './../utils/interfaces.js';\nimport { syncHTML5Validation } from '../utils/validate.js';\nimport {\n  associateInputToDatalist,\n  getStatusIcon,\n  associateInputAndLabel,\n  controlIsWrapped,\n  formLayouts,\n  defaultFormLayout,\n  defaultControlWidth,\n  getCurrentMessageStatus,\n} from '../utils/index.js';\nimport { CdsInternalControlLabel } from '../control-label/control-label.element.js';\nimport { CdsControlAction } from '../control-action/control-action.element.js';\n\n/**\n * Generic Control\n *\n * ```typescript\n * import '@clr/core/forms/register.js';\n * ```\n *\n * ```html\n * <cds-control>\n *   <label>control</label>\n *   <input type=\"text\" />\n * </cds-control>\n * ```\n *\n * @slot - For projecting input and label\n */\nexport class CdsControl extends LitElement {\n  /**\n   * @type {neutral | error | success}\n   * Set the status of form control validation\n   */\n  @property({ type: String }) status: ControlStatus = 'neutral';\n\n  /**\n   * @type {stretch | shrink}\n   * Adjust the control from the default full width or the browser default width\n   */\n  @property({ type: String }) controlWidth: ControlWidth = defaultControlWidth;\n\n  /**\n   * Set the validate attribute to sync with HTML5 native validation\n   * https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation\n   */\n  @property({ type: Boolean }) validate = false;\n\n  /**\n   * By default forms will collapse to layout that prevents overflow.\n   * If disabled control layout may break or overflow in unexpected ways.\n   */\n  @property({ type: Boolean }) responsive = true;\n\n  /**\n   * @type {vertical | horizontal | compact}\n   * Set to adjust the default control layout. When `responsive` is true this will be the largest size to scale to.\n   */\n  @property({ type: String })\n  get layout(): ControlLayout {\n    return this._layout;\n  }\n\n  set layout(value: ControlLayout) {\n    const oldValue = this._layout;\n    this._layout = value ? (value.replace('-inline', '') as ControlLayout) : defaultFormLayout; // auto convert any form-layouts from parent groups\n    this.requestUpdate('layout', oldValue);\n  }\n\n  private _layout: ControlLayout = defaultFormLayout;\n\n  @internalProperty({ type: Boolean, reflect: true }) protected focused = false;\n\n  @internalProperty({ type: Boolean, reflect: true }) protected disabled = false;\n\n  @internalProperty() protected fixedControlWidth = false;\n\n  @internalProperty() protected supportsPrefixSuffixActions = true;\n\n  @internalProperty()\n  protected get isRTL() {\n    return getElementLanguageDirection(this) === 'rtl';\n  }\n\n  /** @private Used for hiding label for input groups */\n  @internalProperty() hiddenLabel = false;\n\n  /** @private Used for control/form groups */\n  @querySlot('input, select, textarea, [cds-control]', {\n    required: 'error',\n    requiredMessage: 'input element is missing',\n    assign: 'input',\n  })\n  inputControl: HTMLInputElement;\n\n  @querySlot('label', {\n    required: 'error',\n    requiredMessage: 'To meet a11y standards a <label> should be provided.',\n    assign: 'label',\n  })\n  protected label: HTMLLabelElement;\n\n  /** @private */\n  @query('cds-internal-control-label[action=primary]') controlLabel: CdsInternalControlLabel;\n\n  @querySlot('datalist') protected datalistControl: HTMLDataListElement;\n\n  @querySlotAll('cds-control-message') protected messages: NodeListOf<CdsControlMessage>;\n\n  @querySlotAll('cds-control-action') protected controlActions: NodeListOf<CdsControlAction>;\n\n  @id() protected inputControlId: string;\n\n  @query('.prefix') private prefixAction: HTMLElement;\n\n  @query('.suffix') private suffixAction: HTMLElement;\n\n  @query('.messages') private messageSlot: HTMLElement;\n\n  @event() layoutChange: EventEmitter<ControlLayout>;\n\n  protected observers: (MutationObserver | ResizeObserver)[] = [];\n\n  static get styles() {\n    return [baseStyles, styles];\n  }\n\n  render() {\n    return html`\n      ${this.hiddenLabel ? html`<span cds-layout=\"display:screen-reader-only\"><slot name=\"label\"></slot></span>` : ''}\n      <div\n        cds-layout=\"${this.layout === 'vertical' ? 'vertical gap:sm' : 'horizontal gap:lg'} align:stretch\"\n        class=\"private-host ${this.isRTL ? 'rtl' : ''}\"\n      >\n        ${this.primaryLabelTemplate}\n        <div\n          cds-layout=\"\n          ${this.layout === 'compact' ? 'horizontal' : 'vertical'}\n          ${this.controlWidth === 'stretch' && !this.fixedControlWidth ? 'align:horizontal-stretch' : ''}\n          ${this.messages?.length ? 'gap:sm' : ''}\"\n        >\n          <div cds-layout=\"horizontal gap:sm wrap:none\">\n            <div\n              cds-layout=\"horizontal align:top wrap:none ${this.controlWidth === 'shrink' || this.fixedControlWidth\n                ? 'align:shrink'\n                : 'align:horizontal-stretch'}\"\n              class=\"input-container\"\n            >\n              ${this.inputTemplate} ${this.prefixTemplate}\n              <slot name=\"input\"></slot>\n              ${this.suffixTemplate}\n            </div>\n            ${this.hiddenLabel ? '' : getStatusIcon(this.status)}\n          </div>\n          ${this.messagesTemplate}\n        </div>\n      </div>\n    `;\n  }\n\n  protected get inputTemplate() {\n    return html``;\n  }\n\n  protected get prefixDefaultTemplate() {\n    return html``;\n  }\n\n  protected get suffixDefaultTemplate() {\n    return html``;\n  }\n\n  private get primaryLabelTemplate() {\n    return html`\n      ${!this.hiddenLabel\n        ? html` <cds-internal-control-label\n            .disabled=\"${this.disabled}\"\n            cds-layout=\"align:shrink align:top\"\n            action=\"primary\"\n          >\n            <slot name=\"label\"></slot>\n          </cds-internal-control-label>`\n        : ''}\n    `;\n  }\n\n  protected get messagesTemplate() {\n    return html`\n      <div cds-layout=\"${this.layout === 'compact' ? 'align:shrink' : ''}\" class=\"messages\">\n        <slot name=\"message\"></slot>\n      </div>\n    `;\n  }\n\n  private get prefixTemplate() {\n    return html`\n      <div cds-layout=\"align:shrink align:vertical-center\" class=\"prefix\">\n        <div cds-layout=\"horizontal gap:xs\">\n          ${this.prefixDefaultTemplate}\n          <slot name=\"prefix\"></slot>\n        </div>\n      </div>\n    `;\n  }\n\n  private get suffixTemplate() {\n    return html`\n      <div cds-layout=\"align:shrink align:vertical-center\" class=\"suffix\">\n        <div cds-layout=\"horizontal gap:xs\">\n          <slot name=\"suffix\"></slot>\n          ${this.suffixDefaultTemplate}\n        </div>\n      </div>\n    `;\n  }\n\n  constructor() {\n    super();\n    ClarityIcons.addIcons(exclamationCircleIcon, checkCircleIcon);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.setAttribute('cds-control', '');\n  }\n\n  firstUpdated(props: Map<string, any>) {\n    super.firstUpdated(props);\n    associateInputAndLabel(this.inputControl, this.label, this.inputControlId);\n    associateInputToDatalist(this.inputControl, this.datalistControl);\n    this.setupHostAttributes();\n    this.setupHTML5Validation();\n    this.setActionOffsetPadding();\n    this.setupResponsive();\n    this.setupDescribedByUpdates();\n  }\n\n  updated(props: Map<string, any>) {\n    super.updated(props);\n    syncProps(this.inputControl, this, { disabled: props.has('disabled') });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.observers.forEach(o => o.disconnect());\n  }\n\n  private setupDescribedByUpdates() {\n    this.messageSlot?.addEventListener('slotchange', async () => {\n      describeElementByElements(this.inputControl, Array.from(this.messages));\n      getCurrentMessageStatus(Array.from(this.messages)).then(s => (this.status = s));\n    });\n  }\n\n  private setupHostAttributes() {\n    this.inputControl.addEventListener('focusin', () => (this.focused = true));\n    this.inputControl.addEventListener('focusout', () => (this.focused = false));\n    this.disabled = this.inputControl.disabled;\n    this.observers.push(\n      listenForAttributeChange(this.inputControl, 'disabled', () => (this.disabled = this.inputControl.disabled))\n    );\n  }\n\n  private setupHTML5Validation() {\n    if (!this.inputControl?.form?.noValidate && this.validate) {\n      syncHTML5Validation(this, Array.from(this.messages));\n    }\n  }\n\n  private async setActionOffsetPadding() {\n    await childrenUpdateComplete(this.controlActions);\n    if (this.supportsPrefixSuffixActions) {\n      const start = `${this.prefixAction.getBoundingClientRect().width + 6}px`;\n      const end = `${this.suffixAction.getBoundingClientRect().width + 6}px`;\n      this.inputControl.style.setProperty('padding-left', this.isRTL ? end : start, 'important');\n      this.inputControl.style.setProperty('padding-right', this.isRTL ? start : end, 'important');\n    }\n  }\n\n  get layoutStable() {\n    return this.hiddenLabel || !controlIsWrapped(this.inputControl, this.controlLabel, this.layout);\n  }\n\n  private setupResponsive() {\n    if (supportsResizeObserver() && this.responsive && !this.hiddenLabel && this.controlLabel) {\n      const layoutConfig = { layouts: formLayouts, initialLayout: this.layout };\n      const observer = updateComponentLayout(this, layoutConfig, () =>\n        this.layoutChange.emit(this.layout, { bubbles: true })\n      );\n      this.observers.push(observer);\n    }\n  }\n}\n"]}