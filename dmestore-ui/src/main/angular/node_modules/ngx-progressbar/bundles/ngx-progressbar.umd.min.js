!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-progressbar",["exports","rxjs","rxjs/operators","@angular/core","@angular/common"],e):e((t=t||self)["ngx-progressbar"]={},t.rxjs,t.rxjs.operators,t.ng.core,t.ng.common)}(this,(function(t,e,r,i,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var o=function(){return(o=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function s(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function p(t,e){return function(r,i){e(r,i,t)}}function c(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return s}var a=function(){function t(t,i){var n=this;this._onDestroyCallback=i,this._started=new e.Subject,this.started=this._started.pipe(r.filter((function(){return!n.isStarted}))),this._completed=new e.Subject,this.completed=this._completed.pipe(r.filter((function(){return n.isStarted}))),this._trickling=new e.Subject,this._worker=e.Subscription.EMPTY,this._state=new e.BehaviorSubject({active:!1,value:0}),this._config=new e.BehaviorSubject(t),this.state=this._state.asObservable(),this.config=this._state.asObservable(),this._worker=e.combineLatest(this._trickling,this._config).pipe(r.debounce((function(t){var r=c(t,2),i=r[0],n=r[1];return e.timer(i?n.debounceTime:0)})),r.switchMap((function(t){var e=c(t,2),r=e[0],i=e[1];return r?n.onTrickling(i):n.onComplete(i)}))).subscribe()}return Object.defineProperty(t.prototype,"currState",{get:function(){return this._state.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.currState.active},enumerable:!0,configurable:!0}),t.prototype.start=function(){this._started.next(),this._trickling.next(!0)},t.prototype.complete=function(){this._trickling.next(!1)},t.prototype.inc=function(t){var e=this.currState.value;this.isStarted?("number"!=typeof t&&(t=this._config.value.trickleFunc(e)),this.set(e+t)):this.start()},t.prototype.set=function(t){this.setState({value:this.clamp(t),active:!0})},t.prototype.setConfig=function(t){this._config.next(o(o({},this._config.value),t))},t.prototype.destroy=function(){this._worker.unsubscribe(),this._trickling.complete(),this._state.complete(),this._config.complete(),this._started.complete(),this._completed.complete(),this._onDestroyCallback()},t.prototype.setState=function(t){this._state.next(o(o({},this.currState),t))},t.prototype.clamp=function(t){return Math.max(this._config.value.min,Math.min(this._config.value.max,t))},t.prototype.onTrickling=function(t){var i=this;return this.isStarted||this.set(this._config.value.min),e.timer(0,t.trickleSpeed).pipe(r.tap((function(){return i.inc()})))},t.prototype.onComplete=function(t){var i=this;return this._completed.next(),this.isStarted?e.of({}).pipe(r.tap((function(){return i.setState({value:100})})),r.delay(1.7*t.speed),r.tap((function(){return i.setState({active:!1})})),r.delay(t.speed),r.finalize((function(){return i.setState({value:0})})),r.takeUntil(this._started)):e.EMPTY},t}(),h=new i.InjectionToken("ngProgressConfig"),d=function(t){return t>=0&&t<20?10:t>=20&&t<50?4:t>=50&&t<80?2:t>=80&&t<99?.5:0},u={min:8,max:100,speed:200,debounceTime:0,trickleSpeed:300,fixed:!0,meteor:!0,thick:!1,spinner:!0,ease:"linear",color:"#1B95E0",direction:"ltr+",spinnerPosition:"right",trickleFunc:d},l=function(){function t(t){this._instances=new Map,this.config=t?o(o({},u),t):u}return t.prototype.ref=function(t,e){if(void 0===t&&(t="root"),this._instances.has(t)){var r=this._instances.get(t);return e&&r.setConfig(o(o({},this.config),e)),r}r=new a(o(o({},this.config),e),this.deleteInstance(t));return this._instances.set(t,r).get(t)},t.prototype.destroyAll=function(){this._instances.forEach((function(t){return t.destroy()}))},t.prototype.deleteInstance=function(t){var e=this;return function(){e._instances.delete(t)}},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Optional},{type:i.Inject,args:[h]}]}]},t.ɵprov=i.ɵɵdefineInjectable({factory:function(){return new t(i.ɵɵinject(h,8))},token:t,providedIn:"root"}),t=s([i.Injectable({providedIn:"root"}),p(0,i.Optional()),p(0,i.Inject(h))],t)}(),g=function(){function t(t){this._ngProgress=t,this._started=e.Subscription.EMPTY,this._completed=e.Subscription.EMPTY,this.id="root",this.min=this._ngProgress.config.min,this.max=this._ngProgress.config.max,this.ease=this._ngProgress.config.ease,this.color=this._ngProgress.config.color,this.speed=this._ngProgress.config.speed,this.thick=this._ngProgress.config.thick,this.fixed=this._ngProgress.config.fixed,this.meteor=this._ngProgress.config.meteor,this.spinner=this._ngProgress.config.spinner,this.trickleSpeed=this._ngProgress.config.trickleSpeed,this.debounceTime=this._ngProgress.config.debounceTime,this.trickleFunc=this._ngProgress.config.trickleFunc,this.spinnerPosition=this._ngProgress.config.spinnerPosition,this.direction=this._ngProgress.config.direction,this.started=new i.EventEmitter,this.completed=new i.EventEmitter}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.progressRef.isStarted},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this.progressRef instanceof a&&this.progressRef.setConfig({max:this.max>0&&this.max<=100?this.max:100,min:this.min<100&&this.min>=0?this.min:0,speed:this.speed,trickleSpeed:this.trickleSpeed,trickleFunc:this.trickleFunc,debounceTime:this.debounceTime})},t.prototype.ngOnInit=function(){var t=this;this.progressRef=this._ngProgress.ref(this.id,{max:this.max,min:this.min,speed:this.speed,trickleSpeed:this.trickleSpeed,debounceTime:this.debounceTime}),this.state$=this.progressRef.state.pipe(r.map((function(t){return{active:t.active,transform:"translate3d("+t.value+"%,0,0)"}}))),this.started.observers.length&&(this._started=this.progressRef.started.subscribe((function(){return t.started.emit()}))),this.completed.observers.length&&(this._completed=this.progressRef.completed.subscribe((function(){return t.completed.emit()})))},t.prototype.ngOnDestroy=function(){this._started.unsubscribe(),this._completed.unsubscribe(),this.progressRef instanceof a&&this.progressRef.destroy()},t.prototype.start=function(){this.progressRef.start()},t.prototype.complete=function(){this.progressRef.complete()},t.prototype.inc=function(t){this.progressRef.inc(t)},t.prototype.set=function(t){this.progressRef.set(t)},t.ctorParameters=function(){return[{type:l}]},s([i.Input()],t.prototype,"id",void 0),s([i.Input()],t.prototype,"min",void 0),s([i.Input()],t.prototype,"max",void 0),s([i.Input()],t.prototype,"ease",void 0),s([i.Input()],t.prototype,"color",void 0),s([i.Input()],t.prototype,"speed",void 0),s([i.Input()],t.prototype,"thick",void 0),s([i.Input()],t.prototype,"fixed",void 0),s([i.Input()],t.prototype,"meteor",void 0),s([i.Input()],t.prototype,"spinner",void 0),s([i.Input()],t.prototype,"trickleSpeed",void 0),s([i.Input()],t.prototype,"debounceTime",void 0),s([i.Input()],t.prototype,"trickleFunc",void 0),s([i.Input()],t.prototype,"spinnerPosition",void 0),s([i.Input()],t.prototype,"direction",void 0),s([i.Output()],t.prototype,"started",void 0),s([i.Output()],t.prototype,"completed",void 0),t=s([i.Component({selector:"ng-progress",host:{role:"progressbar","[attr.spinnerPosition]":"spinnerPosition","[attr.dir]":"direction","[attr.thick]":"thick","[attr.fixed]":"fixed"},template:'\n    <ng-container *ngIf="state$ | async; let state">\n      <div class="ng-progress-bar"\n            [attr.active]="state.active"\n            [style.transition]="\'opacity \' + speed + \'ms \' + ease">\n        <div class="ng-bar-placeholder">\n          <div class="ng-bar"\n                [style.transform]="state.transform"\n                [style.backgroundColor]="color"\n                [style.transition]="state.active ? \'all \' + speed + \'ms \' + ease : \'none\'">\n            <div *ngIf="meteor" class="ng-meteor" [style.boxShadow]="\'0 0 10px \'+ color + \', 0 0 5px \' + color"></div>\n          </div>\n        </div>\n        <div *ngIf="spinner" class="ng-spinner">\n          <div class="ng-spinner-icon"\n                [style.borderTopColor]="color"\n                [style.borderLeftColor]="color"></div>\n        </div>\n      </div>\n    </ng-container>\n  ',changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[':host{z-index:999999;pointer-events:none}:host[fixed=true] .ng-progress-bar,:host[fixed=true] .ng-spinner{position:fixed}:host[fixed=true] .ng-spinner{top:15px}:host[fixed=true][spinnerPosition=left] .ng-spinner{left:15px}:host[fixed=true][spinnerPosition=right] .ng-spinner{right:15px}:host[thick=true] .ng-spinner-icon{width:24px;height:24px;border-width:3px}:host[thick=true] .ng-bar-placeholder{height:3px!important}:host[dir="ltr+"] .ng-meteor,:host[dir=ltr-] .ng-meteor{transform:rotate(3deg)}:host[dir="ltr+"][thick=true] .ng-meteor,:host[dir=ltr-][thick=true] .ng-meteor{transform:rotate(4deg)}:host[dir="ltr+"] .ng-bar,:host[dir="rtl+"] .ng-bar{margin-left:-100%}:host[dir="ltr+"] .ng-meteor,:host[dir="rtl+"] .ng-meteor{right:0}:host[dir="ltr+"] .ng-meteor,:host[dir=rtl-] .ng-meteor{top:-3px}:host[dir="ltr+"][thick=true] .ng-meteor,:host[dir=rtl-][thick=true] .ng-meteor{top:-4px}:host[dir="rtl+"] .ng-meteor,:host[dir=ltr-] .ng-meteor{bottom:-3px}:host[dir="rtl+"][thick=true] .ng-meteor,:host[dir=ltr-][thick=true] .ng-meteor{bottom:-4px}:host[dir="rtl+"] .ng-bar-placeholder,:host[dir=ltr-] .ng-bar-placeholder{transform:rotate(180deg)}:host[dir="rtl+"] .ng-spinner-icon,:host[dir=ltr-] .ng-spinner-icon{animation-direction:reverse}:host[dir="rtl+"] .ng-meteor,:host[dir=rtl-] .ng-meteor{transform:rotate(-3deg)}:host[dir="rtl+"][thick=true] .ng-meteor,:host[dir=rtl-][thick=true] .ng-meteor{transform:rotate(-4deg)}:host[spinnerPosition=left] .ng-spinner{left:10px}:host[spinnerPosition=right] .ng-spinner{right:10px}.ng-progress-bar{position:relative;z-index:999999;top:0;left:0;width:100%;zoom:1;opacity:0}.ng-progress-bar[active=true]{opacity:1;transition:none}.ng-bar-placeholder{position:absolute;height:2px;width:100%}.ng-bar{width:100%;height:100%;transform:translate(-100%,0,0)}.ng-meteor{display:block;position:absolute;width:100px;height:100%;opacity:1}.ng-spinner{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon{width:18px;height:18px;box-sizing:border-box;-webkit-animation:250ms linear infinite spinner-animation;animation:250ms linear infinite spinner-animation;border:2px solid transparent;border-radius:50%}@-webkit-keyframes spinner-animation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes spinner-animation{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}']})],t)}(),f=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:h,useValue:t}]}},t=e=s([i.NgModule({declarations:[g],exports:[g],imports:[n.CommonModule]})],t)}();t.NG_PROGRESS_CONFIG=h,t.NgProgress=l,t.NgProgressComponent=g,t.NgProgressModule=f,t.NgProgressRef=a,t.ɵ0=d,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-progressbar.umd.min.js.map