!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/forms"),require("@angular/material/form-field"),require("@angular/cdk/a11y"),require("@angular/core"),require("@ngx-formly/core"),require("rxjs")):"function"==typeof define&&define.amd?define("@ngx-formly/material/form-field",["exports","@angular/common","@angular/forms","@angular/material/form-field","@angular/cdk/a11y","@angular/core","@ngx-formly/core","rxjs"],t):t((e["ngx-formly"]=e["ngx-formly"]||{},e["ngx-formly"].material=e["ngx-formly"].material||{},e["ngx-formly"].material["form-field"]={}),e.ng.common,e.ng.forms,e.ng.material["form-field"],e.ng.cdk.a11y,e.ng.core,e.core$1,e.rxjs)}(this,function(e,t,r,o,n,l,a,f){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function u(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){function e(e){this.field=e}return e.prototype.isErrorState=function(e,t){return this.field&&this.field.showError},e}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.errorStateMatcher=new s(e),e.stateChanges=new f.Subject,e._errorState=!1,e}return u(e,t),Object.defineProperty(e.prototype,"formFieldControl",{get:function(){return this._control||this},set:function(e){this._control=e,this.formField&&e!==this.formField._control&&(this.formField._control=e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.formField&&(this.formField._control=this.formFieldControl)},e.prototype.ngAfterViewInit=function(){var e=this;(this.matPrefix||this.matSuffix)&&setTimeout(function(){a.ɵdefineHiddenProp(e.field,"_matprefix",e.matPrefix),a.ɵdefineHiddenProp(e.field,"_matsuffix",e.matSuffix),e.options._markForCheck(e.field)})},e.prototype.ngOnDestroy=function(){this.formField&&delete this.formField._control,this.stateChanges.complete()},e.prototype.setDescribedByIds=function(e){},e.prototype.onContainerClick=function(e){this.field.focus=!0,this.stateChanges.next()},Object.defineProperty(e.prototype,"errorState",{get:function(){var e=this.options.showError(this);return e!==this._errorState&&(this._errorState=e,this.stateChanges.next()),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlType",{get:function(){return this.to.type?this.to.type:this.field.type instanceof l.Type?this.field.type.constructor.name:this.field.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return!!this.field.focus&&!this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this.to.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return!!this.to.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.to.placeholder||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldPlaceholderFloat",{get:function(){return this.shouldLabelFloat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.formControl.value},set:function(e){this.formControl.patchValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngControl",{get:function(){return this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.value===undefined||null===this.value||""===this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formField",{get:function(){return this.field?this.field.__formField__:null},enumerable:!0,configurable:!0}),e.propDecorators={matPrefix:[{type:l.ViewChild,args:["matPrefix"]}],matSuffix:[{type:l.ViewChild,args:["matSuffix"]}]},e}(a.FieldType),p=function(i){function e(e,t,r,o){var n=i.call(this)||this;return n.config=e,n.renderer=t,n.elementRef=r,n.focusMonitor=o,n.stateChanges=new f.Subject,n._errorState=!1,n.initialGapCalculated=!1,n}return u(e,i),e.prototype.ngOnInit=function(){var t=this;this.formField._control=this,a.ɵdefineHiddenProp(this.field,"__formField__",this.formField);var e=this.config.resolveFieldTypeRef(this.formlyField);!e||e.instance instanceof c||console.warn("Component '"+e.componentType.name+"' must extend 'FieldType' from '@ngx-formly/material/form-field'."),this.formlyField.hide&&"outline"===this.formlyField.templateOptions.appearance&&(this.initialGapCalculated=!0),this.focusMonitor.monitor(this.elementRef,!0).subscribe(function(e){!e&&t.field.focus&&(t.field.focus=!1),t.stateChanges.next()})},e.prototype.ngAfterContentChecked=function(){this.initialGapCalculated&&!this.formlyField.hide&&(this.formField.updateOutlineGap(),this.initialGapCalculated=!0)},e.prototype.ngAfterViewInit=function(){if("outline"!==this.formField.appearance&&!0===this.to.hideFieldUnderline){var e=this.formField._elementRef.nativeElement.querySelector(".mat-form-field-underline");e&&this.renderer.removeChild(e.parentNode,e)}},e.prototype.ngOnDestroy=function(){delete this.formlyField.__formField__,this.stateChanges.complete(),this.focusMonitor.stopMonitoring(this.elementRef)},e.prototype.setDescribedByIds=function(e){},e.prototype.onContainerClick=function(e){this.formlyField.focus=!0,this.stateChanges.next()},Object.defineProperty(e.prototype,"errorState",{get:function(){var e=this.options.showError(this);return e!==this._errorState&&(this._errorState=e,this.stateChanges.next()),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlType",{get:function(){return this.to.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return!!this.formlyField.focus&&!this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this.to.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return!!this.to.required},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.to.placeholder||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldPlaceholderFloat",{get:function(){return this.shouldLabelFloat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.formControl.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngControl",{get:function(){return this.formControl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this.formControl.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formlyField",{get:function(){return this.field},enumerable:!0,configurable:!0}),e.decorators=[{type:l.Component,args:[{selector:"formly-wrapper-mat-form-field",template:'\n    \x3c!-- fix https://github.com/angular/material2/pull/7083 by setting width to 100% --\x3e\n    <mat-form-field\n      [hideRequiredMarker]="true"\n      [floatLabel]="to.floatLabel"\n      [appearance]="to.appearance"\n      [color]="to.color"\n      [style.width]="\'100%\'">\n      <ng-container #fieldComponent></ng-container>\n      <mat-label *ngIf="to.label && to.hideLabel !== true">\n        {{ to.label }}\n        <span *ngIf="to.required && to.hideRequiredMarker !== true" class="mat-form-field-required-marker">*</span>\n      </mat-label>\n\n      <ng-container matPrefix>\n        <ng-container *ngTemplateOutlet="to.prefix ? to.prefix : formlyField._matprefix"></ng-container>\n      </ng-container>\n\n      <ng-container matSuffix>\n        <ng-container *ngTemplateOutlet="to.suffix ? to.suffix : formlyField._matsuffix"></ng-container>\n      </ng-container>\n\n      \x3c!-- fix https://github.com/angular/material2/issues/7737 by setting id to null  --\x3e\n      <mat-error [id]="null">\n        <formly-validation-message [field]="field"></formly-validation-message>\n      </mat-error>\n      \x3c!-- fix https://github.com/angular/material2/issues/7737 by setting id to null  --\x3e\n      <mat-hint *ngIf="to.description" [id]="null">{{ to.description }}</mat-hint>\n    </mat-form-field>\n  ',providers:[{provide:o.MatFormFieldControl,useExisting:e}]}]}],e.ctorParameters=function(){return[{type:a.FormlyConfig},{type:l.Renderer2},{type:l.ElementRef},{type:n.FocusMonitor}]},e.propDecorators={fieldComponent:[{type:l.ViewChild,args:["fieldComponent",{read:l.ViewContainerRef,"static":!0}]}],formField:[{type:l.ViewChild,args:[o.MatFormField,{"static":!0}]}]},e}(a.FieldWrapper),d=function(){function e(){}return e.decorators=[{type:l.NgModule,args:[{declarations:[p],imports:[t.CommonModule,r.ReactiveFormsModule,o.MatFormFieldModule,a.FormlyModule.forChild({wrappers:[{name:"form-field",component:p}]})]}]}],e}();e.FormlyMatFormFieldModule=d,e.FieldType=c,e.ɵa=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-formly-material-form-field.umd.min.js.map