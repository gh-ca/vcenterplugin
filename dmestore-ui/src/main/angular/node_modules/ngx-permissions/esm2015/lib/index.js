import { NgModule } from '@angular/core';
import { NgxPermissionsDirective } from './directive/permissions.directive';
import { NgxPermissionsService, USE_PERMISSIONS_STORE } from './service/permissions.service';
import { NgxPermissionsGuard } from './router/permissions-guard.service';
import { NgxRolesService, USE_ROLES_STORE } from './service/roles.service';
import { NgxPermissionsStore } from './store/permissions.store';
import { NgxRolesStore } from './store/roles.store';
import { NgxPermissionsAllowStubDirective } from './testing/permissions-allow.directive.stub';
import { NgxPermissionsRestrictStubDirective } from './testing/permissions-restrict.directive.stub';
import { NgxPermissionsConfigurationService, USE_CONFIGURATION_STORE } from './service/configuration.service';
import { NgxPermissionsConfigurationStore } from './store/configuration.store';
export * from './store/roles.store';
export * from './store/permissions.store';
export * from './store/configuration.store';
export * from './directive/permissions.directive';
export * from './service/permissions.service';
export * from './service/roles.service';
export * from './service/configuration.service';
export * from './router/permissions-guard.service';
export * from './model/permissions-router-data.model';
export * from './model/role.model';
export * from './testing/permissions-allow.directive.stub';
export * from './testing/permissions-restrict.directive.stub';
export * from './enums/predefined-strategies.enum';
export class NgxPermissionsModule {
    static forRoot(config = {}) {
        return {
            ngModule: NgxPermissionsModule,
            providers: [
                NgxPermissionsStore,
                NgxRolesStore,
                NgxPermissionsConfigurationStore,
                NgxPermissionsService,
                NgxPermissionsGuard,
                NgxRolesService,
                NgxPermissionsConfigurationService,
                { provide: USE_PERMISSIONS_STORE, useValue: config.permissionsIsolate },
                { provide: USE_ROLES_STORE, useValue: config.rolesIsolate },
                { provide: USE_CONFIGURATION_STORE, useValue: config.configurationIsolate },
            ]
        };
    }
    static forChild(config = {}) {
        return {
            ngModule: NgxPermissionsModule,
            providers: [
                { provide: USE_PERMISSIONS_STORE, useValue: config.permissionsIsolate },
                { provide: USE_ROLES_STORE, useValue: config.rolesIsolate },
                { provide: USE_CONFIGURATION_STORE, useValue: config.configurationIsolate },
                NgxPermissionsConfigurationService,
                NgxPermissionsService,
                NgxRolesService,
                NgxPermissionsGuard
            ]
        };
    }
}
NgxPermissionsModule.decorators = [
    { type: NgModule, args: [{
                imports: [],
                declarations: [
                    NgxPermissionsDirective
                ],
                exports: [
                    NgxPermissionsDirective
                ]
            },] }
];
export class NgxPermissionsAllowStubModule {
}
NgxPermissionsAllowStubModule.decorators = [
    { type: NgModule, args: [{
                imports: [],
                declarations: [
                    NgxPermissionsAllowStubDirective
                ],
                exports: [
                    NgxPermissionsAllowStubDirective
                ]
            },] }
];
export class NgxPermissionsRestrictStubModule {
}
NgxPermissionsRestrictStubModule.decorators = [
    { type: NgModule, args: [{
                imports: [],
                declarations: [
                    NgxPermissionsRestrictStubDirective
                ],
                exports: [
                    NgxPermissionsRestrictStubDirective
                ]
            },] }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtcGVybWlzc2lvbnMvc3JjL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUF1QixNQUFNLGVBQWUsQ0FBQztBQUM5RCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxtQ0FBbUMsQ0FBQztBQUM1RSxPQUFPLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUM3RixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUN6RSxPQUFPLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSw0Q0FBNEMsQ0FBQztBQUM5RixPQUFPLEVBQUUsbUNBQW1DLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUNwRyxPQUFPLEVBQUUsa0NBQWtDLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxpQ0FBaUMsQ0FBQztBQUM5RyxPQUFPLEVBQUUsZ0NBQWdDLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUUvRSxjQUFjLHFCQUFxQixDQUFDO0FBQ3BDLGNBQWMsMkJBQTJCLENBQUM7QUFDMUMsY0FBYyw2QkFBNkIsQ0FBQztBQUU1QyxjQUFjLG1DQUFtQyxDQUFDO0FBRWxELGNBQWMsK0JBQStCLENBQUM7QUFDOUMsY0FBYyx5QkFBeUIsQ0FBQztBQUN4QyxjQUFjLGlDQUFpQyxDQUFDO0FBRWhELGNBQWMsb0NBQW9DLENBQUM7QUFFbkQsY0FBYyx1Q0FBdUMsQ0FBQztBQUN0RCxjQUFjLG9CQUFvQixDQUFDO0FBRW5DLGNBQWMsNENBQTRDLENBQUM7QUFDM0QsY0FBYywrQ0FBK0MsQ0FBQztBQUU5RCxjQUFjLG9DQUFvQyxDQUFDO0FBbUJuRCxNQUFNLE9BQU8sb0JBQW9CO0lBQzdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBcUMsRUFBRTtRQUNsRCxPQUFPO1lBQ0gsUUFBUSxFQUFFLG9CQUFvQjtZQUM5QixTQUFTLEVBQUU7Z0JBQ1AsbUJBQW1CO2dCQUNuQixhQUFhO2dCQUNiLGdDQUFnQztnQkFDaEMscUJBQXFCO2dCQUNyQixtQkFBbUI7Z0JBQ25CLGVBQWU7Z0JBQ2Ysa0NBQWtDO2dCQUNsQyxFQUFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLGtCQUFrQixFQUFDO2dCQUNyRSxFQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxZQUFZLEVBQUM7Z0JBQ3pELEVBQUMsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsb0JBQW9CLEVBQUM7YUFDNUU7U0FDSixDQUFDO0lBQ04sQ0FBQztJQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsU0FBcUMsRUFBRTtRQUNuRCxPQUFPO1lBQ0gsUUFBUSxFQUFFLG9CQUFvQjtZQUM5QixTQUFTLEVBQUU7Z0JBQ1AsRUFBQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxrQkFBa0IsRUFBQztnQkFDckUsRUFBQyxPQUFPLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFDO2dCQUN6RCxFQUFDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLG9CQUFvQixFQUFDO2dCQUN6RSxrQ0FBa0M7Z0JBQ2xDLHFCQUFxQjtnQkFDckIsZUFBZTtnQkFDZixtQkFBbUI7YUFDdEI7U0FDSixDQUFDO0lBQ04sQ0FBQzs7O1lBekNKLFFBQVEsU0FBQztnQkFDTixPQUFPLEVBQUUsRUFBRTtnQkFDWCxZQUFZLEVBQUU7b0JBQ1YsdUJBQXVCO2lCQUMxQjtnQkFDRCxPQUFPLEVBQUU7b0JBQ0wsdUJBQXVCO2lCQUMxQjthQUNKOztBQTZDRCxNQUFNLE9BQU8sNkJBQTZCOzs7WUFUekMsUUFBUSxTQUFDO2dCQUNOLE9BQU8sRUFBRSxFQUFFO2dCQUNYLFlBQVksRUFBRTtvQkFDVixnQ0FBZ0M7aUJBQ25DO2dCQUNELE9BQU8sRUFBRTtvQkFDTCxnQ0FBZ0M7aUJBQ25DO2FBQ0o7O0FBY0QsTUFBTSxPQUFPLGdDQUFnQzs7O1lBVDVDLFFBQVEsU0FBQztnQkFDTixPQUFPLEVBQUUsRUFBRTtnQkFDWCxZQUFZLEVBQUU7b0JBQ1YsbUNBQW1DO2lCQUN0QztnQkFDRCxPQUFPLEVBQUU7b0JBQ0wsbUNBQW1DO2lCQUN0QzthQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5neFBlcm1pc3Npb25zRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmUvcGVybWlzc2lvbnMuZGlyZWN0aXZlJztcbmltcG9ydCB7IE5neFBlcm1pc3Npb25zU2VydmljZSwgVVNFX1BFUk1JU1NJT05TX1NUT1JFIH0gZnJvbSAnLi9zZXJ2aWNlL3Blcm1pc3Npb25zLnNlcnZpY2UnO1xuaW1wb3J0IHsgTmd4UGVybWlzc2lvbnNHdWFyZCB9IGZyb20gJy4vcm91dGVyL3Blcm1pc3Npb25zLWd1YXJkLnNlcnZpY2UnO1xuaW1wb3J0IHsgTmd4Um9sZXNTZXJ2aWNlLCBVU0VfUk9MRVNfU1RPUkUgfSBmcm9tICcuL3NlcnZpY2Uvcm9sZXMuc2VydmljZSc7XG5pbXBvcnQgeyBOZ3hQZXJtaXNzaW9uc1N0b3JlIH0gZnJvbSAnLi9zdG9yZS9wZXJtaXNzaW9ucy5zdG9yZSc7XG5pbXBvcnQgeyBOZ3hSb2xlc1N0b3JlIH0gZnJvbSAnLi9zdG9yZS9yb2xlcy5zdG9yZSc7XG5pbXBvcnQgeyBOZ3hQZXJtaXNzaW9uc0FsbG93U3R1YkRpcmVjdGl2ZSB9IGZyb20gJy4vdGVzdGluZy9wZXJtaXNzaW9ucy1hbGxvdy5kaXJlY3RpdmUuc3R1Yic7XG5pbXBvcnQgeyBOZ3hQZXJtaXNzaW9uc1Jlc3RyaWN0U3R1YkRpcmVjdGl2ZSB9IGZyb20gJy4vdGVzdGluZy9wZXJtaXNzaW9ucy1yZXN0cmljdC5kaXJlY3RpdmUuc3R1Yic7XG5pbXBvcnQgeyBOZ3hQZXJtaXNzaW9uc0NvbmZpZ3VyYXRpb25TZXJ2aWNlLCBVU0VfQ09ORklHVVJBVElPTl9TVE9SRSB9IGZyb20gJy4vc2VydmljZS9jb25maWd1cmF0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgTmd4UGVybWlzc2lvbnNDb25maWd1cmF0aW9uU3RvcmUgfSBmcm9tICcuL3N0b3JlL2NvbmZpZ3VyYXRpb24uc3RvcmUnO1xuXG5leHBvcnQgKiBmcm9tICcuL3N0b3JlL3JvbGVzLnN0b3JlJztcbmV4cG9ydCAqIGZyb20gJy4vc3RvcmUvcGVybWlzc2lvbnMuc3RvcmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zdG9yZS9jb25maWd1cmF0aW9uLnN0b3JlJztcblxuZXhwb3J0ICogZnJvbSAnLi9kaXJlY3RpdmUvcGVybWlzc2lvbnMuZGlyZWN0aXZlJztcblxuZXhwb3J0ICogZnJvbSAnLi9zZXJ2aWNlL3Blcm1pc3Npb25zLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9zZXJ2aWNlL3JvbGVzLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9zZXJ2aWNlL2NvbmZpZ3VyYXRpb24uc2VydmljZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vcm91dGVyL3Blcm1pc3Npb25zLWd1YXJkLnNlcnZpY2UnO1xuXG5leHBvcnQgKiBmcm9tICcuL21vZGVsL3Blcm1pc3Npb25zLXJvdXRlci1kYXRhLm1vZGVsJztcbmV4cG9ydCAqIGZyb20gJy4vbW9kZWwvcm9sZS5tb2RlbCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vdGVzdGluZy9wZXJtaXNzaW9ucy1hbGxvdy5kaXJlY3RpdmUuc3R1Yic7XG5leHBvcnQgKiBmcm9tICcuL3Rlc3RpbmcvcGVybWlzc2lvbnMtcmVzdHJpY3QuZGlyZWN0aXZlLnN0dWInO1xuXG5leHBvcnQgKiBmcm9tICcuL2VudW1zL3ByZWRlZmluZWQtc3RyYXRlZ2llcy5lbnVtJztcblxuZXhwb3J0IGludGVyZmFjZSBOZ3hQZXJtaXNzaW9uc01vZHVsZUNvbmZpZyB7XG4gICAgLy8gaXNvbGF0ZSB0aGUgc2VydmljZSBpbnN0YW5jZSwgb25seSB3b3JrcyBmb3IgbGF6eSBsb2FkZWQgbW9kdWxlcyBvciBjb21wb25lbnRzIHdpdGggdGhlIFwicHJvdmlkZXJzXCIgcHJvcGVydHlcbiAgICByb2xlc0lzb2xhdGU/OiBib29sZWFuO1xuICAgIHBlcm1pc3Npb25zSXNvbGF0ZT86IGJvb2xlYW47XG4gICAgY29uZmlndXJhdGlvbklzb2xhdGU/OiBib29sZWFuO1xufVxuXG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW10sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIE5neFBlcm1pc3Npb25zRGlyZWN0aXZlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIE5neFBlcm1pc3Npb25zRGlyZWN0aXZlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hQZXJtaXNzaW9uc01vZHVsZSB7XG4gICAgc3RhdGljIGZvclJvb3QoY29uZmlnOiBOZ3hQZXJtaXNzaW9uc01vZHVsZUNvbmZpZyA9IHt9KTogTW9kdWxlV2l0aFByb3ZpZGVyczxOZ3hQZXJtaXNzaW9uc01vZHVsZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IE5neFBlcm1pc3Npb25zTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgTmd4UGVybWlzc2lvbnNTdG9yZSxcbiAgICAgICAgICAgICAgICBOZ3hSb2xlc1N0b3JlLFxuICAgICAgICAgICAgICAgIE5neFBlcm1pc3Npb25zQ29uZmlndXJhdGlvblN0b3JlLFxuICAgICAgICAgICAgICAgIE5neFBlcm1pc3Npb25zU2VydmljZSxcbiAgICAgICAgICAgICAgICBOZ3hQZXJtaXNzaW9uc0d1YXJkLFxuICAgICAgICAgICAgICAgIE5neFJvbGVzU2VydmljZSxcbiAgICAgICAgICAgICAgICBOZ3hQZXJtaXNzaW9uc0NvbmZpZ3VyYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHtwcm92aWRlOiBVU0VfUEVSTUlTU0lPTlNfU1RPUkUsIHVzZVZhbHVlOiBjb25maWcucGVybWlzc2lvbnNJc29sYXRlfSxcbiAgICAgICAgICAgICAgICB7cHJvdmlkZTogVVNFX1JPTEVTX1NUT1JFLCB1c2VWYWx1ZTogY29uZmlnLnJvbGVzSXNvbGF0ZX0sXG4gICAgICAgICAgICAgICAge3Byb3ZpZGU6IFVTRV9DT05GSUdVUkFUSU9OX1NUT1JFLCB1c2VWYWx1ZTogY29uZmlnLmNvbmZpZ3VyYXRpb25Jc29sYXRlfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZm9yQ2hpbGQoY29uZmlnOiBOZ3hQZXJtaXNzaW9uc01vZHVsZUNvbmZpZyA9IHt9KTogTW9kdWxlV2l0aFByb3ZpZGVyczxOZ3hQZXJtaXNzaW9uc01vZHVsZT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IE5neFBlcm1pc3Npb25zTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAge3Byb3ZpZGU6IFVTRV9QRVJNSVNTSU9OU19TVE9SRSwgdXNlVmFsdWU6IGNvbmZpZy5wZXJtaXNzaW9uc0lzb2xhdGV9LFxuICAgICAgICAgICAgICAgIHtwcm92aWRlOiBVU0VfUk9MRVNfU1RPUkUsIHVzZVZhbHVlOiBjb25maWcucm9sZXNJc29sYXRlfSxcbiAgICAgICAgICAgICAgICB7cHJvdmlkZTogVVNFX0NPTkZJR1VSQVRJT05fU1RPUkUsIHVzZVZhbHVlOiBjb25maWcuY29uZmlndXJhdGlvbklzb2xhdGV9LFxuICAgICAgICAgICAgICAgIE5neFBlcm1pc3Npb25zQ29uZmlndXJhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgTmd4UGVybWlzc2lvbnNTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIE5neFJvbGVzU2VydmljZSxcbiAgICAgICAgICAgICAgICBOZ3hQZXJtaXNzaW9uc0d1YXJkXG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBOZ3hQZXJtaXNzaW9uc0FsbG93U3R1YkRpcmVjdGl2ZVxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBOZ3hQZXJtaXNzaW9uc0FsbG93U3R1YkRpcmVjdGl2ZVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgTmd4UGVybWlzc2lvbnNBbGxvd1N0dWJNb2R1bGUge1xufVxuXG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW10sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIE5neFBlcm1pc3Npb25zUmVzdHJpY3RTdHViRGlyZWN0aXZlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIE5neFBlcm1pc3Npb25zUmVzdHJpY3RTdHViRGlyZWN0aXZlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hQZXJtaXNzaW9uc1Jlc3RyaWN0U3R1Yk1vZHVsZSB7XG59XG5cblxuIl19