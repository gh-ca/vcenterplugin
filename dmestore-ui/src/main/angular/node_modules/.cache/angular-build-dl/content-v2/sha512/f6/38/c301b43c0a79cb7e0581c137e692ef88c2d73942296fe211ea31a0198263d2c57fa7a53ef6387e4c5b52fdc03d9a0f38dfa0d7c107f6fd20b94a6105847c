(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{xw5d:function(e,t,c){"use strict";c.r(t),c.d(t,"NfsModule",(function(){return _t}));var n=c("ofXK"),o=c("PCNd"),i=c("tyNb"),a=c("tMGR"),r=c("/Kh9"),s=c("b8z9"),l=c("FX80"),b=c("fXoL"),d=c("8MG2"),g=c("3Pt+"),u=c("sYmb");const h=["wizard"],p=["addPageOne"],m=["addPageTwo"];function f(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-dropdown-menu"),b.Ub(1,"div",41),b.cc("click",(function(){return b.zc(e),b.gc().reduceView()})),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Pb(4,"div",42),b.Ub(5,"div",43),b.cc("click",(function(){return b.zc(e),b.gc().mount()})),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"div",43),b.cc("click",(function(){return b.zc(e),b.gc().unmountBtnFunc()})),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Pb(11,"div",42),b.Ub(12,"div",43),b.cc("click",(function(){return b.zc(e),b.gc().delBtnFunc()})),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(1),b.mc("disabled",1!==e.rowSelected.length),b.Cb(1),b.Lc(b.ic(3,8,"menu.reduce")),b.Cb(3),b.mc("disabled",1!==e.rowSelected.length),b.Cb(1),b.Mc(" ",b.ic(7,10,"menu.mount"),""),b.Cb(2),b.mc("disabled",1!==e.rowSelected.length),b.Cb(1),b.Lc(b.ic(10,12,"menu.unmount")),b.Cb(3),b.mc("disabled",1!==e.rowSelected.length),b.Cb(1),b.Lc(b.ic(14,14,"menu.del"))}}function C(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-dg-row",44),b.Ub(1,"clr-dg-cell"),b.Ub(2,"span",45),b.cc("click",(function(){b.zc(e);const c=t.$implicit;return b.gc().navigateTo(c.objectid)})),b.Kc(3),b.Tb(),b.Tb(),b.Ub(4,"clr-dg-cell",46),b.Kc(5),b.Tb(),b.Ub(6,"clr-dg-cell",21),b.Kc(7),b.Tb(),b.Ub(8,"clr-dg-cell",21),b.Kc(9),b.Tb(),b.Ub(10,"clr-dg-cell",21),b.Pb(11,"clr-progress-bar",47),b.Tb(),b.Ub(12,"clr-dg-cell",21),b.Kc(13),b.Tb(),b.Ub(14,"clr-dg-cell",21),b.Kc(15),b.Tb(),b.Ub(16,"clr-dg-cell",21),b.Kc(17),b.Tb(),b.Ub(18,"clr-dg-cell",21),b.Kc(19),b.Tb(),b.Ub(20,"clr-dg-cell",21),b.Kc(21),b.Tb(),b.Ub(22,"clr-dg-cell",21),b.Kc(23),b.Tb(),b.Ub(24,"clr-dg-cell",21),b.Kc(25),b.Tb(),b.Ub(26,"clr-dg-cell",21),b.Kc(27),b.Tb(),b.Ub(28,"clr-dg-cell",21),b.Kc(29),b.Tb(),b.Ub(30,"clr-dg-cell",21),b.Kc(31),b.Tb(),b.Tb()}if(2&e){const e=t.$implicit,c=b.gc();b.mc("clrDgItem",e),b.Cb(3),b.Lc(e.name),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(e.status),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(c.formatCapacity(e.capacity)),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(c.formatCapacity(e.freeSpace)),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.nc("clrValue",((e.capacity-e.freeSpace)/e.capacity*100).toFixed(2)),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(c.formatCapacity(e.reserveCapacity)),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(e.device),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(e.logicPort),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(e.shareIp),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(e.sharePath),b.Cb(1),b.mc("hidden","list"!==c.radioCheck),b.Cb(1),b.Lc(e.fs),b.Cb(1),b.mc("hidden","chart"!==c.radioCheck),b.Cb(1),b.Lc(e.ops),b.Cb(1),b.mc("hidden","chart"!==c.radioCheck),b.Cb(1),b.Lc(e.bandwidth),b.Cb(1),b.mc("hidden","chart"!==c.radioCheck),b.Cb(1),b.Lc(e.readResponseTime),b.Cb(1),b.mc("hidden","chart"!==c.radioCheck),b.Cb(1),b.Lc(e.writeResponseTime)}}function T(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",48),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.fsName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.fsName")),b.Cb(2),b.mc("ngModel",e.updateNfs.fsName)}}function U(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",49),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.shareName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.shareName")),b.Cb(2),b.mc("ngModel",e.updateNfs.shareName)}}function M(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",54),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",55),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.maxBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",56),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",57),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.maxIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(3);b.Cb(2),b.Lc(b.ic(3,5,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,7,"nfs.qos_bandwidth"),"<="),b.Cb(2),b.mc("ngModel",e.updateNfs.maxBandwidth),b.Cb(5),b.Mc("",b.ic(15,9,"nfs.qos_iops"),"<="),b.Cb(2),b.mc("ngModel",e.updateNfs.maxIops)}}function v(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",58),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",59),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.minBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",60),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",61),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.minIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Ub(18,"clr-radio-wrapper"),b.Pb(19,"input",62),b.Ub(20,"label"),b.Kc(21),b.hc(22,"translate"),b.Ub(23,"input",63),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.latency=t})),b.Tb(),b.Kc(24," ms"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(3);b.Cb(2),b.Lc(b.ic(3,7,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,9,"nfs.qos_bandwidth"),">="),b.Cb(2),b.mc("ngModel",e.updateNfs.minBandwidth),b.Cb(5),b.Mc("",b.ic(15,11,"nfs.qos_iops"),">="),b.Cb(2),b.mc("ngModel",e.updateNfs.minIops),b.Cb(5),b.Mc("",b.ic(22,13,"nfs.qos_latency"),"<="),b.Cb(2),b.mc("ngModel",e.updateNfs.latency)}}function y(e,t){if(1&e&&(b.Ub(0,"div"),b.Ic(1,M,18,11,"clr-radio-container",30),b.Ic(2,v,25,15,"clr-radio-container",30),b.Tb()),2&e){const e=b.gc(2);b.Cb(1),b.mc("ngIf","up"===e.updateNfs.contolPolicy),b.Cb(1),b.mc("ngIf","low"===e.updateNfs.contolPolicy)}}function L(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-radio-container",50),b.Ub(2,"label",51),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"clr-radio-wrapper"),b.Ub(6,"input",52),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.contolPolicy=t})),b.Tb(),b.Ub(7,"label"),b.Kc(8),b.hc(9,"translate"),b.Tb(),b.Tb(),b.Ub(10,"clr-radio-wrapper"),b.Ub(11,"input",53),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.contolPolicy=t})),b.Tb(),b.Ub(12,"label"),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(15,y,3,2,"div",30),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.Lc(b.ic(4,6,"nfs.controlPolicy")),b.Cb(3),b.mc("ngModel",e.updateNfs.contolPolicy),b.Cb(2),b.Lc(b.ic(9,8,"nfs.ulc")),b.Cb(3),b.mc("ngModel",e.updateNfs.contolPolicy),b.Cb(2),b.Lc(b.ic(14,10,"nfs.llc")),b.Cb(2),b.mc("ngIf",e.updateNfs.contolPolicy)}}let I=(()=>{class e{constructor(e,t,c,n,o,i){this.remoteSrv=e,this.cdr=t,this.gs=c,this.storageService=n,this.vmfsListService=o,this.router=i,this.list=[],this.radioCheck="list",this.total=0,this.isLoading=!0,this.rowSelected=[],this.modifyShow=!1,this.expand=!1,this.mountObj="1",this.fsIds=[],this.unit="GB",this.hostList=[],this.storagePools=[],this.updateNfs=new a.l,this.errMessage=""}ngOnInit(){this.getNfsList()}getNfsList(){this.isLoading=!0,this.remoteSrv.getData().subscribe(e=>{this.list=e.data,this.isLoading=!1,this.cdr.detectChanges(),this.listnfsperformance()})}listnfsperformance(){null===this.list||this.list.length<=0||(this.list.forEach(e=>{this.fsIds.push(e.fsId)}),this.remoteSrv.getChartData(this.fsIds).subscribe(e=>{if("200"===e.code){const t=e.data;null!==t&&t.length>0&&(this.list.forEach(e=>{t.forEach(t=>{e.fsId===t.fsId&&(e.ops=t.ops,e.bandwidth=t.bandwidth,e.readResponseTime=t.readResponseTime,e.writeResponseTime=t.writeResponseTime)})}),this.cdr.detectChanges())}}))}addView(){this.router.navigate(["nfs/add"],{queryParams:{flag:"plugin"}})}modifyData(){this.router.navigate(["nfs/modify"],{queryParams:{objectid:this.rowSelected[0].objectid,flag:"plugin"}})}modifyCommit(){console.log("\u63d0\u4ea4\u53c2\u6570\uff1a"),this.updateNfs.name=this.updateNfs.nfsName,console.log(this.updateNfs),this.remoteSrv.updateNfs(this.updateNfs).subscribe(e=>{"200"===e.code?this.modifyShow=!1:(this.modifyShow=!0,this.errMessage="\u7f16\u8f91\u5931\u8d25\uff01"+e.description)})}expandView(){this.router.navigate(["nfs/expand"],{queryParams:{objectId:this.rowSelected[0].objectid,fsId:this.rowSelected[0].fsId,flag:"plugin"}})}reduceView(){this.router.navigate(["nfs/reduce"],{queryParams:{objectId:this.rowSelected[0].objectid,fsId:this.rowSelected[0].fsId,flag:"plugin"}})}mount(){this.jumpPage(this.rowSelected[0].objectid,"nfs/dataStore/mount"),this.router.navigate(["nfs/dataStore/mount"],{queryParams:{objectId:this.rowSelected[0].objectid,flag:"plugin",dsName:this.rowSelected[0].name}})}jumpPage(e,t){this.router.navigate([t],{queryParams:{objectId:e,flag:"plugin"}})}unmountBtnFunc(){null!=this.rowSelected&&1==this.rowSelected.length&&this.jumpPage(this.rowSelected[0].objectid,"nfs/dataStore/unmount")}delBtnFunc(){this.router.navigate(["nfs/delete"],{queryParams:{objectid:this.rowSelected[0].objectid,flag:"plugin"}})}navigateTo(e){console.log("\u9875\u9762\u8df3\u8f6c\u4e86"),console.log(e),this.gs.getClientSdk().app.navigateTo({targetViewId:"vsphere.core.datastore.summary",objectId:e})}formatCapacity(e){return e<1024?e.toFixed(3)+" GB":e>=1024&&e<1048576?(e/1024).toFixed(3)+" TB":e>=1048576?(e/1024/1024).toFixed(3)+" PB":void 0}scanDataStore(){this.isLoading=!0,this.vmfsListService.scanVMFS("nfs").subscribe(e=>{this.isLoading=!1,"200"===e.code?(this.getNfsList(),console.log("Scan success")):console.log("Scan faild"),this.cdr.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(a.g),b.Ob(b.h),b.Ob(r.b),b.Ob(s.e),b.Ob(l.b),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-nfs"]],viewQuery:function(e,t){var c;1&e&&(b.Pc(h,!0),b.Pc(p,!0),b.Pc(m,!0)),2&e&&(b.vc(c=b.dc())&&(t.wizard=c.first),b.vc(c=b.dc())&&(t.addPageOne=c.first),b.vc(c=b.dc())&&(t.addPageTwo=c.first))},features:[b.Bb([a.g,s.e,l.b])],decls:144,vars:131,consts:[[1,"gh-btngroup-header"],[1,"gh-btngroup-left"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"clrCloseMenuOnItemClick"],["clrDropdownTrigger","","aria-label","Dropdown demo button",1,"btn","btn-primary"],["shape","caret down"],[4,"clrIfOpen"],[1,"btn-group","btn-icon"],[1,"radio","btn"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-1","checked","",3,"click"],["for","btn-demo-radio-1"],["shape","list","size","20"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-2",3,"click"],["for","btn-demo-radio-2"],["shape","dashboard","size","20"],[1,"radio","btn","merginLeft"],["shape","refresh","size","20",3,"click"],[2,"width","100%"],["id","nfs-grid",3,"clrDgSelected","clrDgLoading","clrDgSelectedChange"],[3,"clrDgField"],[3,"hidden"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["formPageOne","ngForm"],["clrInput","","name","nfsName",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","name","sameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","checkbox","clrToggle","","name","qosFlag",3,"ngModel","ngModelChange"],["type","checkbox","name","thin","clrToggle","",3,"ngModel","ngModelChange"],["clrSelect","","name","deduplicationEnabled",3,"ngModel","ngModelChange"],["value","false"],["value","true"],["clrSelect","","name","compressionEnabled",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","autoSizeEnable",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["aria-label","Dropdown header Action 1","clrDropdownItem","",3,"disabled","click"],["role","separator","aria-hidden","true",1,"dropdown-divider"],["aria-label","Dropdown header Action 2","clrDropdownItem","",3,"disabled","click"],[3,"clrDgItem"],[2,"color","#829DE6","cursor","pointer",3,"click"],[2,"width","5%",3,"hidden"],["clrSuccess","","clrLabeled","",3,"clrValue"],["clrInput","","name","fsName",3,"ngModel","ngModelChange"],["clrInput","","name","shareName",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft"],["type","radio","clrRadio","","name","controlPolicy","required","","value","up",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","required","","value","low",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","required","","value","1"],["type","text","name","maxBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","2"],["type","text","name","maxIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","1"],["type","text","name","minBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required",""],["type","text","name","minIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","3"],["type","text","name","latency",1,"inputOneLine",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"div",0),b.Ub(2,"div",1),b.Ub(3,"button",2),b.cc("click",(function(){return t.addView()})),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"button",3),b.cc("click",(function(){return t.modifyData()})),b.Kc(7),b.hc(8,"translate"),b.Tb(),b.Ub(9,"button",3),b.cc("click",(function(){return t.expandView()})),b.Kc(10),b.hc(11,"translate"),b.Tb(),b.Ub(12,"clr-dropdown",4),b.Ub(13,"button",5),b.Kc(14),b.hc(15,"translate"),b.Pb(16,"clr-icon",6),b.Tb(),b.Ic(17,f,15,16,"clr-dropdown-menu",7),b.Tb(),b.Tb(),b.Ub(18,"div",8),b.Ub(19,"div",9),b.Ub(20,"input",10),b.cc("click",(function(){return t.radioCheck="list"})),b.Tb(),b.Ub(21,"label",11),b.Pb(22,"clr-icon",12),b.Tb(),b.Tb(),b.Ub(23,"div",9),b.Ub(24,"input",13),b.cc("click",(function(){return t.radioCheck="chart"})),b.Tb(),b.Ub(25,"label",14),b.Pb(26,"clr-icon",15),b.Tb(),b.Tb(),b.Ub(27,"div",16),b.Ub(28,"label"),b.Ub(29,"clr-icon",17),b.cc("click",(function(){return t.scanDataStore()})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(30,"div",18),b.Ub(31,"clr-datagrid",19),b.cc("clrDgSelectedChange",(function(e){return t.rowSelected=e})),b.Ub(32,"clr-dg-column",20),b.Kc(33),b.hc(34,"translate"),b.Tb(),b.Ub(35,"clr-dg-column",21),b.Kc(36),b.hc(37,"translate"),b.Tb(),b.Ub(38,"clr-dg-column",21),b.Kc(39),b.hc(40,"translate"),b.Tb(),b.Ub(41,"clr-dg-column",21),b.Kc(42),b.hc(43,"translate"),b.Tb(),b.Ub(44,"clr-dg-column",21),b.Kc(45),b.hc(46,"translate"),b.Tb(),b.Ub(47,"clr-dg-column",21),b.Kc(48),b.hc(49,"translate"),b.Tb(),b.Ub(50,"clr-dg-column",21),b.Kc(51),b.hc(52,"translate"),b.Tb(),b.Ub(53,"clr-dg-column",21),b.Kc(54),b.hc(55,"translate"),b.Tb(),b.Ub(56,"clr-dg-column",21),b.Kc(57),b.hc(58,"translate"),b.Tb(),b.Ub(59,"clr-dg-column",21),b.Kc(60),b.hc(61,"translate"),b.Tb(),b.Ub(62,"clr-dg-column",21),b.Kc(63),b.hc(64,"translate"),b.Tb(),b.Ub(65,"clr-dg-column",21),b.Kc(66),b.hc(67,"translate"),b.Tb(),b.Ub(68,"clr-dg-column",21),b.Kc(69),b.hc(70,"translate"),b.Tb(),b.Ub(71,"clr-dg-column",21),b.Kc(72),b.hc(73,"translate"),b.Tb(),b.Ub(74,"clr-dg-column",21),b.Kc(75),b.hc(76,"translate"),b.Tb(),b.Ic(77,C,32,30,"clr-dg-row",22),b.Tb(),b.Tb(),b.Ub(78,"clr-modal",23),b.cc("clrModalOpenChange",(function(e){return t.modifyShow=e})),b.Ub(79,"h3",24),b.Kc(80),b.hc(81,"translate"),b.Tb(),b.Ub(82,"div",25),b.Ub(83,"form",26,27),b.Ub(85,"clr-input-container"),b.Ub(86,"label"),b.Kc(87),b.hc(88,"translate"),b.Tb(),b.Ub(89,"input",28),b.cc("ngModelChange",(function(e){return t.updateNfs.nfsName=e})),b.Tb(),b.Tb(),b.Ub(90,"clr-checkbox-container"),b.Pb(91,"label"),b.Ub(92,"clr-checkbox-wrapper"),b.Ub(93,"input",29),b.cc("ngModelChange",(function(e){return t.updateNfs.sameName=e})),b.Tb(),b.Ub(94,"label"),b.Kc(95),b.hc(96,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(97,T,5,4,"clr-input-container",30),b.Ic(98,U,5,4,"clr-input-container",30),b.Ub(99,"clr-toggle-wrapper"),b.Ub(100,"label"),b.Kc(101),b.hc(102,"translate"),b.Tb(),b.Ub(103,"input",31),b.cc("ngModelChange",(function(e){return t.updateNfs.qosFlag=e})),b.Tb(),b.Tb(),b.Ic(104,L,16,12,"div",30),b.Ub(105,"clr-toggle-wrapper"),b.Ub(106,"label"),b.Kc(107),b.hc(108,"translate"),b.Tb(),b.Ub(109,"input",32),b.cc("ngModelChange",(function(e){return t.updateNfs.thin=e})),b.Tb(),b.Tb(),b.Ub(110,"clr-select-container"),b.Ub(111,"label"),b.Kc(112),b.hc(113,"translate"),b.Tb(),b.Ub(114,"select",33),b.cc("ngModelChange",(function(e){return t.updateNfs.deduplicationEnabled=e})),b.Ub(115,"option",34),b.Kc(116),b.hc(117,"translate"),b.Tb(),b.Ub(118,"option",35),b.Kc(119),b.hc(120,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(121,"clr-select-container"),b.Ub(122,"label"),b.Kc(123),b.hc(124,"translate"),b.Tb(),b.Ub(125,"select",36),b.cc("ngModelChange",(function(e){return t.updateNfs.compressionEnabled=e})),b.Ub(126,"option",34),b.Kc(127),b.hc(128,"translate"),b.Tb(),b.Ub(129,"option",35),b.Kc(130),b.hc(131,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(132,"clr-toggle-wrapper"),b.Ub(133,"label"),b.Kc(134),b.hc(135,"translate"),b.Tb(),b.Ub(136,"input",37),b.cc("ngModelChange",(function(e){return t.updateNfs.autoSizeEnable=e})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(137,"div",38),b.Ub(138,"button",39),b.cc("click",(function(){return t.modifyShow=!1})),b.Kc(139),b.hc(140,"translate"),b.Tb(),b.Ub(141,"button",40),b.cc("click",(function(){return t.modifyCommit()})),b.Kc(142),b.hc(143,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Cb(4),b.Lc(b.ic(5,65,"menu.add")),b.Cb(2),b.mc("disabled",1!==t.rowSelected.length),b.Cb(1),b.Lc(b.ic(8,67,"menu.modify")),b.Cb(2),b.mc("disabled",1!==t.rowSelected.length),b.Cb(1),b.Lc(b.ic(11,69,"menu.expand")),b.Cb(2),b.mc("clrCloseMenuOnItemClick",!1),b.Cb(2),b.Mc(" ",b.ic(15,71,"menu.more")," "),b.Cb(17),b.mc("clrDgSelected",t.rowSelected)("clrDgLoading",t.isLoading),b.Cb(1),b.mc("clrDgField","name"),b.Cb(1),b.Lc(b.ic(34,73,"nfs.name")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(37,75,"nfs.status")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(40,77,"nfs.totalCapacity")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(43,79,"nfs.freeCapacity")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(46,81,"nfs.capacityUsage")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(49,83,"nfs.provisioningCapacity")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(52,85,"nfs.device")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(55,87,"nfs.logicPort")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(58,89,"nfs.shareIp")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(61,91,"nfs.sharePath")),b.Cb(2),b.mc("hidden","list"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(64,93,"nfs.fileSystem")),b.Cb(2),b.mc("hidden","chart"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(67,95,"nfs.ops")),b.Cb(2),b.mc("hidden","chart"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(70,97,"nfs.bandwidth")),b.Cb(2),b.mc("hidden","chart"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(73,99,"nfs.respRt")),b.Cb(2),b.mc("hidden","chart"!==t.radioCheck),b.Cb(1),b.Lc(b.ic(76,101,"nfs.respWt")),b.Cb(2),b.mc("ngForOf",t.list),b.Cb(1),b.mc("clrModalOpen",t.modifyShow),b.Cb(2),b.Lc(b.ic(81,103,"menu.modify")),b.Cb(7),b.Lc(b.ic(88,105,"nfs.name")),b.Cb(2),b.mc("ngModel",t.updateNfs.nfsName),b.Cb(4),b.mc("ngModel",t.updateNfs.sameName),b.Cb(2),b.Lc(b.ic(96,107,"nfs.sameName")),b.Cb(2),b.mc("ngIf",!t.updateNfs.sameName),b.Cb(1),b.mc("ngIf",!t.updateNfs.sameName),b.Cb(3),b.Lc(b.ic(102,109,"nfs.qosPolicy")),b.Cb(2),b.mc("ngModel",t.updateNfs.qosFlag),b.Cb(1),b.mc("ngIf",t.updateNfs.qosFlag),b.Cb(3),b.Mc(" ",b.ic(108,111,"nfs.thin"),""),b.Cb(2),b.mc("ngModel",t.updateNfs.thin),b.Cb(3),b.Lc(b.ic(113,113,"nfs.dataDedu")),b.Cb(2),b.mc("ngModel",t.updateNfs.deduplicationEnabled),b.Cb(2),b.Lc(b.ic(117,115,"nfs.disable")),b.Cb(3),b.Lc(b.ic(120,117,"nfs.enable")),b.Cb(4),b.Lc(b.ic(124,119,"nfs.dataCompre")),b.Cb(2),b.mc("ngModel",t.updateNfs.compressionEnabled),b.Cb(2),b.Lc(b.ic(128,121,"nfs.disable")),b.Cb(3),b.Lc(b.ic(131,123,"nfs.enable")),b.Cb(4),b.Lc(b.ic(135,125,"nfs.capAuto")),b.Cb(2),b.mc("ngModel",t.updateNfs.autoSizeEnable),b.Cb(3),b.Lc(b.ic(140,127,"menu.cancel")),b.Cb(3),b.Lc(b.ic(143,129,"menu.ok")))},directives:[d.w,d.z,d.B,d.E,d.H,d.m,d.qb,d.sb,d.lb,d.tb,d.o,d.pb,n.m,d.J,d.K,g.E,g.r,g.s,d.A,d.G,g.e,d.F,g.q,g.t,d.g,d.h,g.b,d.f,n.n,d.V,g.A,d.U,g.v,g.D,d.y,d.x,d.v,d.rb,d.n,d.nb,d.Q,d.S,d.T,g.x,d.R,g.z],pipes:[u.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.merginTop[_ngcontent-%COMP%]{margin-top:10px}.merginLeft[_ngcontent-%COMP%]{margin-left:5px;border-style:solid}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}"],changeDetection:0}),e})();var w=c("tk/3");let K=(()=>{class e{constructor(e){this.http=e}getData(e){return this.http.get("accessnfs/logicport/"+e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function O(e,t){if(1&e&&(b.Ub(0,"div"),b.Ub(1,"table",1),b.Ub(2,"tr"),b.Ub(3,"td",2),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"td",2),b.Kc(7),b.Tb(),b.Ub(8,"td",2),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"td",2),b.Kc(12),b.Tb(),b.Ub(13,"td",2),b.Kc(14),b.hc(15,"translate"),b.Tb(),b.Ub(16,"td",2),b.Kc(17),b.Tb(),b.Tb(),b.Ub(18,"tr"),b.Ub(19,"td",2),b.Kc(20),b.hc(21,"translate"),b.Tb(),b.Ub(22,"td",2),b.Kc(23),b.Tb(),b.Ub(24,"td",2),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Ub(27,"td",2),b.Kc(28),b.Tb(),b.Ub(29,"td",2),b.Kc(30),b.hc(31,"translate"),b.Tb(),b.Ub(32,"td",2),b.Kc(33),b.Tb(),b.Tb(),b.Ub(34,"tr"),b.Ub(35,"td",2),b.Kc(36),b.hc(37,"translate"),b.Tb(),b.Ub(38,"td",2),b.Kc(39),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e){const e=b.gc();b.Cb(4),b.Lc(b.ic(5,14,"nfs.logic.name")),b.Cb(3),b.Lc(e.logicDetail.name),b.Cb(2),b.Lc(b.ic(10,16,"nfs.logic.ip")),b.Cb(3),b.Lc(e.logicDetail.ip),b.Cb(2),b.Lc(b.ic(15,18,"nfs.logic.healthStatus")),b.Cb(3),b.Lc(e.logicDetail.status),b.Cb(3),b.Lc(b.ic(21,20,"nfs.logic.runningStatus")),b.Cb(3),b.Lc(e.logicDetail.runningStatus),b.Cb(2),b.Lc(b.ic(26,22,"nfs.logic.activePort")),b.Cb(3),b.Lc(e.logicDetail.activePort),b.Cb(2),b.Lc(b.ic(31,24,"nfs.logic.currentPort")),b.Cb(3),b.Lc(e.logicDetail.currentPort),b.Cb(3),b.Lc(b.ic(37,26,"nfs.logic.failoverGroup")),b.Cb(3),b.Lc(e.logicDetail.failoverGroup)}}function P(e,t){1&e&&(b.Ub(0,"div"),b.Kc(1," \u65e0\n"),b.Tb())}let k=(()=>{class e{constructor(e,t){this.remoteSrv=e,this.gs=t}ngOnInit(){const e=this.gs.getClientSdk().app.getContextObjects();this.logicportDetail(e[0].id)}logicportDetail(e){this.remoteSrv.getData(e).subscribe(e=>{this.logicDetail=e.data})}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(K),b.Ob(r.b))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-logicport"]],features:[b.Bb([K,r.b])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"table","table-noborder"],[1,"left"]],template:function(e,t){1&e&&(b.Ic(0,O,40,28,"div",0),b.Ic(1,P,2,0,"div",0)),2&e&&(b.mc("ngIf",t.logicDetail),b.Cb(1),b.mc("ngIf",!t.logicDetail))},directives:[n.n],pipes:[u.c],styles:[""]}),e})(),F=(()=>{class e{constructor(e){this.http=e}getData(e){return this.http.get("accessnfs/share/"+e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function N(e,t){if(1&e&&(b.Ub(0,"clr-dg-row",4),b.Ub(1,"clr-dg-cell"),b.Kc(2),b.Tb(),b.Ub(3,"clr-dg-cell"),b.Kc(4),b.Tb(),b.Ub(5,"clr-dg-cell"),b.Kc(6),b.Tb(),b.Tb()),2&e){const e=t.$implicit;b.mc("clrDgItem",e),b.Cb(2),b.Lc(e.name),b.Cb(2),b.Lc(e.type),b.Cb(2),b.Lc(e.accessval)}}function S(e,t){if(1&e&&(b.Ub(0,"div"),b.Ub(1,"table",1),b.Ub(2,"tr"),b.Ub(3,"td",2),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"td",2),b.Kc(7),b.Tb(),b.Ub(8,"td",2),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"td",2),b.Kc(12),b.Tb(),b.Tb(),b.Ub(13,"tr"),b.Ub(14,"td",2),b.Kc(15),b.hc(16,"translate"),b.Tb(),b.Ub(17,"td",2),b.Kc(18),b.Tb(),b.Ub(19,"td",2),b.Kc(20),b.hc(21,"translate"),b.Tb(),b.Ub(22,"td",2),b.Kc(23),b.Tb(),b.Tb(),b.Tb(),b.Ub(24,"h3"),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Ub(27,"clr-datagrid"),b.Ub(28,"clr-dg-column"),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Ub(31,"clr-dg-column"),b.Kc(32),b.hc(33,"translate"),b.Tb(),b.Ub(34,"clr-dg-column"),b.Kc(35),b.hc(36,"translate"),b.Tb(),b.Ic(37,N,7,4,"clr-dg-row",3),b.Tb(),b.Tb()),2&e){const e=b.gc();b.Cb(4),b.Lc(b.ic(5,13,"nfs.share.name")),b.Cb(3),b.Lc(e.shareDetail.name),b.Cb(2),b.Lc(b.ic(10,15,"nfs.share.sharePath")),b.Cb(3),b.Lc(e.shareDetail.share_path),b.Cb(3),b.Lc(b.ic(16,17,"nfs.share.dtree")),b.Cb(3),b.Lc(e.shareDetail.owning_dtree_name),b.Cb(2),b.Lc(b.ic(21,19,"nfs.share.description")),b.Cb(3),b.Lc(e.shareDetail.description),b.Cb(2),b.Lc(b.ic(26,21,"nfs.share.clientInfo")),b.Cb(4),b.Lc(b.ic(30,23,"nfs.share.nameAddr")),b.Cb(3),b.Lc(b.ic(33,25,"nfs.share.type")),b.Cb(3),b.Lc(b.ic(36,27,"nfs.share.permission")),b.Cb(2),b.mc("ngForOf",e.shareDetail.auth_client_list)}}function x(e,t){1&e&&(b.Ub(0,"div"),b.Kc(1," \u65e0\n"),b.Tb())}let z=(()=>{class e{constructor(e,t){this.remoteSrv=e,this.gs=t}ngOnInit(){const e=this.gs.getClientSdk().app.getContextObjects();this.getShareDetail(e[0].id)}getShareDetail(e){this.remoteSrv.getData(e).subscribe(e=>{this.shareDetail=e.data,console.log("shareDetail:"),console.log(this.shareDetail)})}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(F),b.Ob(r.b))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-share"]],features:[b.Bb([F,r.b])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"table","table-noborder"],[1,"left"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgItem"]],template:function(e,t){1&e&&(b.Ic(0,S,38,29,"div",0),b.Ic(1,x,2,0,"div",0)),2&e&&(b.mc("ngIf",t.shareDetail),b.Cb(1),b.mc("ngIf",!t.shareDetail))},directives:[n.n,d.m,d.qb,d.sb,d.lb,d.tb,d.o,d.pb,n.m,d.v,d.rb,d.n,d.nb],pipes:[u.c],styles:[""]}),e})(),_=(()=>{class e{constructor(e){this.http=e}getData(e){return this.http.get("accessnfs/fileservice/"+e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();class D{}function B(e,t){if(1&e&&(b.Ub(0,"option",5),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e),b.Cb(1),b.Lc(e)}}function j(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-select-container"),b.Ub(2,"select",1),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().fsNames}))("ngModelChange",(function(t){return b.zc(e),b.gc().defaultSelect=t}))("change",(function(){return b.zc(e),b.gc().changeFs()})),b.Ic(3,B,2,2,"option",2),b.Tb(),b.Tb(),b.Ub(4,"table",3),b.Ub(5,"tr"),b.Ub(6,"td",4),b.Kc(7),b.hc(8,"translate"),b.Tb(),b.Ub(9,"td",4),b.Kc(10),b.Tb(),b.Ub(11,"td",4),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"td",4),b.Kc(15),b.Tb(),b.Tb(),b.Ub(16,"tr"),b.Ub(17,"td",4),b.Kc(18),b.hc(19,"translate"),b.Tb(),b.Ub(20,"td",4),b.Kc(21),b.Tb(),b.Ub(22,"td",4),b.Kc(23),b.hc(24,"translate"),b.Tb(),b.Ub(25,"td",4),b.Kc(26),b.Tb(),b.Tb(),b.Ub(27,"tr"),b.Ub(28,"td",4),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Ub(31,"td",4),b.Kc(32),b.Tb(),b.Ub(33,"td",4),b.Kc(34),b.hc(35,"translate"),b.Tb(),b.Ub(36,"td",4),b.Kc(37),b.Tb(),b.Tb(),b.Ub(38,"tr"),b.Ub(39,"td",4),b.Kc(40),b.hc(41,"translate"),b.Tb(),b.Ub(42,"td",4),b.Kc(43),b.Tb(),b.Ub(44,"td",4),b.Kc(45),b.hc(46,"translate"),b.Tb(),b.Ub(47,"td",4),b.Kc(48),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.mc("ngModel",e.defaultSelect),b.Cb(1),b.mc("ngForOf",e.fsNames),b.Cb(4),b.Lc(b.ic(8,18,"nfs.fs.name")),b.Cb(3),b.Lc(e.fsDetail.name),b.Cb(2),b.Lc(b.ic(13,20,"nfs.fs.device")),b.Cb(3),b.Lc(e.fsDetail.device),b.Cb(3),b.Lc(b.ic(19,22,"nfs.fs.storagePool")),b.Cb(3),b.Lc(e.fsDetail.storagePoolName),b.Cb(2),b.Lc(b.ic(24,24,"nfs.fs.controller")),b.Cb(3),b.Lc(e.fsDetail.controller),b.Cb(3),b.Lc(b.ic(30,26,"nfs.fs.provisionType")),b.Cb(3),b.Lc(e.fsDetail.provisionType),b.Cb(2),b.Lc(b.ic(35,28,"nfs.fs.appSce")),b.Cb(3),b.Lc(e.fsDetail.applicationScenario),b.Cb(3),b.Lc(b.ic(41,30,"nfs.fs.dataDed")),b.Cb(3),b.Lc(e.fsDetail.dataDeduplication),b.Cb(2),b.Lc(b.ic(46,32,"nfs.fs.dataCom")),b.Cb(3),b.Lc(e.fsDetail.dateCompression)}}function q(e,t){1&e&&(b.Ub(0,"div"),b.Kc(1," \u65e0\n"),b.Tb())}let E=(()=>{class e{constructor(e,t){this.fsService=e,this.gs=t,this.fsDetail=new D,this.fsNames=[]}ngOnInit(){const e=this.gs.getClientSdk().app.getContextObjects();this.getFsDetail(e[0].id)}getFsDetail(e){this.fsService.getData(e).subscribe(e=>{this.fsDetails=e.data,this.fsDetails.forEach(e=>{this.fsNames.push(e.name)}),this.defaultSelect=this.fsNames[0],this.fsDetail=this.getFsDetailByName(this.defaultSelect)})}getFsDetailByName(e){return this.fsDetails.filter(t=>t.name===e)[0]}changeFs(){this.fsDetail=this.getFsDetailByName(this.defaultSelect)}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(_),b.Ob(r.b))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-file-system"]],features:[b.Bb([_,r.b])],decls:2,vars:2,consts:[[4,"ngIf"],["clrSelect","","name","defaultSelect",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-noborder"],[1,"left"],[3,"value"]],template:function(e,t){1&e&&(b.Ic(0,j,49,34,"div",0),b.Ic(1,q,2,0,"div",0)),2&e&&(b.mc("ngIf",t.fsDetails&&0!=t.fsDetails.length),b.Cb(1),b.mc("ngIf",!t.fsDetails))},directives:[n.n,d.V,g.A,d.U,g.q,g.t,n.m,g.v,g.D],pipes:[u.c],styles:[""]}),e})();var V=c("mrSG");let R=(()=>{class e{constructor(e){this.http=e,this.iopsChart={height:300,title:{text:"IOPS",subtext:"IO/s",textStyle:{fontStyle:"normal"},textAlign:"bottom"},xAxis:{type:"category",data:[]},yAxis:{type:"value",max:8,min:0,splitNumber:2,boundaryGap:["50%","50%"],axisLine:{show:!1}},tooltip:{},legend:{data:[{name:"Upper Limit"},{name:"Lower Limit"},{name:"Read",icon:"triangle"},{name:"Write",icon:"triangle"}],y:"top",x:"right"},series:[{name:"Upper Limit",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"dotted",color:"#DB2000"}}},label:{show:!0,formatter:"This is a normal label."}},{name:"Lower Limit",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"dotted",color:"#F8E082"}}}},{name:"Read",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"solid",color:"#6870c4"}}}},{name:"Write",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"solid",color:"#01bfa8"}}}}]}}getIopsChart(e,t,c,n,o,i,a,r,s){return new Promise((c,l)=>{this.http.post("datastorestatistichistrory/vmfsvolume",{indicator_ids:n,obj_ids:o,interval:i,range:a,begin_time:r,end_time:s}).subscribe(l=>{if("200"===l.code&&null!==l.data){this.resData=l.data,this.setXAxisData(a,r,s,i);const b=this.resData[o[0]][n[0]];console.log("upperData"),console.log(b);const d=this.resData[o[0]][n[1]];let g,u;for(const e of Object.keys(b.max))g=Number(b.max[e]),console.log(g);for(const e of Object.keys(d.max))u=Number(d.max[e]),console.log(g);const h=b.avg,p=d.avg,m=b.series,f=d.series;this.iopsChart.title.text=e,this.iopsChart.title.subtext=t,this.iopsChart.yAxis.max=(g>u?g:u)+2,console.log("this.iopsChart.yAxis.max"+this.iopsChart.yAxis.max),m.forEach(e=>{for(const t of Object.keys(e))this.iopsChart.series[2].data.push({value:Number(e[t]),symbol:"none"});for(const t of Object.keys(h))this.iopsChart.series[0].data.push({value:Number(h[t]),symbol:"none"})}),f.forEach(e=>{for(const t of Object.keys(e))this.iopsChart.series[3].data.push({value:Number(e[t]),symbol:"none"});for(const t of Object.keys(p))this.iopsChart.series[1].data.push({value:Number(p[t]),symbol:"none"})}),c(this.iopsChart)}},e=>{console.error("ERROR",e)})})}setXAxisData(e,t,c,n){let o,i;switch(e){case"LAST_1_HOUR":o=1;break;case"LAST_4_HOUR":o=4;break;case"LAST_12_HOUR":o=12;break;default:o=24}switch(n){case"ONE_MINUTE":case"MINUTE":i=60;break;case"HALF_HOUR":i=2;break;default:i=1}const a=new Date(t),r=new Date(c);console.log("--------------"),console.log(t),console.log(c),console.log(a.getMonth()),console.log(r),console.log(i),console.log(o);for(let s=0;s<o*i;s++){const e=a;switch(n){case"ONE_MINUTE":case"MINUTE":e.setMinutes(a.getMinutes()+s);break;case"HALF_HOUR":e.setMinutes(a.getMinutes()+30*s);break;default:e.setHours(a.getHours()+s)}const t=e.getHours()+":"+e.getMinutes();this.iopsChart.xAxis.data.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();var A=c("DKVz"),H=c("kmnG"),G=c("iadO");function W(e,t){if(1&e&&(b.Ub(0,"option",7),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e),b.Cb(1),b.Lc(e)}}function $(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-select-container"),b.Ub(1,"select",2),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().fsNames}))("ngModelChange",(function(t){return b.zc(e),b.gc().defaultSelect=t}))("change",(function(){return b.zc(e),b.gc().changeFs()})),b.Ic(2,W,2,2,"option",3),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(1),b.mc("ngModel",e.defaultSelect),b.Cb(1),b.mc("ngForOf",e.fsNames)}}function Y(e,t){if(1&e&&(b.Ub(0,"option",7),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.key),b.Cb(1),b.Lc(e.value)}}function J(e,t){1&e&&(b.Ub(0,"mat-error"),b.Kc(1,"Invalid start date"),b.Tb())}function X(e,t){1&e&&(b.Ub(0,"mat-error"),b.Kc(1,"Invalid end date"),b.Tb())}function Q(e,t){if(1&e){const e=b.Vb();b.Ub(0,"td"),b.Ub(1,"mat-form-field",8),b.Ub(2,"mat-label"),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"mat-date-range-input",9),b.Ub(6,"input",10),b.cc("dateChange",(function(){return b.zc(e),b.gc().changeDate()})),b.Tb(),b.Ub(7,"input",11),b.cc("dateChange",(function(){return b.zc(e),b.gc().changeDate()})),b.Tb(),b.Tb(),b.Pb(8,"mat-datepicker-toggle",12),b.Pb(9,"mat-date-range-picker",null,13),b.Ic(11,J,2,0,"mat-error",0),b.Ic(12,X,2,0,"mat-error",0),b.Tb(),b.Tb()}if(2&e){const e=b.wc(10),t=b.gc();b.Cb(3),b.Lc(b.ic(4,6,"vmfs.timeInputTips")),b.Cb(2),b.mc("formGroup",t.rangeTime)("rangePicker",e),b.Cb(3),b.mc("for",e),b.Cb(3),b.mc("ngIf",t.rangeTime.controls.start.hasError("matStartDateInvalid")),b.Cb(1),b.mc("ngIf",t.rangeTime.controls.end.hasError("matEndDateInvalid"))}}let Z=(()=>{class e{constructor(e,t,c,n,o,i){this.makePerformance=e,this.perService=t,this.ngZone=c,this.cdr=n,this.fsService=o,this.gs=i,this.fsNames=[],this.rangeTime=new g.j({start:new g.g,end:new g.g}),this.opsChart={},this.bandwidthChart={},this.latencyChart={},this.ranges=a.g.perRanges,this.selectRange="LAST_1_DAY",this.startTime=null,this.endTime=null}ngAfterViewInit(){}ngOnInit(){const e=this.gs.getClientSdk().app.getContextObjects();this.getFsDetail(e[0].id)}changeFs(){if("BEGIN_END_TIME"===this.selectRange){if(null===this.startTime||null===this.endTime)return void console.log("\u5f00\u59cb\u7ed3\u675f\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a")}else this.startTime=null,this.endTime=null;this.selectRange?(console.log("this.selectVolName+this.selectRange",this.defaultSelect,this.selectRange),this.chooseFs=this.getVolByName(this.defaultSelect),this.initChart()):console.log("\u672a\u9009\u62e9\u5377\u6216range")}getFsDetail(e){this.fsService.getData(e).subscribe(e=>{this.fsDetails=e.data,this.fsDetails.forEach(e=>{this.fsNames.push(e.name)}),this.defaultSelect=this.fsNames[0],this.chooseFs=this.getVolByName(this.defaultSelect),this.ngZone.runOutsideAngular(()=>this.initChart())})}initChart(){return Object(V.a)(this,void 0,void 0,(function*(){const e=[];e.push(this.chooseFs.fileSystemId),this.makePerformance.setChart(300,"OPS","IO/s",a.g.nfsOPS,e,this.selectRange,a.g.nfsUrl,this.startTime,this.endTime).then(e=>{this.opsChart=e,this.cdr.detectChanges()}),this.makePerformance.setChart(300,"Bandwidth","MB/s",a.g.nfsBDWT,e,this.selectRange,a.g.nfsUrl,this.startTime,this.endTime).then(e=>{this.bandwidthChart=e,this.cdr.detectChanges()}),this.makePerformance.setChart(300,"Latency","ms",a.g.nfsLatency,e,this.selectRange,a.g.nfsUrl,this.startTime,this.endTime).then(e=>{this.latencyChart=e,this.cdr.detectChanges()})}))}changeDate(){this.rangeTime.controls.start.hasError("matStartDateInvalid")||this.rangeTime.controls.end.hasError("matEndDateInvalid")||null===this.rangeTime.controls.start.value||null===this.rangeTime.controls.end.value||(this.startTime=this.rangeTime.controls.start.value._d.getTime(),this.endTime=this.rangeTime.controls.end.value._d.getTime(),console.log("startTime",this.startTime),console.log("endTime",this.endTime),this.changeFs())}getVolByName(e){return this.fsDetails.filter(t=>t.name===e)[0]}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(a.f),b.Ob(R),b.Ob(b.B),b.Ob(b.h),b.Ob(_),b.Ob(r.b))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-nfsperformance"]],features:[b.Bb([R,a.f,a.g,A.a,_])],decls:11,vars:7,consts:[[4,"ngIf"],["cellpadding","5",1,"searchtable"],["clrSelect","","name","defaultSelect",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["echarts","","id","opsChart",2,"height","600px",3,"options"],["echarts","","id","bandwidthChart",2,"height","600px",3,"options"],["echarts","","id","latencyChart",2,"height","600px",3,"options"],[3,"value"],["appearance","fill"],[3,"formGroup","rangePicker"],["required","","matStartDate","","formControlName","start","placeholder","Start date",3,"dateChange"],["required","","matEndDate","","formControlName","end","placeholder","End date",3,"dateChange"],["matSuffix","",3,"for"],["picker",""]],template:function(e,t){1&e&&(b.Ic(0,$,3,2,"clr-select-container",0),b.Ub(1,"table",1),b.Ub(2,"tr"),b.Ub(3,"td"),b.Ub(4,"clr-select-container"),b.Ub(5,"select",2),b.cc("ngModelOptions",(function(){return t.ranges}))("ngModelChange",(function(e){return t.selectRange=e}))("change",(function(){return t.changeFs()})),b.Ic(6,Y,2,2,"option",3),b.Tb(),b.Tb(),b.Tb(),b.Ic(7,Q,13,8,"td",0),b.Tb(),b.Tb(),b.Pb(8,"div",4),b.Pb(9,"div",5),b.Pb(10,"div",6)),2&e&&(b.mc("ngIf",t.fsNames.length>0),b.Cb(5),b.mc("ngModel",t.selectRange),b.Cb(1),b.mc("ngForOf",t.ranges),b.Cb(1),b.mc("ngIf","BEGIN_END_TIME"===t.selectRange),b.Cb(1),b.mc("options",t.opsChart),b.Cb(1),b.mc("options",t.bandwidthChart),b.Cb(1),b.mc("options",t.latencyChart))},directives:[n.n,d.V,g.A,d.U,g.q,g.t,n.m,A.b,g.v,g.D,H.c,H.g,G.b,g.r,g.k,G.h,g.e,g.z,g.i,G.g,G.f,H.i,G.c,H.b],pipes:[u.c],styles:[""]}),e})(),ee=(()=>{class e{constructor(e){this.http=e}getHostListByObjectId(e){return this.http.get("accessvmware/gethostsbydsobjectid",{params:{dataStoreObjectId:e}})}getClusterListByObjectId(e){return this.http.get("accessvmware/getclustersbydsobjectid",{params:{dataStoreObjectId:e}})}getDatastoreListByHostObjectId(e){return this.http.get("accessvmware/getdatastoresbyhostobjectid",e)}getDatastoreListByClusterObjectId(e){return this.http.get("accessvmware/getdatastoresbyclusterobjectid",e)}mountNfs(e={}){return this.http.post("accessnfs/mountnfs",e)}getVmkernelListByObjectId(e){return this.http.get("accessvmware/getvmkernelipbyhostobjectid",{params:{hostObjectId:e}})}getLogicPortListByStorageId(e){return this.http.get("dmestorage/logicports",{params:{storageId:e}})}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();class te{}function ce(e,t){1&e&&(b.Ub(0,"p",15),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.mountError")))}function ne(e,t){if(1&e&&(b.Ub(0,"option",16),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.hostId),b.Cb(1),b.Lc(e.hostName)}}function oe(e,t){if(1&e&&(b.Ub(0,"option",16),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.ipAddress),b.Cb(1),b.Lc(e.ipAddress)}}function ie(e,t){1&e&&(b.Ub(0,"p",15),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.mountError")))}function ae(e,t){if(1&e&&(b.Ub(0,"option",16),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.hostId),b.Cb(1),b.Lc(e.hostName)}}function re(e,t){if(1&e&&(b.Ub(0,"option",16),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.ipAddress),b.Cb(1),b.Lc(e.ipAddress)}}function se(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ub(2,"form",3),b.Ic(3,ie,3,3,"p",4),b.Ub(4,"clr-select-container"),b.Ub(5,"label"),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"select",5),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().hostList}))("ngModelChange",(function(t){return b.zc(e),b.gc().mountForm.hostObjectId=t}))("change",(function(){return b.zc(e),b.gc().checkHost()})),b.Ic(9,ae,2,2,"option",6),b.Tb(),b.Tb(),b.Ub(10,"clr-select-container"),b.Ub(11,"label"),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"select",7),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().vmkernelList}))("ngModelChange",(function(t){return b.zc(e),b.gc().mountForm.hostVkernelIp=t})),b.Ic(15,re,2,2,"option",6),b.Tb(),b.Tb(),b.Ub(16,"clr-select-container"),b.Ub(17,"label"),b.Kc(18),b.hc(19,"translate"),b.Tb(),b.Ub(20,"select",8),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().mountForm.mountType=t})),b.Ub(21,"option",9),b.Kc(22),b.hc(23,"translate"),b.Tb(),b.Ub(24,"option",10),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(27,"div",17),b.Ub(28,"button",12),b.cc("click",(function(){return b.zc(e),b.gc().backToNfsList()})),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Ub(31,"button",13),b.cc("click",(function(){return b.zc(e),b.gc().mountSubmit()})),b.Kc(32),b.hc(33,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.mc("ngIf",e.errorMsg),b.Cb(3),b.Lc(b.ic(7,13,"nfs.mountHost")),b.Cb(2),b.mc("ngModel",e.mountForm.hostObjectId),b.Cb(1),b.mc("ngForOf",e.hostList),b.Cb(3),b.Lc(b.ic(13,15,"nfs.vkernel")),b.Cb(2),b.mc("ngModel",e.mountForm.hostVkernelIp),b.Cb(1),b.mc("ngForOf",e.vmkernelList),b.Cb(3),b.Lc(b.ic(19,17,"nfs.mount.mountType")),b.Cb(2),b.mc("ngModel",e.mountForm.mountType),b.Cb(2),b.Lc(b.ic(23,19,"nfs.mount.readOnly")),b.Cb(3),b.Lc(b.ic(26,21,"nfs.mount.readWrite")),b.Cb(4),b.Lc(b.ic(30,23,"menu.cancel")),b.Cb(3),b.Lc(b.ic(33,25,"menu.ok"))}}function le(e,t){1&e&&(b.Ub(0,"p",15),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.mountError")))}function be(e,t){if(1&e&&(b.Ub(0,"option",16),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.ipAddress),b.Cb(1),b.Lc(e.ipAddress)}}function de(e,t){if(1&e&&(b.Ub(0,"option",16),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.objectId),b.Cb(1),b.Lc(e.name)}}function ge(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ub(2,"form",3),b.Ic(3,le,3,3,"p",4),b.Ub(4,"clr-select-container"),b.Ub(5,"label"),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"select",7),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().vmkernelList}))("ngModelChange",(function(t){return b.zc(e),b.gc().mountForm.hostVkernelIp=t})),b.Ic(9,be,2,2,"option",6),b.Tb(),b.Tb(),b.Ub(10,"clr-select-container"),b.Ub(11,"label"),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"select",18),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().dataStoreList}))("ngModelChange",(function(t){return b.zc(e),b.gc().mountForm.dataStoreObjectId=t})),b.Ic(15,de,2,2,"option",6),b.Tb(),b.Tb(),b.Ub(16,"clr-select-container"),b.Ub(17,"label"),b.Kc(18),b.hc(19,"translate"),b.Tb(),b.Ub(20,"select",8),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().mountForm.mountType=t})),b.Ub(21,"option",9),b.Kc(22),b.hc(23,"translate"),b.Tb(),b.Ub(24,"option",10),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(27,"div",17),b.Ub(28,"button",12),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Ub(31,"button",13),b.cc("click",(function(){return b.zc(e),b.gc().mountSubmit()})),b.Kc(32),b.hc(33,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.mc("ngIf",e.errorMsg),b.Cb(3),b.Lc(b.ic(7,13,"nfs.vkernel")),b.Cb(2),b.mc("ngModel",e.mountForm.hostVkernelIp),b.Cb(1),b.mc("ngForOf",e.vmkernelList),b.Cb(3),b.Lc(b.ic(13,15,"nfs.nfsStore")),b.Cb(2),b.mc("ngModel",e.mountForm.dataStoreObjectId),b.Cb(1),b.mc("ngForOf",e.dataStoreList),b.Cb(3),b.Lc(b.ic(19,17,"nfs.mount.mountType")),b.Cb(2),b.mc("ngModel",e.mountForm.mountType),b.Cb(2),b.Lc(b.ic(23,19,"nfs.mount.readOnly")),b.Cb(3),b.Lc(b.ic(26,21,"nfs.mount.readWrite")),b.Cb(4),b.Lc(b.ic(30,23,"menu.cancel")),b.Cb(3),b.Lc(b.ic(33,25,"menu.ok"))}}let ue=(()=>{class e{constructor(e,t,c,n,o){this.mountService=e,this.cdr=t,this.gs=c,this.activatedRoute=n,this.router=o,this.mountObj="1",this.mountForm=new te,this.hostList=[],this.rowSelected=[],this.logicPorts=[],this.vmkernelList=[]}ngOnInit(){if(this.gs.loading=!0,this.activatedRoute.url.subscribe(e=>{this.routePath=e[0].path}),"dataStore"===this.routePath){if(this.viewPage="mount_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.dsObjectId=e.objectId,this.mountForm.dataStoreObjectId=e.objectId,this.pluginFlag=e.flag}),null==this.pluginFlag){const e=this.gs.getClientSdk().app.getContextObjects();null!=e&&(this.dsObjectId=e[0].id,this.mountForm.dataStoreObjectId=e[0].id),this.viewPage="mount_dataStore"}null!=this.dsObjectId&&""!=this.dsObjectId&&(this.initHostAndClusterList(),this.getLogicPortByDsId(this.dsObjectId)),this.gs.loading=!1}else{if("host"===this.routePath){this.viewPage="mount_host";const e=this.gs.getClientSdk().app.getContextObjects();null!=e&&(this.hostObjectId=e[0].id,this.getDataStoreList(this.hostObjectId),this.getVmkernelListByObjectId(this.hostObjectId),this.mountForm.hostObjectId=this.hostObjectId),this.gs.loading=!1}this.gs.loading=!1}this.cdr.detectChanges()}checkHost(){this.gs.loading=!0,this.getVmkernelListByObjectId(this.mountForm.hostObjectId)}initHostAndClusterList(){this.mountService.getHostListByObjectId(this.dsObjectId).subscribe(e=>{"200"===e.code&&(this.hostList=e.data,this.cdr.detectChanges(),this.gs.loading=!1)})}getDataStoreList(e){this.dataStoreList=null,this.mountService.getDatastoreListByHostObjectId({hostObjectId:e,dataStoreType:"NFS"}).subscribe(e=>{"200"===e.code&&(this.dataStoreList=e.data)}),this.cdr.detectChanges()}getLogicPortByDsId(e){this.gs.loading=!0,this.mountService.getLogicPortListByStorageId(e).subscribe(e=>{this.gs.loading=!1,"200"===e.code&&(this.logicPorts=e.data,this.cdr.detectChanges())})}getVmkernelListByObjectId(e){this.mountService.getVmkernelListByObjectId(e).subscribe(e=>{this.gs.loading=!1,"200"===e.code&&(this.vmkernelList=e.data,this.cdr.detectChanges())})}mountSubmit(){this.gs.loading=!0,this.mountService.mountNfs(this.mountForm).subscribe(e=>{this.gs.loading=!1,"200"===e.code?(this.mountForm=new te,"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel()):(console.log("mount failed:",e.description),this.errorMsg="1")})}backToNfsList(){this.gs.loading=!1,this.errorMsg=null,this.router.navigate(["nfs"])}closeModel(){this.errorMsg=null,this.gs.getClientSdk().modal.close(),this.gs.loading=!1}formatCapacity(e){return e<1024?e.toFixed(3)+" GB":e>=1024&&e<1048576?(e/1024).toFixed(3)+" TB":e>=1048576?(e/1024/1024).toFixed(3)+" PB":void 0}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(ee),b.Ob(b.h),b.Ob(r.b),b.Ob(i.a),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-mount"]],features:[b.Bb([ee])],decls:40,vars:34,consts:[[3,"clrModalOpen","clrModalClosable"],[1,"modal-title","modelTile"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrSelect","","required","","name","hostObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["clrSelect","","required","","name","hostVkernelIp",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrSelect","","name","mountType",3,"ngModel","ngModelChange"],["value","readOnly"],["value","readWrite"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"],[3,"value"],[2,"float","right"],["clrSelect","","required","","name","dataStoreObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-modal",0),b.Ub(2,"h3",1),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"div",2),b.Ub(6,"form",3),b.Ic(7,ce,3,3,"p",4),b.Ub(8,"clr-select-container"),b.Ub(9,"label"),b.Kc(10),b.hc(11,"translate"),b.Tb(),b.Ub(12,"select",5),b.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.mountForm.hostObjectId=e}))("change",(function(){return t.checkHost()})),b.Ic(13,ne,2,2,"option",6),b.Tb(),b.Tb(),b.Ub(14,"clr-select-container"),b.Ub(15,"label"),b.Kc(16),b.hc(17,"translate"),b.Tb(),b.Ub(18,"select",7),b.cc("ngModelOptions",(function(){return t.vmkernelList}))("ngModelChange",(function(e){return t.mountForm.hostVkernelIp=e})),b.Ic(19,oe,2,2,"option",6),b.Tb(),b.Tb(),b.Ub(20,"clr-select-container"),b.Ub(21,"label"),b.Kc(22),b.hc(23,"translate"),b.Tb(),b.Ub(24,"select",8),b.cc("ngModelChange",(function(e){return t.mountForm.mountType=e})),b.Ub(25,"option",9),b.Kc(26),b.hc(27,"translate"),b.Tb(),b.Ub(28,"option",10),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(31,"div",11),b.Ub(32,"button",12),b.cc("click",(function(){return t.backToNfsList()})),b.Kc(33),b.hc(34,"translate"),b.Tb(),b.Ub(35,"button",13),b.cc("click",(function(){return t.mountSubmit()})),b.Kc(36),b.hc(37,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(38,se,34,27,"div",14),b.Ic(39,ge,34,27,"div",14),b.Tb()),2&e&&(b.Cb(1),b.mc("clrModalOpen","mount_plugin"==t.viewPage)("clrModalClosable",!1),b.Cb(2),b.Lc(b.ic(4,18,"vmfs.mount.mount")),b.Cb(4),b.mc("ngIf",t.errorMsg),b.Cb(3),b.Lc(b.ic(11,20,"nfs.mountHost")),b.Cb(2),b.mc("ngModel",t.mountForm.hostObjectId),b.Cb(1),b.mc("ngForOf",t.hostList),b.Cb(3),b.Lc(b.ic(17,22,"nfs.vkernel")),b.Cb(2),b.mc("ngModel",t.mountForm.hostVkernelIp),b.Cb(1),b.mc("ngForOf",t.vmkernelList),b.Cb(3),b.Lc(b.ic(23,24,"nfs.mount.mountType")),b.Cb(2),b.mc("ngModel",t.mountForm.mountType),b.Cb(2),b.Lc(b.ic(27,26,"nfs.mount.readOnly")),b.Cb(3),b.Lc(b.ic(30,28,"nfs.mount.readWrite")),b.Cb(4),b.Lc(b.ic(34,30,"menu.cancel")),b.Cb(3),b.Lc(b.ic(37,32,"menu.ok")),b.Cb(2),b.mc("ngIf","mount_dataStore"==t.viewPage),b.Cb(1),b.mc("ngIf","mount_host"==t.viewPage))},directives:[d.J,d.K,g.E,g.r,g.s,d.A,n.n,d.V,d.H,g.A,d.U,g.z,g.q,g.t,n.m,g.v,g.D],pipes:[u.c],styles:[".inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:50%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.modelTile[_ngcontent-%COMP%]{font-weight:400}.modelTile[_ngcontent-%COMP%],   .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd}  .modal-title-text{font-weight:bolder}  .modal-title-wrapper{width:100%}"]}),e})(),he=(()=>{class e{constructor(e){this.http=e}getMountedHostList(e){return this.http.get("accessnfs/gethostsbystorageid/"+e)}getMountedClusterList(e){return this.http.get("accessnfs/gethostgroupsbystorageid/"+e)}unmount(e={}){return this.http.post("accessnfs/unmountnfs",e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function pe(e,t){1&e&&(b.Ub(0,"p",11),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.unMountError")))}function me(e,t){if(1&e&&(b.Ub(0,"option",12),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.hostId),b.Cb(1),b.Lc(e.hostName)}}function fe(e,t){1&e&&(b.Ub(0,"p",11),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.unMountError")))}function Ce(e,t){if(1&e&&(b.Ub(0,"option",12),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.hostId),b.Cb(1),b.Lc(e.hostName)}}function Te(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ub(2,"form",3),b.Ic(3,fe,3,3,"p",4),b.Ub(4,"clr-select-container"),b.Ub(5,"label"),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"select",5),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().hostList}))("ngModelChange",(function(t){return b.zc(e),b.gc().hostId=t})),b.Ic(9,Ce,2,2,"option",6),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",13),b.Ub(11,"button",8),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"button",9),b.cc("click",(function(){return b.zc(e),b.gc().unMount()})),b.Kc(15),b.hc(16,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.mc("ngIf",e.errorMsg),b.Cb(3),b.Lc(b.ic(7,6,"nfs.mountHost")),b.Cb(2),b.mc("ngModel",e.hostId),b.Cb(1),b.mc("ngForOf",e.hostList),b.Cb(3),b.Lc(b.ic(13,8,"menu.cancel")),b.Cb(3),b.Lc(b.ic(16,10,"menu.ok"))}}function Ue(e,t){1&e&&(b.Ub(0,"p",11),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.unMountError")))}function Me(e,t){if(1&e&&(b.Ub(0,"option",12),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.objectId),b.Cb(1),b.Lc(e.name)}}function ve(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ub(2,"form",3),b.Ic(3,Ue,3,3,"p",4),b.Ub(4,"clr-select-container"),b.Ub(5,"label"),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"select",14),b.cc("ngModelOptions",(function(){return b.zc(e),b.gc().dataStoreList}))("ngModelChange",(function(t){return b.zc(e),b.gc().dataStoreObjectId=t}))("change",(function(){return b.zc(e),b.gc().checkHost()})),b.Ic(9,Me,2,2,"option",6),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",13),b.Ub(11,"button",8),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"button",9),b.cc("click",(function(){return b.zc(e),b.gc().unMount()})),b.Kc(15),b.hc(16,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.mc("ngIf",e.errorMsg),b.Cb(3),b.Lc(b.ic(7,6,"nfs.nfsStore")),b.Cb(2),b.mc("ngModel",e.dataStoreObjectId),b.Cb(1),b.mc("ngForOf",e.dataStoreList),b.Cb(3),b.Lc(b.ic(13,8,"menu.cancel")),b.Cb(3),b.Lc(b.ic(16,10,"menu.ok"))}}let ye=(()=>{class e{constructor(e,t,c,n,o){this.unmountService=e,this.gs=t,this.activatedRoute=c,this.router=n,this.cdr=o,this.rowSelected=[]}ngOnInit(){if(this.activatedRoute.url.subscribe(e=>{this.routePath=e[0].path}),"dataStore"===this.routePath){if(this.gs.loading=!0,this.viewPage="unmount_pugin",this.activatedRoute.queryParams.subscribe(e=>{this.dataStoreObjectId=e.objectId,this.pluginFlag=e.flag}),null==this.pluginFlag){const e=this.gs.getClientSdk().app.getContextObjects();null!=e&&(this.dataStoreObjectId=e[0].id),this.viewPage="unmount_vcenter"}this.getMountedHostList(this.dataStoreObjectId)}else if("host"===this.routePath){this.gs.loading=!0,this.viewPage="unmount_host";const e=this.gs.getClientSdk().app.getContextObjects();null!=e&&(this.hostId=e[0].id,this.getDataStoreByHostId(this.hostId)),this.gs.loading=!1}}backToNfsList(){this.errorMsg=null,this.gs.loading=!1,this.router.navigate(["nfs"])}unMount(){var e={dataStoreObjectId:this.dataStoreObjectId,hostId:this.hostId};this.gs.loading=!0,this.unmountService.unmount(e).subscribe(e=>{this.gs.loading=!1,"200"===e.code?"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel():(this.errorMsg="1",console.log("unMount Failed:",e.description))})}closeModel(){this.errorMsg=null,this.gs.loading=!1,this.gs.getClientSdk().modal.close()}formatCapacity(e){return e<1024?e.toFixed(3)+" GB":e>=1024&&e<1048576?(e/1024).toFixed(3)+" TB":e>=1048576?(e/1024/1024).toFixed(3)+" PB":void 0}getMountedHostList(e){this.unmountService.getMountedHostList(e).subscribe(e=>{this.gs.loading=!1,"200"==e.code&&(this.hostList=e.data,this.cdr.detectChanges())})}getDataStoreByHostId(e){this.unmountService.getMountedHostList(e).subscribe(e=>{this.gs.loading=!1,"200"==e.code&&(this.hostList=e.data,this.cdr.detectChanges())})}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(he),b.Ob(r.b),b.Ob(i.a),b.Ob(i.f),b.Ob(b.h))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-unmount"]],features:[b.Bb([he])],decls:23,vars:19,consts:[[3,"clrModalOpen","clrModalSize"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrSelect","","required","","name","hostId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"],[3,"value"],[2,"float","right"],["clrSelect","","required","","name","dataStoreObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-modal",0),b.Ub(2,"h3",1),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"div",2),b.Ub(6,"form",3),b.Ic(7,pe,3,3,"p",4),b.Ub(8,"clr-select-container"),b.Ub(9,"label"),b.Kc(10),b.hc(11,"translate"),b.Tb(),b.Ub(12,"select",5),b.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.hostId=e})),b.Ic(13,me,2,2,"option",6),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(14,"div",7),b.Ub(15,"button",8),b.cc("click",(function(){return t.backToNfsList()})),b.Kc(16),b.hc(17,"translate"),b.Tb(),b.Ub(18,"button",9),b.cc("click",(function(){return t.unMount()})),b.Kc(19),b.hc(20,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(21,Te,17,12,"div",10),b.Ic(22,ve,17,12,"div",10),b.Tb()),2&e&&(b.Cb(1),b.mc("clrModalOpen","unmount_pugin"==t.viewPage)("clrModalSize","md"),b.Cb(2),b.Lc(b.ic(4,11,"nfs.unmount.title")),b.Cb(4),b.mc("ngIf",t.errorMsg),b.Cb(3),b.Lc(b.ic(11,13,"nfs.mountHost")),b.Cb(2),b.mc("ngModel",t.hostId),b.Cb(1),b.mc("ngForOf",t.hostList),b.Cb(3),b.Lc(b.ic(17,15,"menu.cancel")),b.Cb(3),b.Lc(b.ic(20,17,"menu.ok")),b.Cb(2),b.mc("ngIf","unmount_vcenter"==t.viewPage),b.Cb(1),b.mc("ngIf","unmount_host"==t.viewPage))},directives:[d.J,d.K,g.E,g.r,g.s,d.A,n.n,d.V,d.H,g.A,d.U,g.z,g.q,g.t,n.m,g.v,g.D],pipes:[u.c],styles:[".inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:50%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.modelTile[_ngcontent-%COMP%]{font-weight:400}.modelTile[_ngcontent-%COMP%],   .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd}  .modal-title-text{font-weight:bolder}  .modal-title-wrapper{width:100%}"]}),e})(),Le=(()=>{class e{constructor(e){this.http=e}changeCapacity(e={}){return this.http.put("operatenfs/changenfsdatastore",e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function Ie(e,t){1&e&&(b.Ub(0,"p",17),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.deleteError")))}function we(e,t){1&e&&(b.Ub(0,"p",17),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.deleteError")))}function Ke(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ub(2,"form",3),b.Ic(3,we,3,3,"p",4),b.Ub(4,"clr-input-container"),b.Ub(5,"label"),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"div",5),b.Ub(9,"input",6,7),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().newCapacity=t})),b.Tb(),b.Ub(11,"select",8),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().unit=t})),b.Ub(12,"option",9),b.Kc(13,"TB"),b.Tb(),b.Ub(14,"option",10),b.Kc(15,"GB"),b.Tb(),b.Ub(16,"option",11),b.Kc(17,"MB"),b.Tb(),b.Ub(18,"option",12),b.Kc(19,"KB"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(20,"div",18),b.Ub(21,"button",14),b.cc("click",(function(){return b.zc(e),b.gc().backToNfsList()})),b.Kc(22),b.hc(23,"translate"),b.Tb(),b.Ub(24,"button",15),b.cc("click",(function(){return b.zc(e),b.gc().reduceCommit()})),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.mc("ngIf",e.errorMsg),b.Cb(3),b.Lc(b.ic(7,6,"nfs.reduSize")),b.Cb(3),b.mc("ngModel",e.newCapacity),b.Cb(2),b.mc("ngModel",e.unit),b.Cb(11),b.Lc(b.ic(23,8,"menu.cancel")),b.Cb(3),b.Lc(b.ic(26,10,"menu.ok"))}}let Oe=(()=>{class e{constructor(e,t,c,n){this.reduceService=e,this.gs=t,this.activatedRoute=c,this.router=n,this.unit="GB",this.newCapacity=0,this.rowSelected=[]}ngOnInit(){if(this.viewPage="reduce_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.fsId=e.fsId,this.pluginFlag=e.flag,this.storeObjectId=e.objectId}),null==this.pluginFlag){const e=this.gs.getClientSdk().app.getContextObjects();null!=e&&(this.storeObjectId=e[0].id),this.viewPage="reduce_vcenter"}}backToNfsList(){this.gs.loading=!1,this.errorMsg=null,this.router.navigate(["nfs"])}closeModel(){this.errorMsg=null,this.gs.loading=!1,this.gs.getClientSdk().modal.close()}reduceCommit(){switch(this.gs.loading=!0,this.unit){case"TB":this.newCapacity=1024*this.newCapacity;break;case"MB":this.newCapacity=this.newCapacity/1024;break;case"KB":this.newCapacity=this.newCapacity/1048576}var e;"plugin"==this.pluginFlag&&(e={fileSystemId:this.fsId,storeObjectId:this.storeObjectId,expand:!1,capacity:this.newCapacity}),null==this.pluginFlag&&(e={storeObjectId:this.storeObjectId,expand:!1,capacity:this.newCapacity}),this.reduceService.changeCapacity(e).subscribe(e=>{this.gs.loading=!1,"200"===e.code?"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel():(this.errorMsg="1",console.log("Reduce failed:",e.description))})}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(Le),b.Ob(r.b),b.Ob(i.a),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-reduce"]],features:[b.Bb([Le])],decls:32,vars:18,consts:[[3,"clrModalOpen","clrModalClosable"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrInput","",2,"float","left","position","relative"],["clrInput","","type","number","name","newCapacity","onkeyup","this.value.match(/\\d+(\\.\\d{0,2})?/)? this.value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''","required","",2,"width","70%","border-bottom","none",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","unit",1,"capacity",2,"width","30%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["value","KB"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"],[2,"float","right"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-modal",0),b.Ub(2,"h3",1),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"div",2),b.Ub(6,"form",3),b.Ic(7,Ie,3,3,"p",4),b.Ub(8,"clr-input-container"),b.Ub(9,"label"),b.Kc(10),b.hc(11,"translate"),b.Tb(),b.Ub(12,"div",5),b.Ub(13,"input",6,7),b.cc("ngModelChange",(function(e){return t.newCapacity=e})),b.Tb(),b.Ub(15,"select",8),b.cc("ngModelChange",(function(e){return t.unit=e})),b.Ub(16,"option",9),b.Kc(17,"TB"),b.Tb(),b.Ub(18,"option",10),b.Kc(19,"GB"),b.Tb(),b.Ub(20,"option",11),b.Kc(21,"MB"),b.Tb(),b.Ub(22,"option",12),b.Kc(23,"KB"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(24,"div",13),b.Ub(25,"button",14),b.cc("click",(function(){return t.backToNfsList()})),b.Kc(26),b.hc(27,"translate"),b.Tb(),b.Ub(28,"button",15),b.cc("click",(function(){return t.reduceCommit()})),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(31,Ke,27,12,"div",16),b.Tb()),2&e&&(b.Cb(1),b.mc("clrModalOpen","reduce_plugin"==t.viewPage)("clrModalClosable",!1),b.Cb(2),b.Lc(b.ic(4,10,"menu.reduce")),b.Cb(4),b.mc("ngIf",t.errorMsg),b.Cb(3),b.Lc(b.ic(11,12,"nfs.reduSize")),b.Cb(3),b.mc("ngModel",t.newCapacity),b.Cb(2),b.mc("ngModel",t.unit),b.Cb(11),b.Lc(b.ic(27,14,"menu.cancel")),b.Cb(3),b.Lc(b.ic(30,16,"menu.ok")),b.Cb(2),b.mc("ngIf","reduce_vcenter"==t.viewPage))},directives:[d.J,d.K,g.E,g.r,g.s,d.A,n.n,d.G,d.H,d.F,g.w,g.e,g.z,g.q,g.t,g.A,g.v,g.D],pipes:[u.c],styles:[""]}),e})(),Pe=(()=>{class e{constructor(e){this.http=e}changeCapacity(e={}){return this.http.put("operatenfs/changenfsdatastore",e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function ke(e,t){1&e&&(b.Ub(0,"p",17),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.expandError")))}function Fe(e,t){1&e&&(b.Ub(0,"p",17),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.expandError")))}function Ne(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ub(2,"form",3),b.Ic(3,Fe,3,3,"p",4),b.Ub(4,"clr-input-container"),b.Ub(5,"label"),b.Kc(6),b.hc(7,"translate"),b.Tb(),b.Ub(8,"div",5),b.Ub(9,"input",6,7),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().newCapacity=t})),b.Tb(),b.Ub(11,"select",8),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().unit=t})),b.Ub(12,"option",9),b.Kc(13,"TB"),b.Tb(),b.Ub(14,"option",10),b.Kc(15,"GB"),b.Tb(),b.Ub(16,"option",11),b.Kc(17,"MB"),b.Tb(),b.Ub(18,"option",12),b.Kc(19,"KB"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(20,"div"),b.Ub(21,"button",14),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(22),b.hc(23,"translate"),b.Tb(),b.Ub(24,"button",15),b.cc("click",(function(){return b.zc(e),b.gc().expandData()})),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.mc("ngIf",e.errorMsg),b.Cb(3),b.Lc(b.ic(7,6,"nfs.expandSize")),b.Cb(3),b.mc("ngModel",e.newCapacity),b.Cb(2),b.mc("ngModel",e.unit),b.Cb(11),b.Lc(b.ic(23,8,"menu.cancel")),b.Cb(3),b.Lc(b.ic(26,10,"menu.ok"))}}let Se=(()=>{class e{constructor(e,t,c,n){this.expandService=e,this.gs=t,this.activatedRoute=c,this.router=n,this.newCapacity=0,this.unit="GB",this.rowSelected=[]}ngOnInit(){if(this.viewPage="expand_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.fsId=e.fsId,this.pluginFlag=e.flag,this.storeObjectId=e.objectId}),null==this.pluginFlag){const e=this.gs.getClientSdk().app.getContextObjects();this.storeObjectId=e[0].id,this.viewPage="expand_vcenter"}}expandData(){switch(this.gs.loading=!0,this.unit){case"TB":this.newCapacity=1024*this.newCapacity;break;case"MB":this.newCapacity=this.newCapacity/1024;break;case"KB":this.newCapacity=this.newCapacity/1048576}var e;"plugin"==this.pluginFlag&&(e={fileSystemId:this.fsId,storeObjectId:this.storeObjectId,expand:!0,capacity:this.newCapacity}),null==this.pluginFlag&&(e={storeObjectId:this.storeObjectId,expand:!0,capacity:this.newCapacity}),this.expandService.changeCapacity(e).subscribe(e=>{this.gs.loading=!1,"200"===e.code?"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel():(this.errorMsg="1",console.log("Expand failed:",e.description))})}backToNfsList(){this.gs.loading=!1,this.errorMsg=null,this.router.navigate(["nfs"])}closeModel(){this.gs.loading=!1,this.errorMsg=null,this.gs.getClientSdk().modal.close()}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(Pe),b.Ob(r.b),b.Ob(i.a),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-reduce"]],features:[b.Bb([Pe])],decls:32,vars:18,consts:[[3,"clrModalOpen","clrModalClosable"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrInput","",2,"float","left","position","relative"],["clrInput","","type","number","name","newCapacity","onkeyup","this.value.match(/\\d+(\\.\\d{0,2})?/)? this.value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''","required","",2,"width","70%","border-bottom","none",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","unit",1,"capacity",2,"width","30%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["value","KB"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-modal",0),b.Ub(2,"h3",1),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"div",2),b.Ub(6,"form",3),b.Ic(7,ke,3,3,"p",4),b.Ub(8,"clr-input-container"),b.Ub(9,"label"),b.Kc(10),b.hc(11,"translate"),b.Tb(),b.Ub(12,"div",5),b.Ub(13,"input",6,7),b.cc("ngModelChange",(function(e){return t.newCapacity=e})),b.Tb(),b.Ub(15,"select",8),b.cc("ngModelChange",(function(e){return t.unit=e})),b.Ub(16,"option",9),b.Kc(17,"TB"),b.Tb(),b.Ub(18,"option",10),b.Kc(19,"GB"),b.Tb(),b.Ub(20,"option",11),b.Kc(21,"MB"),b.Tb(),b.Ub(22,"option",12),b.Kc(23,"KB"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(24,"div",13),b.Ub(25,"button",14),b.cc("click",(function(){return t.backToNfsList()})),b.Kc(26),b.hc(27,"translate"),b.Tb(),b.Ub(28,"button",15),b.cc("click",(function(){return t.expandData()})),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(31,Ne,27,12,"div",16),b.Tb()),2&e&&(b.Cb(1),b.mc("clrModalOpen","expand_plugin"==t.viewPage)("clrModalClosable",!1),b.Cb(2),b.Lc(b.ic(4,10,"menu.expand")),b.Cb(4),b.mc("ngIf",t.errorMsg),b.Cb(3),b.Lc(b.ic(11,12,"nfs.expandSize")),b.Cb(3),b.mc("ngModel",t.newCapacity),b.Cb(2),b.mc("ngModel",t.unit),b.Cb(11),b.Lc(b.ic(27,14,"menu.cancel")),b.Cb(3),b.Lc(b.ic(30,16,"menu.ok")),b.Cb(2),b.mc("ngIf","expand_vcenter"==t.viewPage))},directives:[d.J,d.K,g.E,g.r,g.s,d.A,n.n,d.G,d.H,d.F,g.w,g.e,g.z,g.q,g.t,g.A,g.v,g.D],pipes:[u.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}"]}),e})(),xe=(()=>{class e{constructor(e){this.http=e}delNfs(e={}){return this.http.post("accessnfs/deletenfs",e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function ze(e,t){1&e&&(b.Ub(0,"p",9),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&e&&(b.Cb(1),b.Lc(b.ic(2,1,"errorMsg.reduceError")))}function _e(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"div"),b.Ic(2,ze,3,3,"p",7),b.Ub(3,"p"),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Tb(),b.Ub(6,"div",8),b.Ub(7,"button",4),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(8),b.hc(9,"translate"),b.Tb(),b.Ub(10,"button",5),b.cc("click",(function(){return b.zc(e),b.gc().delNfs()})),b.Kc(11),b.hc(12,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.mc("ngIf",e.errorMsg),b.Cb(2),b.Lc(b.ic(5,4,"nfs.del.content")),b.Cb(4),b.Lc(b.ic(9,6,"menu.cancel")),b.Cb(3),b.Lc(b.ic(12,8,"menu.ok"))}}let De=(()=>{class e{constructor(e,t,c,n,o){this.deleteService=e,this.cdr=t,this.gs=c,this.activatedRoute=n,this.router=o}ngOnInit(){if(this.viewPage="delete_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.dataStoreObjectId=e.objectid,this.pluginFlag=e.flag}),null==this.pluginFlag){const e=this.gs.getClientSdk().app.getContextObjects();null!=e&&(this.dataStoreObjectId=e[0].id),this.viewPage="delete_vcenter"}}delNfs(){this.gs.loading=!0,this.deleteService.delNfs({dataStoreObjectId:this.dataStoreObjectId}).subscribe(e=>{this.gs.loading=!1,"200"===e.code?"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel():(this.errorMsg="1",console.log("Delete failed:",e.description))})}backToNfsList(){this.gs.loading=!1,this.router.navigate(["nfs"])}closeModel(){this.gs.loading=!1,this.gs.getClientSdk().modal.close()}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(xe),b.Ob(b.h),b.Ob(r.b),b.Ob(i.a),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-add"]],features:[b.Bb([xe])],decls:17,vars:15,consts:[[3,"clrModalOpen","clrModalSize"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],["style","color: red",4,"ngIf"],[2,"float","right"],[2,"color","red"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-modal",0),b.Ub(2,"h3",1),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"div",2),b.Ub(6,"p"),b.Kc(7),b.hc(8,"translate"),b.Tb(),b.Tb(),b.Ub(9,"div",3),b.Ub(10,"button",4),b.cc("click",(function(){return t.backToNfsList()})),b.Kc(11),b.hc(12,"translate"),b.Tb(),b.Ub(13,"button",5),b.cc("click",(function(){return t.delNfs()})),b.Kc(14),b.hc(15,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(16,_e,13,10,"div",6),b.Tb()),2&e&&(b.Cb(1),b.mc("clrModalOpen","delete_plugin"==t.viewPage)("clrModalSize","sm"),b.Cb(2),b.Lc(b.ic(4,7,"nfs.del.title")),b.Cb(4),b.Lc(b.ic(8,9,"nfs.del.content")),b.Cb(4),b.Lc(b.ic(12,11,"menu.cancel")),b.Cb(3),b.Lc(b.ic(15,13,"menu.ok")),b.Cb(2),b.mc("ngIf","delete_vcenter"==t.viewPage))},directives:[d.J,d.K,n.n],pipes:[u.c],styles:[""]}),e})(),Be=(()=>{class e{constructor(e){this.http=e}getHostList(){return this.http.get("accessvmware/listhost")}getVmkernelListByObjectId(e){return this.http.get("accessvmware/getvmkernelipbyhostobjectid",{params:{hostObjectId:e}})}addNfs(e={}){return this.http.post("operatenfs/createnfsdatastore",e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();class je{constructor(){this.sameName=!0,this.advance=!1,this.qosFlag=!1,this.deduplicationEnabled=!1,this.compressionEnabled=!1,this.autoSizeEnable=!1,this.thin=!0}}const qe=["wizard"],Ee=["addPageOne"],Ve=["addPageTwo"];function Re(e,t){if(1&e&&(b.Ub(0,"p",35),b.Kc(1),b.Tb()),2&e){const e=b.gc();b.Cb(1),b.Lc(e.errorMsg)}}function Ae(e,t){1&e&&(b.Kc(0),b.hc(1,"translate")),2&e&&b.Lc(b.ic(1,1,"nfs.datastoreSetting"))}function He(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.id),b.Cb(1),b.Lc(e.name)}}function Ge(e,t){if(1&e&&(b.Ub(0,"clr-option",37),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.mc("clrValue",e),b.Cb(1),b.Mc(" ",e.name," ")}}function We(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.currentPortId),b.Cb(1),b.Lc(e.name+"_"+e.currentPortName+"("+e.mgmtIp+")")}}function $e(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",38),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.fsName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.fsName")),b.Cb(2),b.mc("ngModel",e.addForm.fsName)}}function Ye(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",39),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.shareName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.shareName")),b.Cb(2),b.mc("ngModel",e.addForm.shareName)}}function Je(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Ub(5,"input",40),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.securityType=t})),b.Tb(),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Tb(),b.Tb(),b.Ub(9,"clr-radio-wrapper"),b.Ub(10,"input",41),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.securityType=t})),b.Tb(),b.Ub(11,"label"),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Tb(),b.Ub(14,"clr-radio-wrapper"),b.Ub(15,"input",42),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.securityType=t})),b.Tb(),b.Ub(16,"label"),b.Kc(17),b.hc(18,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,7,"nfs.securityType")),b.Cb(3),b.mc("ngModel",e.addForm.securityType),b.Cb(2),b.Lc(b.ic(8,9,"nfs.authSys")),b.Cb(3),b.mc("ngModel",e.addForm.securityType),b.Cb(2),b.Lc(b.ic(13,11,"nfs.secKrb5")),b.Cb(3),b.mc("ngModel",e.addForm.securityType),b.Cb(2),b.Lc(b.ic(18,13,"nfs.secKrb5i"))}}function Xe(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.objectId),b.Cb(1),b.Lc(e.hostName)}}function Qe(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.ipAddress),b.Cb(1),b.Lc(e.ipAddress)}}function Ze(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-wizard-button",43),b.cc("click",(function(){return b.zc(e),b.gc().backToNfsList()})),b.Kc(1),b.hc(2,"translate"),b.Tb(),b.Ub(3,"clr-wizard-button",44),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"clr-wizard-button",44),b.Kc(7),b.hc(8,"translate"),b.Tb()}2&e&&(b.mc("type","custom-cancel"),b.Cb(1),b.Lc(b.ic(2,6,"menu.cancel")),b.Cb(2),b.mc("type","previous"),b.Cb(1),b.Lc(b.ic(5,8,"menu.previous")),b.Cb(2),b.mc("type","next"),b.Cb(1),b.Lc(b.ic(8,10,"nfs.button_next")))}function et(e,t){1&e&&(b.Kc(0),b.hc(1,"translate")),2&e&&b.Lc(b.ic(1,1,"nfs.storageSetting"))}function tt(e,t){1&e&&(b.Kc(0),b.hc(1,"translate")),2&e&&b.Lc(b.ic(1,1,"nfs.storageSetting"))}function ct(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",56),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",57),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.maxBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",58),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",59),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.maxIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(4);b.Cb(2),b.Lc(b.ic(3,5,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,7,"nfs.qos_bandwidth"),"<="),b.Cb(2),b.mc("ngModel",e.addForm.maxBandwidth),b.Cb(5),b.Mc("",b.ic(15,9,"nfs.qos_iops"),"<="),b.Cb(2),b.mc("ngModel",e.addForm.maxIops)}}function nt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",60),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",61),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.minBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",62),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",63),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.minIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Ub(18,"clr-radio-wrapper"),b.Pb(19,"input",64),b.Ub(20,"label"),b.Kc(21),b.hc(22,"translate"),b.Ub(23,"input",65),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.latency=t})),b.Tb(),b.Kc(24," ms"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(4);b.Cb(2),b.Lc(b.ic(3,7,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,9,"nfs.qos_bandwidth"),">="),b.Cb(2),b.mc("ngModel",e.addForm.minBandwidth),b.Cb(5),b.Mc("",b.ic(15,11,"nfs.qos_iops"),">="),b.Cb(2),b.mc("ngModel",e.addForm.minIops),b.Cb(5),b.Mc("",b.ic(22,13,"nfs.qos_latency"),"<="),b.Cb(2),b.mc("ngModel",e.addForm.latency)}}function ot(e,t){if(1&e&&(b.Ub(0,"div"),b.Ic(1,ct,18,11,"clr-radio-container",14),b.Ic(2,nt,25,15,"clr-radio-container",14),b.Tb()),2&e){const e=b.gc(3);b.Cb(1),b.mc("ngIf","up"===e.addForm.contolPolicy),b.Cb(1),b.mc("ngIf","low"===e.addForm.contolPolicy)}}function it(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-radio-container",52),b.Ub(2,"label",53),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"clr-radio-wrapper"),b.Ub(6,"input",54),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(2).addForm.contolPolicy=t})),b.Tb(),b.Ub(7,"label"),b.Kc(8),b.hc(9,"translate"),b.Tb(),b.Tb(),b.Ub(10,"clr-radio-wrapper"),b.Ub(11,"input",55),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(2).addForm.contolPolicy=t})),b.Tb(),b.Ub(12,"label"),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(15,ot,3,2,"div",14),b.Tb()}if(2&e){const e=b.gc(2);b.Cb(3),b.Lc(b.ic(4,6,"nfs.controlPolicy")),b.Cb(3),b.mc("ngModel",e.addForm.contolPolicy),b.Cb(2),b.Lc(b.ic(9,8,"nfs.ulc")),b.Cb(3),b.mc("ngModel",e.addForm.contolPolicy),b.Cb(2),b.Lc(b.ic(14,10,"nfs.llc")),b.Cb(2),b.mc("ngIf",e.addForm.contolPolicy)}}function at(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-toggle-wrapper"),b.Ub(2,"label"),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"input",45),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.qosFlag=t})),b.Tb(),b.Tb(),b.Ic(6,it,16,12,"div",14),b.Ub(7,"clr-toggle-wrapper"),b.Ub(8,"label"),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"input",46),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.thin=t})),b.Tb(),b.Tb(),b.Ub(12,"clr-select-container"),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Tb(),b.Ub(16,"select",47),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.deduplicationEnabled=t})),b.Ub(17,"option",48),b.Kc(18),b.hc(19,"translate"),b.Tb(),b.Ub(20,"option",49),b.Kc(21),b.hc(22,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(23,"clr-select-container"),b.Ub(24,"label"),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Ub(27,"select",50),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.compressionEnabled=t})),b.Ub(28,"option",48),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Ub(31,"option",49),b.Kc(32),b.hc(33,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(34,"clr-toggle-wrapper"),b.Ub(35,"label"),b.Kc(36),b.hc(37,"translate"),b.Tb(),b.Ub(38,"input",51),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.autoSizeEnable=t})),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.Lc(b.ic(4,15,"nfs.qosPolicy")),b.Cb(2),b.mc("ngModel",e.addForm.qosFlag),b.Cb(1),b.mc("ngIf",e.addForm.qosFlag),b.Cb(3),b.Mc(" ",b.ic(10,17,"nfs.thin"),""),b.Cb(2),b.mc("ngModel",e.addForm.thin),b.Cb(3),b.Lc(b.ic(15,19,"nfs.dataDedu")),b.Cb(2),b.mc("ngModel",e.addForm.deduplicationEnabled),b.Cb(2),b.Lc(b.ic(19,21,"nfs.disable")),b.Cb(3),b.Lc(b.ic(22,23,"nfs.enable")),b.Cb(4),b.Lc(b.ic(26,25,"nfs.dataCompre")),b.Cb(2),b.mc("ngModel",e.addForm.compressionEnabled),b.Cb(2),b.Lc(b.ic(30,27,"nfs.disable")),b.Cb(3),b.Lc(b.ic(33,29,"nfs.enable")),b.Cb(4),b.Lc(b.ic(37,31,"nfs.capAuto")),b.Cb(2),b.mc("ngModel",e.addForm.autoSizeEnable)}}function rt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-wizard-button",43),b.cc("click",(function(){return b.zc(e),b.gc().backToNfsList()})),b.Kc(1),b.hc(2,"translate"),b.Tb(),b.Ub(3,"clr-wizard-button",44),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"clr-wizard-button",43),b.cc("click",(function(){return b.zc(e),b.gc().addNfs()})),b.Kc(7),b.hc(8,"translate"),b.Tb()}2&e&&(b.mc("type","custom-cancel"),b.Cb(1),b.Lc(b.ic(2,6,"menu.cancel")),b.Cb(2),b.mc("type","previous"),b.Cb(1),b.Lc(b.ic(5,8,"menu.previous")),b.Cb(2),b.mc("type","custom-finish"),b.Cb(1),b.Lc(b.ic(8,10,"menu.ok")))}function st(e,t){if(1&e&&(b.Ub(0,"p",35),b.Kc(1),b.Tb()),2&e){const e=b.gc();b.Cb(1),b.Lc(e.errorMsg)}}function lt(e,t){1&e&&(b.Kc(0),b.hc(1,"translate")),2&e&&b.Lc(b.ic(1,1,"nfs.datastoreSetting"))}function bt(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.id),b.Cb(1),b.Lc(e.name)}}function dt(e,t){if(1&e&&(b.Ub(0,"clr-option",37),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.mc("clrValue",e),b.Cb(1),b.Mc(" ",e.name," ")}}function gt(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.currentPortId),b.Cb(1),b.Lc(e.name+"_"+e.currentPortName+"("+e.mgmtIp+")")}}function ut(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",38),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.fsName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.fsName")),b.Cb(2),b.mc("ngModel",e.addForm.fsName)}}function ht(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",39),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.shareName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.shareName")),b.Cb(2),b.mc("ngModel",e.addForm.shareName)}}function pt(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.objectId),b.Cb(1),b.Lc(e.hostName)}}function mt(e,t){if(1&e&&(b.Ub(0,"option",36),b.Kc(1),b.Tb()),2&e){const e=t.$implicit;b.nc("value",e.ipAddress),b.Cb(1),b.Lc(e.ipAddress)}}function ft(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-wizard-button",43),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(1),b.hc(2,"translate"),b.Tb(),b.Ub(3,"clr-wizard-button",44),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"clr-wizard-button",44),b.Kc(7),b.hc(8,"translate"),b.Tb()}2&e&&(b.mc("type","custom-cancel"),b.Cb(1),b.Lc(b.ic(2,6,"menu.cancel")),b.Cb(2),b.mc("type","previous"),b.Cb(1),b.Lc(b.ic(5,8,"menu.previous")),b.Cb(2),b.mc("type","next"),b.Cb(1),b.Lc(b.ic(8,10,"nfs.button_next")))}function Ct(e,t){1&e&&(b.Kc(0),b.hc(1,"translate")),2&e&&b.Lc(b.ic(1,1,"nfs.storageSetting"))}function Tt(e,t){1&e&&(b.Kc(0),b.hc(1,"translate")),2&e&&b.Lc(b.ic(1,1,"nfs.storageSetting"))}function Ut(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",56),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",57),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.maxBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",58),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",59),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.maxIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(4);b.Cb(2),b.Lc(b.ic(3,5,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,7,"nfs.qos_bandwidth"),"<="),b.Cb(2),b.mc("ngModel",e.addForm.maxBandwidth),b.Cb(5),b.Mc("",b.ic(15,9,"nfs.qos_iops"),"<="),b.Cb(2),b.mc("ngModel",e.addForm.maxIops)}}function Mt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",60),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",61),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.minBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",62),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",63),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.minIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Ub(18,"clr-radio-wrapper"),b.Pb(19,"input",64),b.Ub(20,"label"),b.Kc(21),b.hc(22,"translate"),b.Ub(23,"input",65),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(4).addForm.latency=t})),b.Tb(),b.Kc(24," ms"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(4);b.Cb(2),b.Lc(b.ic(3,7,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,9,"nfs.qos_bandwidth"),">="),b.Cb(2),b.mc("ngModel",e.addForm.minBandwidth),b.Cb(5),b.Mc("",b.ic(15,11,"nfs.qos_iops"),">="),b.Cb(2),b.mc("ngModel",e.addForm.minIops),b.Cb(5),b.Mc("",b.ic(22,13,"nfs.qos_latency"),"<="),b.Cb(2),b.mc("ngModel",e.addForm.latency)}}function vt(e,t){if(1&e&&(b.Ub(0,"div"),b.Ic(1,Ut,18,11,"clr-radio-container",14),b.Ic(2,Mt,25,15,"clr-radio-container",14),b.Tb()),2&e){const e=b.gc(3);b.Cb(1),b.mc("ngIf","up"===e.addForm.contolPolicy),b.Cb(1),b.mc("ngIf","low"===e.addForm.contolPolicy)}}function yt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-radio-container",52),b.Ub(2,"label",53),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"clr-radio-wrapper"),b.Ub(6,"input",54),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(2).addForm.contolPolicy=t})),b.Tb(),b.Ub(7,"label"),b.Kc(8),b.hc(9,"translate"),b.Tb(),b.Tb(),b.Ub(10,"clr-radio-wrapper"),b.Ub(11,"input",55),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(2).addForm.contolPolicy=t})),b.Tb(),b.Ub(12,"label"),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(15,vt,3,2,"div",14),b.Tb()}if(2&e){const e=b.gc(2);b.Cb(3),b.Lc(b.ic(4,6,"nfs.controlPolicy")),b.Cb(3),b.mc("ngModel",e.addForm.contolPolicy),b.Cb(2),b.Lc(b.ic(9,8,"nfs.ulc")),b.Cb(3),b.mc("ngModel",e.addForm.contolPolicy),b.Cb(2),b.Lc(b.ic(14,10,"nfs.llc")),b.Cb(2),b.mc("ngIf",e.addForm.contolPolicy)}}function Lt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-toggle-wrapper"),b.Ub(2,"label"),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"input",45),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.qosFlag=t})),b.Tb(),b.Tb(),b.Ic(6,yt,16,12,"div",14),b.Ub(7,"clr-toggle-wrapper"),b.Ub(8,"label"),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"input",46),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.thin=t})),b.Tb(),b.Tb(),b.Ub(12,"clr-select-container"),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Tb(),b.Ub(16,"select",47),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.deduplicationEnabled=t})),b.Ub(17,"option",48),b.Kc(18),b.hc(19,"translate"),b.Tb(),b.Ub(20,"option",49),b.Kc(21),b.hc(22,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(23,"clr-select-container"),b.Ub(24,"label"),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Ub(27,"select",50),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.compressionEnabled=t})),b.Ub(28,"option",48),b.Kc(29),b.hc(30,"translate"),b.Tb(),b.Ub(31,"option",49),b.Kc(32),b.hc(33,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(34,"clr-toggle-wrapper"),b.Ub(35,"label"),b.Kc(36),b.hc(37,"translate"),b.Tb(),b.Ub(38,"input",51),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().addForm.autoSizeEnable=t})),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.Lc(b.ic(4,15,"nfs.qosPolicy")),b.Cb(2),b.mc("ngModel",e.addForm.qosFlag),b.Cb(1),b.mc("ngIf",e.addForm.qosFlag),b.Cb(3),b.Mc(" ",b.ic(10,17,"nfs.thin"),""),b.Cb(2),b.mc("ngModel",e.addForm.thin),b.Cb(3),b.Lc(b.ic(15,19,"nfs.dataDedu")),b.Cb(2),b.mc("ngModel",e.addForm.deduplicationEnabled),b.Cb(2),b.Lc(b.ic(19,21,"nfs.disable")),b.Cb(3),b.Lc(b.ic(22,23,"nfs.enable")),b.Cb(4),b.Lc(b.ic(26,25,"nfs.dataCompre")),b.Cb(2),b.mc("ngModel",e.addForm.compressionEnabled),b.Cb(2),b.Lc(b.ic(30,27,"nfs.disable")),b.Cb(3),b.Lc(b.ic(33,29,"nfs.enable")),b.Cb(4),b.Lc(b.ic(37,31,"nfs.capAuto")),b.Cb(2),b.mc("ngModel",e.addForm.autoSizeEnable)}}function It(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-wizard-button",43),b.cc("click",(function(){return b.zc(e),b.gc().closeModel()})),b.Kc(1),b.hc(2,"translate"),b.Tb(),b.Ub(3,"clr-wizard-button",44),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ub(6,"clr-wizard-button",43),b.cc("click",(function(){return b.zc(e),b.gc().addNfs()})),b.Kc(7),b.hc(8,"translate"),b.Tb()}2&e&&(b.mc("type","custom-cancel"),b.Cb(1),b.Lc(b.ic(2,6,"menu.cancel")),b.Cb(2),b.mc("type","previous"),b.Cb(1),b.Lc(b.ic(5,8,"menu.previous")),b.Cb(2),b.mc("type","custom-finish"),b.Cb(1),b.Lc(b.ic(8,10,"menu.ok")))}let wt=(()=>{class e{constructor(e,t,c,n,o,i){this.addService=e,this.cdr=t,this.gs=c,this.storageService=n,this.activatedRoute=o,this.router=i,this.addForm=new je,this.unit="GB",this.storageList=[],this.storagePools=[],this.logicPorts=[],this.hostList=[],this.vmkernelList=[]}ngOnInit(){this.viewPage="add_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.pluginFlag=e.flag}),null==this.pluginFlag&&(this.viewPage="delete_vcenter"),this.viewPage="add_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.pluginFlag=e.flag}),null==this.pluginFlag&&(this.viewPage="add_vcenter"),this.gs.loading=!0,this.storageService.getData().subscribe(e=>{"200"===e.code&&(this.storageList=e.data,this.gs.loading=!1)}),this.addService.getHostList().subscribe(e=>{"200"===e.code&&(this.hostList=e.data,this.cdr.detectChanges())}),this.addForm=new je,this.checkedPool=null,this.errorMsg="",this.cdr.detectChanges()}jumpTo(e,t){console.log("wizard:"),console.log(this.wizard),e&&e.completed?t.navService.currentPage=e:t.navService.setLastEnabledPageCurrent(),this.wizard.open()}addNfs(){switch(this.gs.loading=!0,this.addForm.poolRawId=this.checkedPool.diskPoolId,this.addForm.storagePoolId=this.checkedPool.id,this.unit){case"TB":this.addForm.size=1024*this.addForm.size;break;case"MB":this.addForm.size=this.addForm.size/1024;break;case"KB":this.addForm.size=this.addForm.size/1048576}this.addService.addNfs(this.addForm).subscribe(e=>{this.gs.loading=!1,"200"===e.code?"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel():(this.errorMsg="\u6dfb\u52a0\u5931\u8d25\uff01"+e.description,this.cdr.detectChanges(),this.wizard.open())})}selectStoragePool(){this.gs.loading=!0,this.storagePools=null,this.logicPorts=null,this.storageService.getStoragePoolListByStorageId(this.addForm.storagId).subscribe(e=>{"200"===e.code&&(this.storagePools=e.data,this.cdr.detectChanges())}),this.selectLogicPort()}selectLogicPort(){this.storageService.getLogicPortListByStorageId(this.addForm.storagId).subscribe(e=>{this.gs.loading=!1,"200"===e.code&&(this.logicPorts=e.data,this.cdr.detectChanges())})}checkHost(){this.gs.loading=!0,this.addForm.vkernelIp=null,this.addService.getVmkernelListByObjectId(this.addForm.hostObjectId).subscribe(e=>{this.gs.loading=!1,"200"===e.code&&(this.vmkernelList=e.data,this.cdr.detectChanges())})}backToNfsList(){this.gs.loading=!1,this.router.navigate(["nfs"])}closeModel(){this.gs.loading=!1,this.gs.getClientSdk().modal.close()}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(Be),b.Ob(b.h),b.Ob(r.b),b.Ob(s.e),b.Ob(i.a),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-add"]],viewQuery:function(e,t){var c;1&e&&(b.Pc(qe,!0),b.Pc(Ee,!0),b.Pc(Ve,!0)),2&e&&(b.vc(c=b.dc())&&(t.wizard=c.first),b.vc(c=b.dc())&&(t.addPageOne=c.first),b.vc(c=b.dc())&&(t.addPageTwo=c.first))},features:[b.Bb([Be,s.e])],decls:212,vars:137,consts:[[3,"clrWizardOpen","clrWizardClosable"],["wizard",""],["style","color: red",4,"ngIf"],[3,"clrWizardPageNextDisabled"],["clrPageTitle",""],["clrForm",""],["formPageOne","ngForm"],["clrSelect","","name","storagId","required","",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["name","checkedPool","required","",3,"ngModel","ngModelChange"],[3,"clrValue",4,"clrOptionItems","clrOptionItemsOf","clrOptionItemsField"],["clrSelect","","name","currentPortId","required","",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrInput","","name","nfsName","required","",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","name","sameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["clrInput","","type","number","name","size","required","",1,"inputOneLine",2,"width","80%",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","unit",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["value","KB"],["clrSelect","","name","type","ng-selected","v3",3,"ngModel","ngModelChange"],["value","NFS"],["value","NFS41"],["clrSelect","","required","","name","hostObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],["clrSelect","","required","","name","vkernelIp",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrSelect","","required","","name","accessMode",3,"ngModel","ngModelChange"],["value","readOnly"],["value","readWrite"],["clrPageButtons",""],["clrPageNavTitle",""],["formPageTwo","ngForm"],["type","checkbox","clrToggle","","name","advance",3,"ngModel","ngModelChange"],[1,"add-wizard-wrap",3,"clrWizardOpen","clrWizardClosable"],[2,"color","red"],[3,"value"],[3,"clrValue"],["clrInput","","name","fsName",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["clrInput","","name","shareName",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","securityType","value","AUTH_SYS",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","securityType","value","SEC_KRB5",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","securityType","value","SEC_KRB5I",3,"ngModel","ngModelChange"],[3,"type","click"],[3,"type"],["type","checkbox","clrToggle","","name","qosFlag",3,"ngModel","ngModelChange"],["type","checkbox","name","thin","clrToggle","",3,"ngModel","ngModelChange"],["clrSelect","","name","deduplicationEnabled",3,"ngModel","ngModelChange"],["value","false"],["value","true"],["clrSelect","","name","compressionEnabled",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","autoSizeEnable",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft"],["type","radio","clrRadio","","name","controlPolicy","required","","value","up",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","required","","value","low",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","required","","value","1"],["type","text","name","maxBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","2"],["type","text","name","maxIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","1"],["type","text","name","minBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required",""],["type","text","name","minIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","3"],["type","text","name","latency",1,"inputOneLine",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-wizard",0,1),b.Ub(3,"clr-wizard-title"),b.Kc(4),b.hc(5,"translate"),b.Tb(),b.Ic(6,Re,2,1,"p",2),b.Ub(7,"clr-wizard-page",3),b.Ic(8,Ae,2,3,"ng-template",4),b.Ub(9,"form",5,6),b.Ub(11,"clr-select-container"),b.Ub(12,"label"),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Ub(15,"select",7),b.cc("ngModelOptions",(function(){return t.storageList}))("ngModelChange",(function(e){return t.addForm.storagId=e}))("change",(function(){return t.selectStoragePool()})),b.Ic(16,He,2,2,"option",8),b.Tb(),b.Ub(17,"clr-control-error"),b.Kc(18,"This field is required!"),b.Tb(),b.Tb(),b.Ub(19,"clr-combobox-container"),b.Ub(20,"label"),b.Kc(21),b.hc(22,"translate"),b.Tb(),b.Ub(23,"clr-combobox",9),b.cc("ngModelChange",(function(e){return t.checkedPool=e})),b.Ub(24,"clr-options"),b.Ic(25,Ge,2,2,"clr-option",10),b.Tb(),b.Tb(),b.Tb(),b.Ub(26,"clr-select-container"),b.Ub(27,"label"),b.Kc(28),b.hc(29,"translate"),b.Tb(),b.Ub(30,"select",11),b.cc("ngModelOptions",(function(){return t.logicPorts}))("ngModelChange",(function(e){return t.addForm.currentPortId=e})),b.Ic(31,We,2,2,"option",8),b.Tb(),b.Tb(),b.Ub(32,"clr-input-container"),b.Ub(33,"label"),b.Kc(34),b.hc(35,"translate"),b.Tb(),b.Ub(36,"input",12),b.cc("ngModelChange",(function(e){return t.addForm.nfsName=e})),b.Tb(),b.Tb(),b.Ub(37,"clr-checkbox-container"),b.Pb(38,"label"),b.Ub(39,"clr-checkbox-wrapper"),b.Ub(40,"input",13),b.cc("ngModelChange",(function(e){return t.addForm.sameName=e})),b.Tb(),b.Ub(41,"label"),b.Kc(42),b.hc(43,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(44,$e,5,4,"clr-input-container",14),b.Ic(45,Ye,5,4,"clr-input-container",14),b.Ub(46,"clr-input-container"),b.Ub(47,"label"),b.Kc(48),b.hc(49,"translate"),b.Tb(),b.Ub(50,"input",15,16),b.cc("ngModelChange",(function(e){return t.addForm.size=e})),b.Tb(),b.Ub(52,"select",17),b.cc("ngModelChange",(function(e){return t.unit=e})),b.Ub(53,"option",18),b.Kc(54,"TB"),b.Tb(),b.Ub(55,"option",19),b.Kc(56,"GB"),b.Tb(),b.Ub(57,"option",20),b.Kc(58,"MB"),b.Tb(),b.Ub(59,"option",21),b.Kc(60,"KB"),b.Tb(),b.Tb(),b.Tb(),b.Ub(61,"clr-select-container"),b.Ub(62,"label"),b.Kc(63),b.hc(64,"translate"),b.Tb(),b.Ub(65,"select",22),b.cc("ngModelChange",(function(e){return t.addForm.type=e})),b.Ub(66,"option",23),b.Kc(67,"v3"),b.Tb(),b.Ub(68,"option",24),b.Kc(69,"v4.1"),b.Tb(),b.Tb(),b.Tb(),b.Ic(70,Je,19,15,"clr-radio-container",14),b.Ub(71,"clr-select-container"),b.Ub(72,"label"),b.Kc(73),b.hc(74,"translate"),b.Tb(),b.Ub(75,"select",25),b.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.addForm.hostObjectId=e}))("change",(function(){return t.checkHost()})),b.Ic(76,Xe,2,2,"option",8),b.Tb(),b.Tb(),b.Ub(77,"clr-select-container"),b.Ub(78,"label"),b.Kc(79),b.hc(80,"translate"),b.Tb(),b.Ub(81,"select",26),b.cc("ngModelOptions",(function(){return t.vmkernelList}))("ngModelChange",(function(e){return t.addForm.vkernelIp=e})),b.Ic(82,Qe,2,2,"option",8),b.Tb(),b.Tb(),b.Ub(83,"clr-select-container"),b.Ub(84,"label"),b.Kc(85),b.hc(86,"translate"),b.Tb(),b.Ub(87,"select",27),b.cc("ngModelChange",(function(e){return t.addForm.accessMode=e})),b.Ub(88,"option",28),b.Kc(89),b.hc(90,"translate"),b.Tb(),b.Ub(91,"option",29),b.Kc(92),b.hc(93,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ic(94,Ze,9,12,"ng-template",30),b.Tb(),b.Ub(95,"clr-wizard-page",3),b.Ic(96,et,2,3,"ng-template",4),b.Ic(97,tt,2,3,"ng-template",31),b.Ub(98,"form",5,32),b.Ub(100,"clr-toggle-wrapper"),b.Ub(101,"label"),b.Kc(102),b.hc(103,"translate"),b.Tb(),b.Ub(104,"input",33),b.cc("ngModelChange",(function(e){return t.addForm.advance=e})),b.Tb(),b.Tb(),b.Ic(105,at,39,33,"div",14),b.Tb(),b.Ic(106,rt,9,12,"ng-template",30),b.Tb(),b.Tb(),b.Ub(107,"clr-wizard",34,1),b.Ub(109,"clr-wizard-title"),b.Kc(110),b.hc(111,"translate"),b.Tb(),b.Ic(112,st,2,1,"p",2),b.Ub(113,"clr-wizard-page",3),b.Ic(114,lt,2,3,"ng-template",4),b.Ub(115,"form",5,6),b.Ub(117,"clr-select-container"),b.Ub(118,"label"),b.Kc(119),b.hc(120,"translate"),b.Tb(),b.Ub(121,"select",7),b.cc("ngModelOptions",(function(){return t.storageList}))("ngModelChange",(function(e){return t.addForm.storagId=e}))("change",(function(){return t.selectStoragePool()})),b.Ic(122,bt,2,2,"option",8),b.Tb(),b.Ub(123,"clr-control-error"),b.Kc(124,"This field is required!"),b.Tb(),b.Tb(),b.Ub(125,"clr-combobox-container"),b.Ub(126,"label"),b.Kc(127),b.hc(128,"translate"),b.Tb(),b.Ub(129,"clr-combobox",9),b.cc("ngModelChange",(function(e){return t.checkedPool=e})),b.Ub(130,"clr-options"),b.Ic(131,dt,2,2,"clr-option",10),b.Tb(),b.Tb(),b.Tb(),b.Ub(132,"clr-select-container"),b.Ub(133,"label"),b.Kc(134),b.hc(135,"translate"),b.Tb(),b.Ub(136,"select",11),b.cc("ngModelOptions",(function(){return t.logicPorts}))("ngModelChange",(function(e){return t.addForm.currentPortId=e})),b.Ic(137,gt,2,2,"option",8),b.Tb(),b.Tb(),b.Ub(138,"clr-input-container"),b.Ub(139,"label"),b.Kc(140),b.hc(141,"translate"),b.Tb(),b.Ub(142,"input",12),b.cc("ngModelChange",(function(e){return t.addForm.nfsName=e})),b.Tb(),b.Tb(),b.Ub(143,"clr-checkbox-container"),b.Pb(144,"label"),b.Ub(145,"clr-checkbox-wrapper"),b.Ub(146,"input",13),b.cc("ngModelChange",(function(e){return t.addForm.sameName=e})),b.Tb(),b.Ub(147,"label"),b.Kc(148),b.hc(149,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(150,ut,5,4,"clr-input-container",14),b.Ic(151,ht,5,4,"clr-input-container",14),b.Ub(152,"clr-input-container"),b.Ub(153,"label"),b.Kc(154),b.hc(155,"translate"),b.Tb(),b.Ub(156,"input",15,16),b.cc("ngModelChange",(function(e){return t.addForm.size=e})),b.Tb(),b.Ub(158,"select",17),b.cc("ngModelChange",(function(e){return t.unit=e})),b.Ub(159,"option",18),b.Kc(160,"TB"),b.Tb(),b.Ub(161,"option",19),b.Kc(162,"GB"),b.Tb(),b.Ub(163,"option",20),b.Kc(164,"MB"),b.Tb(),b.Ub(165,"option",21),b.Kc(166,"KB"),b.Tb(),b.Tb(),b.Tb(),b.Ub(167,"clr-select-container"),b.Ub(168,"label"),b.Kc(169),b.hc(170,"translate"),b.Tb(),b.Ub(171,"select",22),b.cc("ngModelChange",(function(e){return t.addForm.type=e})),b.Ub(172,"option",23),b.Kc(173,"v3"),b.Tb(),b.Ub(174,"option",24),b.Kc(175,"v4.1"),b.Tb(),b.Tb(),b.Tb(),b.Ub(176,"clr-select-container"),b.Ub(177,"label"),b.Kc(178),b.hc(179,"translate"),b.Tb(),b.Ub(180,"select",25),b.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.addForm.hostObjectId=e}))("change",(function(){return t.checkHost()})),b.Ic(181,pt,2,2,"option",8),b.Tb(),b.Tb(),b.Ub(182,"clr-select-container"),b.Ub(183,"label"),b.Kc(184),b.hc(185,"translate"),b.Tb(),b.Ub(186,"select",26),b.cc("ngModelOptions",(function(){return t.vmkernelList}))("ngModelChange",(function(e){return t.addForm.vkernelIp=e})),b.Ic(187,mt,2,2,"option",8),b.Tb(),b.Tb(),b.Ub(188,"clr-select-container"),b.Ub(189,"label"),b.Kc(190),b.hc(191,"translate"),b.Tb(),b.Ub(192,"select",27),b.cc("ngModelChange",(function(e){return t.addForm.accessMode=e})),b.Ub(193,"option",28),b.Kc(194),b.hc(195,"translate"),b.Tb(),b.Ub(196,"option",29),b.Kc(197),b.hc(198,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ic(199,ft,9,12,"ng-template",30),b.Tb(),b.Ub(200,"clr-wizard-page",3),b.Ic(201,Ct,2,3,"ng-template",4),b.Ic(202,Tt,2,3,"ng-template",31),b.Ub(203,"form",5,32),b.Ub(205,"clr-toggle-wrapper"),b.Ub(206,"label"),b.Kc(207),b.hc(208,"translate"),b.Tb(),b.Ub(209,"input",33),b.cc("ngModelChange",(function(e){return t.addForm.advance=e})),b.Tb(),b.Tb(),b.Ic(210,Lt,39,33,"div",14),b.Tb(),b.Ic(211,It,9,12,"ng-template",30),b.Tb(),b.Tb(),b.Tb()),2&e){const e=b.wc(10),c=b.wc(99);b.Cb(1),b.mc("clrWizardOpen","add_plugin"==t.viewPage)("clrWizardClosable",!1),b.Cb(3),b.Lc(b.ic(5,81,"nfs.add_title")),b.Cb(2),b.mc("ngIf",t.errorMsg),b.Cb(1),b.mc("clrWizardPageNextDisabled",!e.valid),b.Cb(6),b.Lc(b.ic(14,83,"nfs.storeageDevice")),b.Cb(2),b.mc("ngModel",t.addForm.storagId),b.Cb(1),b.mc("ngForOf",t.storageList),b.Cb(5),b.Lc(b.ic(22,85,"nfs.storagePool")),b.Cb(2),b.mc("ngModel",t.checkedPool),b.Cb(2),b.mc("clrOptionItemsOf",t.storagePools)("clrOptionItemsField","name"),b.Cb(3),b.Lc(b.ic(29,87,"nfs.logicPort")),b.Cb(2),b.mc("ngModel",t.addForm.currentPortId),b.Cb(1),b.mc("ngForOf",t.logicPorts),b.Cb(3),b.Lc(b.ic(35,89,"nfs.datastoreName")),b.Cb(2),b.mc("ngModel",t.addForm.nfsName),b.Cb(4),b.mc("ngModel",t.addForm.sameName),b.Cb(2),b.Lc(b.ic(43,91,"nfs.sameName")),b.Cb(2),b.mc("ngIf",!t.addForm.sameName),b.Cb(1),b.mc("ngIf",!t.addForm.sameName),b.Cb(3),b.Lc(b.ic(49,93,"nfs.size")),b.Cb(2),b.mc("ngModel",t.addForm.size),b.Cb(2),b.mc("ngModel",t.unit),b.Cb(11),b.Lc(b.ic(64,95,"nfs.nfsProtocol")),b.Cb(2),b.mc("ngModel",t.addForm.type),b.Cb(5),b.mc("ngIf","NFS41"==t.addForm.type),b.Cb(3),b.Lc(b.ic(74,97,"nfs.mountHost")),b.Cb(2),b.mc("ngModel",t.addForm.hostObjectId),b.Cb(1),b.mc("ngForOf",t.hostList),b.Cb(3),b.Lc(b.ic(80,99,"nfs.vkernel")),b.Cb(2),b.mc("ngModel",t.addForm.vkernelIp),b.Cb(1),b.mc("ngForOf",t.vmkernelList),b.Cb(3),b.Lc(b.ic(86,101,"nfs.mountType")),b.Cb(2),b.mc("ngModel",t.addForm.accessMode),b.Cb(2),b.Lc(b.ic(90,103,"nfs.readOnly")),b.Cb(3),b.Lc(b.ic(93,105,"nfs.readWrite")),b.Cb(3),b.mc("clrWizardPageNextDisabled",!c.valid),b.Cb(7),b.Lc(b.ic(103,107,"nfs.add_advance")),b.Cb(2),b.mc("ngModel",t.addForm.advance),b.Cb(1),b.mc("ngIf",t.addForm.advance),b.Cb(2),b.mc("clrWizardOpen","add_vcenter"==t.viewPage)("clrWizardClosable",!1),b.Cb(3),b.Lc(b.ic(111,109,"nfs.add_title")),b.Cb(2),b.mc("ngIf",""!==t.errorMsg),b.Cb(1),b.mc("clrWizardPageNextDisabled",!e.valid),b.Cb(6),b.Lc(b.ic(120,111,"nfs.storeageDevice")),b.Cb(2),b.mc("ngModel",t.addForm.storagId),b.Cb(1),b.mc("ngForOf",t.storageList),b.Cb(5),b.Lc(b.ic(128,113,"nfs.storagePool")),b.Cb(2),b.mc("ngModel",t.checkedPool),b.Cb(2),b.mc("clrOptionItemsOf",t.storagePools)("clrOptionItemsField","name"),b.Cb(3),b.Lc(b.ic(135,115,"nfs.logicPort")),b.Cb(2),b.mc("ngModel",t.addForm.currentPortId),b.Cb(1),b.mc("ngForOf",t.logicPorts),b.Cb(3),b.Lc(b.ic(141,117,"nfs.datastoreName")),b.Cb(2),b.mc("ngModel",t.addForm.nfsName),b.Cb(4),b.mc("ngModel",t.addForm.sameName),b.Cb(2),b.Lc(b.ic(149,119,"nfs.sameName")),b.Cb(2),b.mc("ngIf",!t.addForm.sameName),b.Cb(1),b.mc("ngIf",!t.addForm.sameName),b.Cb(3),b.Lc(b.ic(155,121,"nfs.size")),b.Cb(2),b.mc("ngModel",t.addForm.size),b.Cb(2),b.mc("ngModel",t.unit),b.Cb(11),b.Lc(b.ic(170,123,"nfs.nfsProtocol")),b.Cb(2),b.mc("ngModel",t.addForm.type),b.Cb(7),b.Lc(b.ic(179,125,"nfs.mountHost")),b.Cb(2),b.mc("ngModel",t.addForm.hostObjectId),b.Cb(1),b.mc("ngForOf",t.hostList),b.Cb(3),b.Lc(b.ic(185,127,"nfs.vkernel")),b.Cb(2),b.mc("ngModel",t.addForm.vkernelIp),b.Cb(1),b.mc("ngForOf",t.vmkernelList),b.Cb(3),b.Lc(b.ic(191,129,"nfs.mountType")),b.Cb(2),b.mc("ngModel",t.addForm.accessMode),b.Cb(2),b.Lc(b.ic(195,131,"nfs.readOnly")),b.Cb(3),b.Lc(b.ic(198,133,"nfs.readWrite")),b.Cb(3),b.mc("clrWizardPageNextDisabled",!c.valid),b.Cb(7),b.Lc(b.ic(208,135,"nfs.add_advance")),b.Cb(2),b.mc("ngModel",t.addForm.advance),b.Cb(1),b.mc("ngIf",t.addForm.advance)}},directives:[d.cb,d.eb,n.n,d.fb,d.ib,g.E,g.r,g.s,d.A,d.V,d.H,g.A,d.U,g.z,g.q,g.t,n.m,d.k,d.j,d.i,d.N,d.M,d.G,g.e,d.F,d.g,d.h,g.b,d.f,g.w,g.v,g.D,d.gb,d.hb,d.L,d.S,d.T,g.x,d.R,d.db],pipes:[u.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}"],changeDetection:0}),e})(),Kt=(()=>{class e{constructor(e){this.http=e}getNfsDetailById(e){return console.log(123),this.http.get("operatenfs/editnfsstore",{params:{storeObjectId:e}})}updateNfs(e={}){return this.http.post("operatenfs/updatenfsdatastore",e)}}return e.\u0275fac=function(t){return new(t||e)(b.Yb(w.b))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac}),e})();function Ot(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",19),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.fsName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.fsName")),b.Cb(2),b.mc("ngModel",e.updateNfs.fsName)}}function Pt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-input-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"input",20),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.shareName=t})),b.Tb(),b.Tb()}if(2&e){const e=b.gc();b.Cb(2),b.Lc(b.ic(3,2,"nfs.shareName")),b.Cb(2),b.mc("ngModel",e.updateNfs.shareName)}}function kt(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",25),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",26),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.maxBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",27),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",28),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.maxIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(3);b.Cb(2),b.Lc(b.ic(3,5,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,7,"nfs.qos_bandwidth"),"<="),b.Cb(2),b.mc("ngModel",e.updateNfs.maxBandwidth),b.Cb(5),b.Mc("",b.ic(15,9,"nfs.qos_iops"),"<="),b.Cb(2),b.mc("ngModel",e.updateNfs.maxIops)}}function Ft(e,t){if(1&e){const e=b.Vb();b.Ub(0,"clr-radio-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Tb(),b.Ub(4,"clr-radio-wrapper"),b.Pb(5,"input",29),b.Ub(6,"label"),b.Kc(7),b.hc(8,"translate"),b.Ub(9,"input",30),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.minBandwidth=t})),b.Tb(),b.Kc(10," MB/s"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Pb(12,"input",31),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Ub(16,"input",32),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.minIops=t})),b.Tb(),b.Kc(17," MB/s"),b.Tb(),b.Tb(),b.Ub(18,"clr-radio-wrapper"),b.Pb(19,"input",33),b.Ub(20,"label"),b.Kc(21),b.hc(22,"translate"),b.Ub(23,"input",34),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc(3).updateNfs.latency=t})),b.Tb(),b.Kc(24," ms"),b.Tb(),b.Tb(),b.Tb()}if(2&e){const e=b.gc(3);b.Cb(2),b.Lc(b.ic(3,7,"nfs.tfo")),b.Cb(5),b.Mc("",b.ic(8,9,"nfs.qos_bandwidth"),">="),b.Cb(2),b.mc("ngModel",e.updateNfs.minBandwidth),b.Cb(5),b.Mc("",b.ic(15,11,"nfs.qos_iops"),">="),b.Cb(2),b.mc("ngModel",e.updateNfs.minIops),b.Cb(5),b.Mc("",b.ic(22,13,"nfs.qos_latency"),"<="),b.Cb(2),b.mc("ngModel",e.updateNfs.latency)}}function Nt(e,t){if(1&e&&(b.Ub(0,"div"),b.Ic(1,kt,18,11,"clr-radio-container",8),b.Ic(2,Ft,25,15,"clr-radio-container",8),b.Tb()),2&e){const e=b.gc(2);b.Cb(1),b.mc("ngIf","up"===e.updateNfs.contolPolicy),b.Cb(1),b.mc("ngIf","low"===e.updateNfs.contolPolicy)}}function St(e,t){if(1&e){const e=b.Vb();b.Ub(0,"div"),b.Ub(1,"clr-radio-container",21),b.Ub(2,"label",22),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"clr-radio-wrapper"),b.Ub(6,"input",23),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.contolPolicy=t})),b.Tb(),b.Ub(7,"label"),b.Kc(8),b.hc(9,"translate"),b.Tb(),b.Tb(),b.Ub(10,"clr-radio-wrapper"),b.Ub(11,"input",24),b.cc("ngModelChange",(function(t){return b.zc(e),b.gc().updateNfs.contolPolicy=t})),b.Tb(),b.Ub(12,"label"),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(15,Nt,3,2,"div",8),b.Tb()}if(2&e){const e=b.gc();b.Cb(3),b.Lc(b.ic(4,6,"nfs.controlPolicy")),b.Cb(3),b.mc("ngModel",e.updateNfs.contolPolicy),b.Cb(2),b.Lc(b.ic(9,8,"nfs.ulc")),b.Cb(3),b.mc("ngModel",e.updateNfs.contolPolicy),b.Cb(2),b.Lc(b.ic(14,10,"nfs.llc")),b.Cb(2),b.mc("ngIf",e.updateNfs.contolPolicy)}}const xt=[{path:"",component:I},{path:"logicport",component:k},{path:"performance",component:Z},{path:"share",component:z},{path:"host/mount",component:ue},{path:"host/unmount",component:ye},{path:"dataStore/mount",component:ue},{path:"dataStore/unmount",component:ye},{path:"cluster/mount",component:ue},{path:"cluster/unmount",component:ye},{path:"add",component:wt},{path:"modify",component:(()=>{class e{constructor(e,t,c,n,o){this.modifyService=e,this.cdr=t,this.gs=c,this.activatedRoute=n,this.router=o}ngOnInit(){if(this.viewPage="modify_plugin",this.activatedRoute.queryParams.subscribe(e=>{this.pluginFlag=e.flag,this.objectId=e.objectid}),null==this.pluginFlag){const e=this.gs.getClientSdk().app.getContextObjects();this.objectId=e[0].id,this.viewPage="modify_vcenter"}this.gs.loading=!0,this.modifyService.getNfsDetailById(this.objectId).subscribe(e=>{"200"===e.code&&(this.updateNfs=e.data,this.updateNfs.sameName=!0,this.updateNfs.dataStoreObjectId=this.objectId,this.gs.loading=!1)})}modifyCommit(){this.gs.loading=!0,console.log(this.updateNfs),this.updateNfs.sameName&&(this.updateNfs.shareName=this.updateNfs.nfsName,this.updateNfs.fsName=this.updateNfs.nfsName),this.modifyService.updateNfs(this.updateNfs).subscribe(e=>{this.gs.loading=!1,"200"===e.code?"plugin"==this.pluginFlag?this.backToNfsList():this.closeModel():this.errorMsg="\u7f16\u8f91\u5931\u8d25\uff01"+e.description})}backToNfsList(){this.gs.loading=!1,this.router.navigate(["nfs"])}closeModel(){this.gs.loading=!1,this.gs.getClientSdk().modal.close()}}return e.\u0275fac=function(t){return new(t||e)(b.Ob(Kt),b.Ob(b.h),b.Ob(r.b),b.Ob(i.a),b.Ob(i.f))},e.\u0275cmp=b.Ib({type:e,selectors:[["app-add"]],features:[b.Bb([Kt])],decls:69,vars:54,consts:[[3,"clrModalOpen"],[1,"modal-title"],[2,"color","red"],[1,"modal-body"],["clrForm",""],["formPageOne","ngForm"],["clrInput","","name","nfsName",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","name","sameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","checkbox","clrToggle","","name","qosFlag",3,"ngModel","ngModelChange"],["type","checkbox","name","thin","clrToggle","",3,"ngModel","ngModelChange"],["clrSelect","","name","deduplicationEnabled",3,"ngModel","ngModelChange"],["value","false"],["value","true"],["clrSelect","","name","compressionEnabled",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","autoSizeEnable",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["clrInput","","name","fsName",3,"ngModel","ngModelChange"],["clrInput","","name","shareName",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft"],["type","radio","clrRadio","","name","controlPolicy","required","","value","up",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","required","","value","low",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","required","","value","1"],["type","text","name","maxBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","2"],["type","text","name","maxIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","1"],["type","text","name","minBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required",""],["type","text","name","minIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","3"],["type","text","name","latency",1,"inputOneLine",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(b.Ub(0,"div"),b.Ub(1,"clr-modal",0),b.Ub(2,"h3",1),b.Kc(3),b.hc(4,"translate"),b.Tb(),b.Ub(5,"p",2),b.Kc(6),b.Tb(),b.Ub(7,"div",3),b.Ub(8,"form",4,5),b.Ub(10,"clr-input-container"),b.Ub(11,"label"),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"input",6),b.cc("ngModelChange",(function(e){return t.updateNfs.nfsName=e})),b.Tb(),b.Tb(),b.Ub(15,"clr-checkbox-container"),b.Pb(16,"label"),b.Ub(17,"clr-checkbox-wrapper"),b.Ub(18,"input",7),b.cc("ngModelChange",(function(e){return t.updateNfs.sameName=e})),b.Tb(),b.Ub(19,"label"),b.Kc(20),b.hc(21,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(22,Ot,5,4,"clr-input-container",8),b.Ic(23,Pt,5,4,"clr-input-container",8),b.Ub(24,"clr-toggle-wrapper"),b.Ub(25,"label"),b.Kc(26),b.hc(27,"translate"),b.Tb(),b.Ub(28,"input",9),b.cc("ngModelChange",(function(e){return t.updateNfs.qosFlag=e})),b.Tb(),b.Tb(),b.Ic(29,St,16,12,"div",8),b.Ub(30,"clr-toggle-wrapper"),b.Ub(31,"label"),b.Kc(32),b.hc(33,"translate"),b.Tb(),b.Ub(34,"input",10),b.cc("ngModelChange",(function(e){return t.updateNfs.thin=e})),b.Tb(),b.Tb(),b.Ub(35,"clr-select-container"),b.Ub(36,"label"),b.Kc(37),b.hc(38,"translate"),b.Tb(),b.Ub(39,"select",11),b.cc("ngModelChange",(function(e){return t.updateNfs.deduplicationEnabled=e})),b.Ub(40,"option",12),b.Kc(41),b.hc(42,"translate"),b.Tb(),b.Ub(43,"option",13),b.Kc(44),b.hc(45,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(46,"clr-select-container"),b.Ub(47,"label"),b.Kc(48),b.hc(49,"translate"),b.Tb(),b.Ub(50,"select",14),b.cc("ngModelChange",(function(e){return t.updateNfs.compressionEnabled=e})),b.Ub(51,"option",12),b.Kc(52),b.hc(53,"translate"),b.Tb(),b.Ub(54,"option",13),b.Kc(55),b.hc(56,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ub(57,"clr-toggle-wrapper"),b.Ub(58,"label"),b.Kc(59),b.hc(60,"translate"),b.Tb(),b.Ub(61,"input",15),b.cc("ngModelChange",(function(e){return t.updateNfs.autoSizeEnable=e})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(62,"div",16),b.Ub(63,"button",17),b.cc("click",(function(){return t.backToNfsList()})),b.Kc(64),b.hc(65,"translate"),b.Tb(),b.Ub(66,"button",18),b.cc("click",(function(){return t.modifyCommit()})),b.Kc(67),b.hc(68,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Cb(1),b.mc("clrModalOpen","modify_plugin"==t.viewPage),b.Cb(2),b.Lc(b.ic(4,26,"menu.modify")),b.Cb(3),b.Lc(t.errorMsg),b.Cb(6),b.Lc(b.ic(13,28,"nfs.name")),b.Cb(2),b.mc("ngModel",t.updateNfs.nfsName),b.Cb(4),b.mc("ngModel",t.updateNfs.sameName),b.Cb(2),b.Lc(b.ic(21,30,"nfs.sameName")),b.Cb(2),b.mc("ngIf",!t.updateNfs.sameName),b.Cb(1),b.mc("ngIf",!t.updateNfs.sameName),b.Cb(3),b.Lc(b.ic(27,32,"nfs.qosPolicy")),b.Cb(2),b.mc("ngModel",t.updateNfs.qosFlag),b.Cb(1),b.mc("ngIf",t.updateNfs.qosFlag),b.Cb(3),b.Mc(" ",b.ic(33,34,"nfs.thin"),""),b.Cb(2),b.mc("ngModel",t.updateNfs.thin),b.Cb(3),b.Lc(b.ic(38,36,"nfs.dataDedu")),b.Cb(2),b.mc("ngModel",t.updateNfs.deduplicationEnabled),b.Cb(2),b.Lc(b.ic(42,38,"nfs.disable")),b.Cb(3),b.Lc(b.ic(45,40,"nfs.enable")),b.Cb(4),b.Lc(b.ic(49,42,"nfs.dataCompre")),b.Cb(2),b.mc("ngModel",t.updateNfs.compressionEnabled),b.Cb(2),b.Lc(b.ic(53,44,"nfs.disable")),b.Cb(3),b.Lc(b.ic(56,46,"nfs.enable")),b.Cb(4),b.Lc(b.ic(60,48,"nfs.capAuto")),b.Cb(2),b.mc("ngModel",t.updateNfs.autoSizeEnable),b.Cb(3),b.Lc(b.ic(65,50,"menu.cancel")),b.Cb(3),b.Lc(b.ic(68,52,"menu.ok")))},directives:[d.J,d.K,g.E,g.r,g.s,d.A,d.G,d.H,g.e,d.F,g.q,g.t,d.g,d.h,g.b,d.f,n.n,d.V,g.A,d.U,g.v,g.D,d.S,d.T,g.x,d.R,g.z],pipes:[u.c],styles:[""]}),e})()},{path:"reduce",component:Oe},{path:"expand",component:Se},{path:"delete",component:De},{path:"fs",component:E}];let zt=(()=>{class e{}return e.\u0275mod=b.Mb({type:e}),e.\u0275inj=b.Lb({factory:function(t){return new(t||e)},imports:[[i.i.forChild(xt)],i.i]}),e})(),_t=(()=>{class e{}return e.\u0275mod=b.Mb({type:e}),e.\u0275inj=b.Lb({factory:function(t){return new(t||e)},imports:[[g.m,n.c,o.a,A.a,g.m,d.a,zt]]}),e})()}}]);