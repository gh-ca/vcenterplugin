{"version":3,"sources":["./src/app/routes/iscsi/iscsi-routing.module.ts","./src/app/routes/iscsi/iscsi.component.ts","./src/app/routes/iscsi/iscsi.component.html","./src/app/routes/iscsi/iscsi.module.ts"],"names":[],"mappings":"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","file":"iscsi-iscsi-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IscsiComponent } from './iscsi.component';\r\n\r\nconst routes: Routes = [{ path: '', component: IscsiComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class IscsiRoutingModule { }\r\n","import {ChangeDetectorRef, Component, OnInit} from '@angular/core';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {CommonService} from '../common.service';\r\nimport {GlobalsService} from '../../shared/globals.service';\r\n\r\n@Component({\r\n  selector: 'app-iscsi',\r\n  templateUrl: './iscsi.component.html',\r\n  styleUrls: ['./iscsi.component.scss'],\r\n  providers: [CommonService, GlobalsService]\r\n})\r\nexport class IscsiComponent implements OnInit {\r\n\r\n\r\n  popShow = true;\r\n  configModel = {\r\n    hostId: '',\r\n    hostIp: '',\r\n    storageDeviceId: ''\r\n  };\r\n  // 存储下拉框数据\r\n  storageDevices = [];\r\n\r\n  portSelected = [];\r\n  portLoading = false;\r\n  portList = [];\r\n  portTotal = 0;\r\n  constructor(private cdr: ChangeDetectorRef,\r\n              private http: HttpClient,\r\n              private commonService: CommonService,\r\n              private gs: GlobalsService) { }\r\n\r\n  ngOnInit(): void {\r\n    const ctx = this.gs.getClientSdk().app.getContextObjects();\r\n    console.log(ctx);\r\n    this.loadStorageDevice();\r\n  }\r\n\r\n  loadStorageDevice(){\r\n    this.http.get('http://localhost:8080/dmestorage/storages', {}).subscribe((result: any) => {\r\n      console.log(result);\r\n      if (result.code === '0' || result.code === '200'){\r\n        this.storageDevices = result.data.data;\r\n        this.cdr.detectChanges(); // 此方法变化检测，异步处理数据都要添加此方法\r\n      }\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n  }\r\n\r\n  loadPorts(){\r\n    this.portLoading = true;\r\n  }\r\n\r\n  submit(){\r\n\r\n  }\r\n}\r\n","\r\n<form clrForm>\r\n  <clr-input-container>\r\n    <input hidden clrInput type=\"text\" [(ngModel)]=\"configModel.hostId\" name=\"hostId\" />\r\n    <label>Host vKernel IP</label>:\r\n    <input clrInput type=\"text\" [(ngModel)]=\"configModel.hostIp\" name=\"hostIp\" />\r\n  </clr-input-container>\r\n  <!--存储设备 -->\r\n  <clr-select-container>\r\n    <label>Storage Device</label>:\r\n    <select clrSelect (change)=\"loadPorts();\" (ngModelOptions)=\"storageDevices\"  [(ngModel)]=\"configModel.storageDeviceId\" name=\"storageDeviceId\" >\r\n      <option *ngFor=\"let item of storageDevices\" value=\"{{item.id}}\">{{item.name}}</option>\r\n    </select>\r\n  </clr-select-container>\r\n</form>\r\n<clr-datagrid [(clrDgSelected)]=\"portSelected\"   [clrDgLoading]=\"portLoading\">\r\n\r\n  <clr-dg-column [clrDgField]=\"'location'\">Location</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'status'\">status</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'ipv4Address'\">IPv4 Address</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'ipv6Address'\">IPv6 Address</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'workingRate'\">Working Rate(Mbps)</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'iops'\">IOPS</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'latency'\">Latency(ms)</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'bandwidth'\">BandWidth(MB/s)</clr-dg-column>\r\n  <clr-dg-column [clrDgField]=\"'usage'\">Usage(%)</clr-dg-column>\r\n\r\n\r\n  <clr-dg-column [clrDgField]=\"'connectStatus'\">Connect Status</clr-dg-column>\r\n\r\n  <clr-dg-row *ngFor=\"let item of portList\" [clrDgItem]=\"item\">\r\n    <clr-dg-cell>{{item.location}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.status}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.ipv4Address}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.ipv6Address}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.workingRate}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.iops}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.bandwidth}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.bandwidth}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.usage}}</clr-dg-cell>\r\n    <clr-dg-cell>{{item.connectStatus}}</clr-dg-cell>\r\n  </clr-dg-row>\r\n\r\n  <clr-dg-footer>\r\n    <clr-dg-pagination #pagination [clrDgPageSize]=\"5\" [clrDgTotalItems]=\"portTotal\">\r\n      <clr-dg-page-size [clrPageSizeOptions]=\"[5,10,50,100]\">per page</clr-dg-page-size>\r\n      {{pagination.firstItem + 1}} - {{pagination.lastItem + 1}}\r\n      of {{pagination.totalItems}}\r\n    </clr-dg-pagination>\r\n  </clr-dg-footer>\r\n\r\n</clr-datagrid>\r\n\r\n<button type=\"button\" class=\"btn btn-outline\" (click)=\"popShow=false\">Cancel</button>\r\n<button type=\"button\" class=\"btn btn-primary\" (click)=\"submit()\">Ok</button>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { IscsiRoutingModule } from './iscsi-routing.module';\r\nimport { IscsiComponent } from './iscsi.component';\r\nimport {SharedModule} from '../../shared';\r\n\r\n\r\n@NgModule({\r\n  declarations: [IscsiComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    IscsiRoutingModule\r\n  ]\r\n})\r\nexport class IscsiModule { }\r\n"],"sourceRoot":"webpack:///"}