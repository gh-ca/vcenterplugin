{"version":3,"sources":["./src/app/routes/common.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAA2C;;AAIpC,MAAM,aAAa;IAExB,MAAM,CAAC,QAAa,EAAE;QACpB,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACnC,OAAO,CAAC,CAAC;IACX,CAAC;IAED,YAAY;IACZ,OAAO,CAAC,KAAgC,EAAE,KAAU;QAClD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,IAAI,CAAC;QACT,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;QAClB,kFAAkF;QAClF,IAAI,IAAI,EAAE;YACR,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC;YAC5C,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC;SACtB;QACD,aAAa;QACb,IAAI,KAAK,CAAC,OAAO,EAAE;YACjB,KAAK,MAAM,MAAM,IAAI,KAAK,CAAC,OAAO,EAAE;gBAClC,MAAM,EAAC,QAAQ,EAAE,KAAK,EAAC,GAAI,MAA2C,CAAC;gBACvE,KAAK,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;aACzB;SACF;QACD,uCAAuC;QACvC,IAAI,KAAK,CAAC,IAAI,EAAE;YACd,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;YAChC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;SAClC;QACD,MAAM,EAAE,GAAG,EAAE,MAAM,EAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;QACf,OAAO,EAAE,CAAC;IACZ,CAAC;;0EAhCU,aAAa;gGAAb,aAAa,WAAb,aAAa;6FAAb,aAAa;cADzB,wDAAU","file":"common-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport {ClrDatagridStateInterface} from '@clr/angular';\r\n\r\n@Injectable()\r\nexport class CommonService {\r\n\r\n  params(query: any = {}) { // 对query进行处理\r\n    const p = Object.assign({}, query);\r\n    return p;\r\n  }\r\n\r\n  // table数据处理\r\n  refresh(state: ClrDatagridStateInterface, query: any) {\r\n    console.log(state);\r\n    let sort;\r\n    sort = state.sort;\r\n    // 排序 排序规则order:  true降序  false升序 ;   排序值by: 字符串  按照某个字段排序  在html里[clrDgSortBy]自定义\r\n    if (sort) {\r\n      query.order = sort.reverse ? 'desc' : 'asc';\r\n      query.sort = sort.by;\r\n    }\r\n    // 过滤器   过滤内容\r\n    if (state.filters) {\r\n      for (const filter of state.filters) {\r\n        const {property, value} =  filter as {property: string, value: string};\r\n        query[property] = value;\r\n      }\r\n    }\r\n    // 分页器数据current: 1 当前页;    size: 5 分页大小\r\n    if (state.page) {\r\n      query.page = state.page.current;\r\n      query.per_page = state.page.size;\r\n    }\r\n    const qq = { params : this.params(query)};\r\n    console.log(qq)\r\n    return qq;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}