!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function n(e,n,c){return n&&t(e.prototype,n),c&&t(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{xw5d:function(t,c,a){"use strict";a.r(c),a.d(c,"NfsModule",(function(){return sn}));var o=a("ofXK"),i=a("PCNd"),r=a("tyNb"),l=a("tMGR"),b=a("/Kh9"),s=a("b8z9"),d=a("FX80"),u=a("fXoL"),g=a("8MG2"),h=a("3Pt+"),p=a("sYmb"),f=["wizard"],m=["addPageOne"],C=["addPageTwo"];function T(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-dropdown-menu"),u.Ub(1,"div",41),u.cc("click",(function(){return u.zc(n),u.gc().reduceView()})),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Pb(4,"div",42),u.Ub(5,"div",43),u.cc("click",(function(){return u.zc(n),u.gc().mount()})),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"div",43),u.cc("click",(function(){return u.zc(n),u.gc().unmountBtnFunc()})),u.Kc(9),u.hc(10,"translate"),u.Tb(),u.Pb(11,"div",42),u.Ub(12,"div",43),u.cc("click",(function(){return u.zc(n),u.gc().delBtnFunc()})),u.Kc(13),u.hc(14,"translate"),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(1),u.mc("disabled",1!==c.rowSelected.length),u.Cb(1),u.Lc(u.ic(3,8,"menu.reduce")),u.Cb(3),u.mc("disabled",1!==c.rowSelected.length),u.Cb(1),u.Mc(" ",u.ic(7,10,"menu.mount"),""),u.Cb(2),u.mc("disabled",1!==c.rowSelected.length),u.Cb(1),u.Lc(u.ic(10,12,"menu.unmount")),u.Cb(3),u.mc("disabled",1!==c.rowSelected.length),u.Cb(1),u.Lc(u.ic(14,14,"menu.del"))}}function v(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-dg-row",44),u.Ub(1,"clr-dg-cell"),u.Ub(2,"span",45),u.cc("click",(function(){u.zc(n);var e=t.$implicit;return u.gc().navigateTo(e.objectid)})),u.Kc(3),u.Tb(),u.Tb(),u.Ub(4,"clr-dg-cell",46),u.Kc(5),u.Tb(),u.Ub(6,"clr-dg-cell",21),u.Kc(7),u.Tb(),u.Ub(8,"clr-dg-cell",21),u.Kc(9),u.Tb(),u.Ub(10,"clr-dg-cell",21),u.Pb(11,"clr-progress-bar",47),u.Tb(),u.Ub(12,"clr-dg-cell",21),u.Kc(13),u.Tb(),u.Ub(14,"clr-dg-cell",21),u.Kc(15),u.Tb(),u.Ub(16,"clr-dg-cell",21),u.Kc(17),u.Tb(),u.Ub(18,"clr-dg-cell",21),u.Kc(19),u.Tb(),u.Ub(20,"clr-dg-cell",21),u.Kc(21),u.Tb(),u.Ub(22,"clr-dg-cell",21),u.Kc(23),u.Tb(),u.Ub(24,"clr-dg-cell",21),u.Kc(25),u.Tb(),u.Ub(26,"clr-dg-cell",21),u.Kc(27),u.Tb(),u.Ub(28,"clr-dg-cell",21),u.Kc(29),u.Tb(),u.Ub(30,"clr-dg-cell",21),u.Kc(31),u.Tb(),u.Tb()}if(2&e){var c=t.$implicit,a=u.gc();u.mc("clrDgItem",c),u.Cb(3),u.Lc(c.name),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(c.status),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(a.formatCapacity(c.capacity)),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(a.formatCapacity(c.freeSpace)),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.nc("clrValue",((c.capacity-c.freeSpace)/c.capacity*100).toFixed(2)),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(a.formatCapacity(c.reserveCapacity)),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(c.device),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(c.logicPort),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(c.shareIp),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(c.sharePath),u.Cb(1),u.mc("hidden","list"!==a.radioCheck),u.Cb(1),u.Lc(c.fs),u.Cb(1),u.mc("hidden","chart"!==a.radioCheck),u.Cb(1),u.Lc(c.ops),u.Cb(1),u.mc("hidden","chart"!==a.radioCheck),u.Cb(1),u.Lc(c.bandwidth),u.Cb(1),u.mc("hidden","chart"!==a.radioCheck),u.Cb(1),u.Lc(c.readResponseTime),u.Cb(1),u.mc("hidden","chart"!==a.radioCheck),u.Cb(1),u.Lc(c.writeResponseTime)}}function U(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",48),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.fsName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.fsName")),u.Cb(2),u.mc("ngModel",c.updateNfs.fsName)}}function M(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",49),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.shareName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.shareName")),u.Cb(2),u.mc("ngModel",c.updateNfs.shareName)}}function y(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",54),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",55),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.maxBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",56),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",57),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.maxIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(3);u.Cb(2),u.Lc(u.ic(3,5,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,7,"nfs.qos_bandwidth"),"<="),u.Cb(2),u.mc("ngModel",c.updateNfs.maxBandwidth),u.Cb(5),u.Mc("",u.ic(15,9,"nfs.qos_iops"),"<="),u.Cb(2),u.mc("ngModel",c.updateNfs.maxIops)}}function L(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",58),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",59),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.minBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",60),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",61),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.minIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Ub(18,"clr-radio-wrapper"),u.Pb(19,"input",62),u.Ub(20,"label"),u.Kc(21),u.hc(22,"translate"),u.Ub(23,"input",63),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.latency=e})),u.Tb(),u.Kc(24," ms"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(3);u.Cb(2),u.Lc(u.ic(3,7,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,9,"nfs.qos_bandwidth"),">="),u.Cb(2),u.mc("ngModel",c.updateNfs.minBandwidth),u.Cb(5),u.Mc("",u.ic(15,11,"nfs.qos_iops"),">="),u.Cb(2),u.mc("ngModel",c.updateNfs.minIops),u.Cb(5),u.Mc("",u.ic(22,13,"nfs.qos_latency"),"<="),u.Cb(2),u.mc("ngModel",c.updateNfs.latency)}}function w(e,t){if(1&e&&(u.Ub(0,"div"),u.Ic(1,y,18,11,"clr-radio-container",30),u.Ic(2,L,25,15,"clr-radio-container",30),u.Tb()),2&e){var n=u.gc(2);u.Cb(1),u.mc("ngIf","up"===n.updateNfs.contolPolicy),u.Cb(1),u.mc("ngIf","low"===n.updateNfs.contolPolicy)}}function I(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-radio-container",50),u.Ub(2,"label",51),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"clr-radio-wrapper"),u.Ub(6,"input",52),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.contolPolicy=e})),u.Tb(),u.Ub(7,"label"),u.Kc(8),u.hc(9,"translate"),u.Tb(),u.Tb(),u.Ub(10,"clr-radio-wrapper"),u.Ub(11,"input",53),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.contolPolicy=e})),u.Tb(),u.Ub(12,"label"),u.Kc(13),u.hc(14,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(15,w,3,2,"div",30),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.Lc(u.ic(4,6,"nfs.controlPolicy")),u.Cb(3),u.mc("ngModel",c.updateNfs.contolPolicy),u.Cb(2),u.Lc(u.ic(9,8,"nfs.ulc")),u.Cb(3),u.mc("ngModel",c.updateNfs.contolPolicy),u.Cb(2),u.Lc(u.ic(14,10,"nfs.llc")),u.Cb(2),u.mc("ngIf",c.updateNfs.contolPolicy)}}var k,K,O=((k=function(){function t(n,c,a,o,i,r){e(this,t),this.remoteSrv=n,this.cdr=c,this.gs=a,this.storageService=o,this.vmfsListService=i,this.router=r,this.list=[],this.radioCheck="list",this.total=0,this.isLoading=!0,this.rowSelected=[],this.modifyShow=!1,this.expand=!1,this.mountObj="1",this.fsIds=[],this.unit="GB",this.hostList=[],this.storagePools=[],this.updateNfs=new l.l,this.errMessage=""}return n(t,[{key:"ngOnInit",value:function(){this.getNfsList()}},{key:"getNfsList",value:function(){var e=this;this.isLoading=!0,this.remoteSrv.getData().subscribe((function(t){e.list=t.data,e.isLoading=!1,e.cdr.detectChanges(),e.listnfsperformance()}))}},{key:"listnfsperformance",value:function(){var e=this;null===this.list||this.list.length<=0||(this.list.forEach((function(t){e.fsIds.push(t.fsId)})),this.remoteSrv.getChartData(this.fsIds).subscribe((function(t){if("200"===t.code){var n=t.data;null!==n&&n.length>0&&(e.list.forEach((function(e){n.forEach((function(t){e.fsId===t.fsId&&(e.ops=t.ops,e.bandwidth=t.bandwidth,e.readResponseTime=t.readResponseTime,e.writeResponseTime=t.writeResponseTime)}))})),e.cdr.detectChanges())}})))}},{key:"addView",value:function(){this.router.navigate(["nfs/add"],{queryParams:{flag:"plugin"}})}},{key:"modifyData",value:function(){this.router.navigate(["nfs/modify"],{queryParams:{objectid:this.rowSelected[0].objectid,flag:"plugin"}})}},{key:"modifyCommit",value:function(){var e=this;console.log("\u63d0\u4ea4\u53c2\u6570\uff1a"),this.updateNfs.name=this.updateNfs.nfsName,console.log(this.updateNfs),this.remoteSrv.updateNfs(this.updateNfs).subscribe((function(t){"200"===t.code?e.modifyShow=!1:(e.modifyShow=!0,e.errMessage="\u7f16\u8f91\u5931\u8d25\uff01"+t.description)}))}},{key:"expandView",value:function(){this.router.navigate(["nfs/expand"],{queryParams:{objectId:this.rowSelected[0].objectid,fsId:this.rowSelected[0].fsId,flag:"plugin"}})}},{key:"reduceView",value:function(){this.router.navigate(["nfs/reduce"],{queryParams:{objectId:this.rowSelected[0].objectid,fsId:this.rowSelected[0].fsId,flag:"plugin"}})}},{key:"mount",value:function(){this.jumpPage(this.rowSelected[0].objectid,"nfs/dataStore/mount"),this.router.navigate(["nfs/dataStore/mount"],{queryParams:{objectId:this.rowSelected[0].objectid,flag:"plugin",dsName:this.rowSelected[0].name}})}},{key:"jumpPage",value:function(e,t){this.router.navigate([t],{queryParams:{objectId:e,flag:"plugin"}})}},{key:"unmountBtnFunc",value:function(){null!=this.rowSelected&&1==this.rowSelected.length&&this.jumpPage(this.rowSelected[0].objectid,"nfs/dataStore/unmount")}},{key:"delBtnFunc",value:function(){this.router.navigate(["nfs/delete"],{queryParams:{objectid:this.rowSelected[0].objectid,flag:"plugin"}})}},{key:"navigateTo",value:function(e){console.log("\u9875\u9762\u8df3\u8f6c\u4e86"),console.log(e),this.gs.getClientSdk().app.navigateTo({targetViewId:"vsphere.core.datastore.summary",objectId:e})}},{key:"formatCapacity",value:function(e){return e<1024?e.toFixed(3)+" GB":e>=1024&&e<1048576?(e/1024).toFixed(3)+" TB":e>=1048576?(e/1024/1024).toFixed(3)+" PB":void 0}},{key:"scanDataStore",value:function(){var e=this;this.isLoading=!0,this.vmfsListService.scanVMFS("nfs").subscribe((function(t){e.isLoading=!1,"200"===t.code?(e.getNfsList(),console.log("Scan success")):console.log("Scan faild"),e.cdr.detectChanges()}))}}]),t}()).\u0275fac=function(e){return new(e||k)(u.Ob(l.g),u.Ob(u.h),u.Ob(b.b),u.Ob(s.e),u.Ob(d.b),u.Ob(r.f))},k.\u0275cmp=u.Ib({type:k,selectors:[["app-nfs"]],viewQuery:function(e,t){var n;1&e&&(u.Pc(f,!0),u.Pc(m,!0),u.Pc(C,!0)),2&e&&(u.vc(n=u.dc())&&(t.wizard=n.first),u.vc(n=u.dc())&&(t.addPageOne=n.first),u.vc(n=u.dc())&&(t.addPageTwo=n.first))},features:[u.Bb([l.g,s.e,d.b])],decls:144,vars:131,consts:[[1,"gh-btngroup-header"],[1,"gh-btngroup-left"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"clrCloseMenuOnItemClick"],["clrDropdownTrigger","","aria-label","Dropdown demo button",1,"btn","btn-primary"],["shape","caret down"],[4,"clrIfOpen"],[1,"btn-group","btn-icon"],[1,"radio","btn"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-1","checked","",3,"click"],["for","btn-demo-radio-1"],["shape","list","size","20"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-2",3,"click"],["for","btn-demo-radio-2"],["shape","dashboard","size","20"],[1,"radio","btn","merginLeft"],["shape","refresh","size","20",3,"click"],[2,"width","100%"],["id","nfs-grid",3,"clrDgSelected","clrDgLoading","clrDgSelectedChange"],[3,"clrDgField"],[3,"hidden"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrModalOpen","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["formPageOne","ngForm"],["clrInput","","name","nfsName",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","name","sameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","checkbox","clrToggle","","name","qosFlag",3,"ngModel","ngModelChange"],["type","checkbox","name","thin","clrToggle","",3,"ngModel","ngModelChange"],["clrSelect","","name","deduplicationEnabled",3,"ngModel","ngModelChange"],["value","false"],["value","true"],["clrSelect","","name","compressionEnabled",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","autoSizeEnable",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["aria-label","Dropdown header Action 1","clrDropdownItem","",3,"disabled","click"],["role","separator","aria-hidden","true",1,"dropdown-divider"],["aria-label","Dropdown header Action 2","clrDropdownItem","",3,"disabled","click"],[3,"clrDgItem"],[2,"color","#829DE6","cursor","pointer",3,"click"],[2,"width","5%",3,"hidden"],["clrSuccess","","clrLabeled","",3,"clrValue"],["clrInput","","name","fsName",3,"ngModel","ngModelChange"],["clrInput","","name","shareName",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft"],["type","radio","clrRadio","","name","controlPolicy","required","","value","up",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","required","","value","low",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","required","","value","1"],["type","text","name","maxBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","2"],["type","text","name","maxIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","1"],["type","text","name","minBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required",""],["type","text","name","minIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","3"],["type","text","name","latency",1,"inputOneLine",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"div",0),u.Ub(2,"div",1),u.Ub(3,"button",2),u.cc("click",(function(){return t.addView()})),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"button",3),u.cc("click",(function(){return t.modifyData()})),u.Kc(7),u.hc(8,"translate"),u.Tb(),u.Ub(9,"button",3),u.cc("click",(function(){return t.expandView()})),u.Kc(10),u.hc(11,"translate"),u.Tb(),u.Ub(12,"clr-dropdown",4),u.Ub(13,"button",5),u.Kc(14),u.hc(15,"translate"),u.Pb(16,"clr-icon",6),u.Tb(),u.Ic(17,T,15,16,"clr-dropdown-menu",7),u.Tb(),u.Tb(),u.Ub(18,"div",8),u.Ub(19,"div",9),u.Ub(20,"input",10),u.cc("click",(function(){return t.radioCheck="list"})),u.Tb(),u.Ub(21,"label",11),u.Pb(22,"clr-icon",12),u.Tb(),u.Tb(),u.Ub(23,"div",9),u.Ub(24,"input",13),u.cc("click",(function(){return t.radioCheck="chart"})),u.Tb(),u.Ub(25,"label",14),u.Pb(26,"clr-icon",15),u.Tb(),u.Tb(),u.Ub(27,"div",16),u.Ub(28,"label"),u.Ub(29,"clr-icon",17),u.cc("click",(function(){return t.scanDataStore()})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(30,"div",18),u.Ub(31,"clr-datagrid",19),u.cc("clrDgSelectedChange",(function(e){return t.rowSelected=e})),u.Ub(32,"clr-dg-column",20),u.Kc(33),u.hc(34,"translate"),u.Tb(),u.Ub(35,"clr-dg-column",21),u.Kc(36),u.hc(37,"translate"),u.Tb(),u.Ub(38,"clr-dg-column",21),u.Kc(39),u.hc(40,"translate"),u.Tb(),u.Ub(41,"clr-dg-column",21),u.Kc(42),u.hc(43,"translate"),u.Tb(),u.Ub(44,"clr-dg-column",21),u.Kc(45),u.hc(46,"translate"),u.Tb(),u.Ub(47,"clr-dg-column",21),u.Kc(48),u.hc(49,"translate"),u.Tb(),u.Ub(50,"clr-dg-column",21),u.Kc(51),u.hc(52,"translate"),u.Tb(),u.Ub(53,"clr-dg-column",21),u.Kc(54),u.hc(55,"translate"),u.Tb(),u.Ub(56,"clr-dg-column",21),u.Kc(57),u.hc(58,"translate"),u.Tb(),u.Ub(59,"clr-dg-column",21),u.Kc(60),u.hc(61,"translate"),u.Tb(),u.Ub(62,"clr-dg-column",21),u.Kc(63),u.hc(64,"translate"),u.Tb(),u.Ub(65,"clr-dg-column",21),u.Kc(66),u.hc(67,"translate"),u.Tb(),u.Ub(68,"clr-dg-column",21),u.Kc(69),u.hc(70,"translate"),u.Tb(),u.Ub(71,"clr-dg-column",21),u.Kc(72),u.hc(73,"translate"),u.Tb(),u.Ub(74,"clr-dg-column",21),u.Kc(75),u.hc(76,"translate"),u.Tb(),u.Ic(77,v,32,30,"clr-dg-row",22),u.Tb(),u.Tb(),u.Ub(78,"clr-modal",23),u.cc("clrModalOpenChange",(function(e){return t.modifyShow=e})),u.Ub(79,"h3",24),u.Kc(80),u.hc(81,"translate"),u.Tb(),u.Ub(82,"div",25),u.Ub(83,"form",26,27),u.Ub(85,"clr-input-container"),u.Ub(86,"label"),u.Kc(87),u.hc(88,"translate"),u.Tb(),u.Ub(89,"input",28),u.cc("ngModelChange",(function(e){return t.updateNfs.nfsName=e})),u.Tb(),u.Tb(),u.Ub(90,"clr-checkbox-container"),u.Pb(91,"label"),u.Ub(92,"clr-checkbox-wrapper"),u.Ub(93,"input",29),u.cc("ngModelChange",(function(e){return t.updateNfs.sameName=e})),u.Tb(),u.Ub(94,"label"),u.Kc(95),u.hc(96,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(97,U,5,4,"clr-input-container",30),u.Ic(98,M,5,4,"clr-input-container",30),u.Ub(99,"clr-toggle-wrapper"),u.Ub(100,"label"),u.Kc(101),u.hc(102,"translate"),u.Tb(),u.Ub(103,"input",31),u.cc("ngModelChange",(function(e){return t.updateNfs.qosFlag=e})),u.Tb(),u.Tb(),u.Ic(104,I,16,12,"div",30),u.Ub(105,"clr-toggle-wrapper"),u.Ub(106,"label"),u.Kc(107),u.hc(108,"translate"),u.Tb(),u.Ub(109,"input",32),u.cc("ngModelChange",(function(e){return t.updateNfs.thin=e})),u.Tb(),u.Tb(),u.Ub(110,"clr-select-container"),u.Ub(111,"label"),u.Kc(112),u.hc(113,"translate"),u.Tb(),u.Ub(114,"select",33),u.cc("ngModelChange",(function(e){return t.updateNfs.deduplicationEnabled=e})),u.Ub(115,"option",34),u.Kc(116),u.hc(117,"translate"),u.Tb(),u.Ub(118,"option",35),u.Kc(119),u.hc(120,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(121,"clr-select-container"),u.Ub(122,"label"),u.Kc(123),u.hc(124,"translate"),u.Tb(),u.Ub(125,"select",36),u.cc("ngModelChange",(function(e){return t.updateNfs.compressionEnabled=e})),u.Ub(126,"option",34),u.Kc(127),u.hc(128,"translate"),u.Tb(),u.Ub(129,"option",35),u.Kc(130),u.hc(131,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(132,"clr-toggle-wrapper"),u.Ub(133,"label"),u.Kc(134),u.hc(135,"translate"),u.Tb(),u.Ub(136,"input",37),u.cc("ngModelChange",(function(e){return t.updateNfs.autoSizeEnable=e})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(137,"div",38),u.Ub(138,"button",39),u.cc("click",(function(){return t.modifyShow=!1})),u.Kc(139),u.hc(140,"translate"),u.Tb(),u.Ub(141,"button",40),u.cc("click",(function(){return t.modifyCommit()})),u.Kc(142),u.hc(143,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(4),u.Lc(u.ic(5,65,"menu.add")),u.Cb(2),u.mc("disabled",1!==t.rowSelected.length),u.Cb(1),u.Lc(u.ic(8,67,"menu.modify")),u.Cb(2),u.mc("disabled",1!==t.rowSelected.length),u.Cb(1),u.Lc(u.ic(11,69,"menu.expand")),u.Cb(2),u.mc("clrCloseMenuOnItemClick",!1),u.Cb(2),u.Mc(" ",u.ic(15,71,"menu.more")," "),u.Cb(17),u.mc("clrDgSelected",t.rowSelected)("clrDgLoading",t.isLoading),u.Cb(1),u.mc("clrDgField","name"),u.Cb(1),u.Lc(u.ic(34,73,"nfs.name")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(37,75,"nfs.status")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(40,77,"nfs.totalCapacity")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(43,79,"nfs.freeCapacity")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(46,81,"nfs.capacityUsage")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(49,83,"nfs.provisioningCapacity")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(52,85,"nfs.device")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(55,87,"nfs.logicPort")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(58,89,"nfs.shareIp")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(61,91,"nfs.sharePath")),u.Cb(2),u.mc("hidden","list"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(64,93,"nfs.fileSystem")),u.Cb(2),u.mc("hidden","chart"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(67,95,"nfs.ops")),u.Cb(2),u.mc("hidden","chart"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(70,97,"nfs.bandwidth")),u.Cb(2),u.mc("hidden","chart"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(73,99,"nfs.respRt")),u.Cb(2),u.mc("hidden","chart"!==t.radioCheck),u.Cb(1),u.Lc(u.ic(76,101,"nfs.respWt")),u.Cb(2),u.mc("ngForOf",t.list),u.Cb(1),u.mc("clrModalOpen",t.modifyShow),u.Cb(2),u.Lc(u.ic(81,103,"menu.modify")),u.Cb(7),u.Lc(u.ic(88,105,"nfs.name")),u.Cb(2),u.mc("ngModel",t.updateNfs.nfsName),u.Cb(4),u.mc("ngModel",t.updateNfs.sameName),u.Cb(2),u.Lc(u.ic(96,107,"nfs.sameName")),u.Cb(2),u.mc("ngIf",!t.updateNfs.sameName),u.Cb(1),u.mc("ngIf",!t.updateNfs.sameName),u.Cb(3),u.Lc(u.ic(102,109,"nfs.qosPolicy")),u.Cb(2),u.mc("ngModel",t.updateNfs.qosFlag),u.Cb(1),u.mc("ngIf",t.updateNfs.qosFlag),u.Cb(3),u.Mc(" ",u.ic(108,111,"nfs.thin"),""),u.Cb(2),u.mc("ngModel",t.updateNfs.thin),u.Cb(3),u.Lc(u.ic(113,113,"nfs.dataDedu")),u.Cb(2),u.mc("ngModel",t.updateNfs.deduplicationEnabled),u.Cb(2),u.Lc(u.ic(117,115,"nfs.disable")),u.Cb(3),u.Lc(u.ic(120,117,"nfs.enable")),u.Cb(4),u.Lc(u.ic(124,119,"nfs.dataCompre")),u.Cb(2),u.mc("ngModel",t.updateNfs.compressionEnabled),u.Cb(2),u.Lc(u.ic(128,121,"nfs.disable")),u.Cb(3),u.Lc(u.ic(131,123,"nfs.enable")),u.Cb(4),u.Lc(u.ic(135,125,"nfs.capAuto")),u.Cb(2),u.mc("ngModel",t.updateNfs.autoSizeEnable),u.Cb(3),u.Lc(u.ic(140,127,"menu.cancel")),u.Cb(3),u.Lc(u.ic(143,129,"menu.ok")))},directives:[g.w,g.z,g.B,g.E,g.H,g.m,g.qb,g.sb,g.lb,g.tb,g.o,g.pb,o.m,g.J,g.K,h.E,h.r,h.s,g.A,g.G,h.e,g.F,h.q,h.t,g.g,g.h,h.b,g.f,o.n,g.V,h.A,g.U,h.v,h.D,g.y,g.x,g.v,g.rb,g.n,g.nb,g.Q,g.S,g.T,h.x,g.R,h.z],pipes:[p.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.merginTop[_ngcontent-%COMP%]{margin-top:10px}.merginLeft[_ngcontent-%COMP%]{margin-left:5px;border-style:solid}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}"],changeDetection:0}),k),P=a("tk/3"),F=((K=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getData",value:function(e){return this.http.get("accessnfs/logicport/"+e)}}]),t}()).\u0275fac=function(e){return new(e||K)(u.Yb(P.b))},K.\u0275prov=u.Kb({token:K,factory:K.\u0275fac}),K);function N(e,t){if(1&e&&(u.Ub(0,"div"),u.Ub(1,"table",1),u.Ub(2,"tr"),u.Ub(3,"td",2),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"td",2),u.Kc(7),u.Tb(),u.Ub(8,"td",2),u.Kc(9),u.hc(10,"translate"),u.Tb(),u.Ub(11,"td",2),u.Kc(12),u.Tb(),u.Ub(13,"td",2),u.Kc(14),u.hc(15,"translate"),u.Tb(),u.Ub(16,"td",2),u.Kc(17),u.Tb(),u.Tb(),u.Ub(18,"tr"),u.Ub(19,"td",2),u.Kc(20),u.hc(21,"translate"),u.Tb(),u.Ub(22,"td",2),u.Kc(23),u.Tb(),u.Ub(24,"td",2),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Ub(27,"td",2),u.Kc(28),u.Tb(),u.Ub(29,"td",2),u.Kc(30),u.hc(31,"translate"),u.Tb(),u.Ub(32,"td",2),u.Kc(33),u.Tb(),u.Tb(),u.Ub(34,"tr"),u.Ub(35,"td",2),u.Kc(36),u.hc(37,"translate"),u.Tb(),u.Ub(38,"td",2),u.Kc(39),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&e){var n=u.gc();u.Cb(4),u.Lc(u.ic(5,14,"nfs.logic.name")),u.Cb(3),u.Lc(n.logicDetail.name),u.Cb(2),u.Lc(u.ic(10,16,"nfs.logic.ip")),u.Cb(3),u.Lc(n.logicDetail.ip),u.Cb(2),u.Lc(u.ic(15,18,"nfs.logic.healthStatus")),u.Cb(3),u.Lc(n.logicDetail.status),u.Cb(3),u.Lc(u.ic(21,20,"nfs.logic.runningStatus")),u.Cb(3),u.Lc(n.logicDetail.runningStatus),u.Cb(2),u.Lc(u.ic(26,22,"nfs.logic.activePort")),u.Cb(3),u.Lc(n.logicDetail.activePort),u.Cb(2),u.Lc(u.ic(31,24,"nfs.logic.currentPort")),u.Cb(3),u.Lc(n.logicDetail.currentPort),u.Cb(3),u.Lc(u.ic(37,26,"nfs.logic.failoverGroup")),u.Cb(3),u.Lc(n.logicDetail.failoverGroup)}}function S(e,t){1&e&&(u.Ub(0,"div"),u.Kc(1," \u65e0\n"),u.Tb())}var x,z,_=((z=function(){function t(n,c){e(this,t),this.remoteSrv=n,this.gs=c}return n(t,[{key:"ngOnInit",value:function(){var e=this.gs.getClientSdk().app.getContextObjects();this.logicportDetail(e[0].id)}},{key:"logicportDetail",value:function(e){var t=this;this.remoteSrv.getData(e).subscribe((function(e){t.logicDetail=e.data}))}}]),t}()).\u0275fac=function(e){return new(e||z)(u.Ob(F),u.Ob(b.b))},z.\u0275cmp=u.Ib({type:z,selectors:[["app-logicport"]],features:[u.Bb([F,b.b])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"table","table-noborder"],[1,"left"]],template:function(e,t){1&e&&(u.Ic(0,N,40,28,"div",0),u.Ic(1,S,2,0,"div",0)),2&e&&(u.mc("ngIf",t.logicDetail),u.Cb(1),u.mc("ngIf",!t.logicDetail))},directives:[o.n],pipes:[p.c],styles:[""]}),z),D=((x=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getData",value:function(e){return this.http.get("accessnfs/share/"+e)}}]),t}()).\u0275fac=function(e){return new(e||x)(u.Yb(P.b))},x.\u0275prov=u.Kb({token:x,factory:x.\u0275fac}),x);function B(e,t){if(1&e&&(u.Ub(0,"clr-dg-row",4),u.Ub(1,"clr-dg-cell"),u.Kc(2),u.Tb(),u.Ub(3,"clr-dg-cell"),u.Kc(4),u.Tb(),u.Ub(5,"clr-dg-cell"),u.Kc(6),u.Tb(),u.Tb()),2&e){var n=t.$implicit;u.mc("clrDgItem",n),u.Cb(2),u.Lc(n.name),u.Cb(2),u.Lc(n.type),u.Cb(2),u.Lc(n.accessval)}}function j(e,t){if(1&e&&(u.Ub(0,"div"),u.Ub(1,"table",1),u.Ub(2,"tr"),u.Ub(3,"td",2),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"td",2),u.Kc(7),u.Tb(),u.Ub(8,"td",2),u.Kc(9),u.hc(10,"translate"),u.Tb(),u.Ub(11,"td",2),u.Kc(12),u.Tb(),u.Tb(),u.Ub(13,"tr"),u.Ub(14,"td",2),u.Kc(15),u.hc(16,"translate"),u.Tb(),u.Ub(17,"td",2),u.Kc(18),u.Tb(),u.Ub(19,"td",2),u.Kc(20),u.hc(21,"translate"),u.Tb(),u.Ub(22,"td",2),u.Kc(23),u.Tb(),u.Tb(),u.Tb(),u.Ub(24,"h3"),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Ub(27,"clr-datagrid"),u.Ub(28,"clr-dg-column"),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Ub(31,"clr-dg-column"),u.Kc(32),u.hc(33,"translate"),u.Tb(),u.Ub(34,"clr-dg-column"),u.Kc(35),u.hc(36,"translate"),u.Tb(),u.Ic(37,B,7,4,"clr-dg-row",3),u.Tb(),u.Tb()),2&e){var n=u.gc();u.Cb(4),u.Lc(u.ic(5,13,"nfs.share.name")),u.Cb(3),u.Lc(n.shareDetail.name),u.Cb(2),u.Lc(u.ic(10,15,"nfs.share.sharePath")),u.Cb(3),u.Lc(n.shareDetail.share_path),u.Cb(3),u.Lc(u.ic(16,17,"nfs.share.dtree")),u.Cb(3),u.Lc(n.shareDetail.owning_dtree_name),u.Cb(2),u.Lc(u.ic(21,19,"nfs.share.description")),u.Cb(3),u.Lc(n.shareDetail.description),u.Cb(2),u.Lc(u.ic(26,21,"nfs.share.clientInfo")),u.Cb(4),u.Lc(u.ic(30,23,"nfs.share.nameAddr")),u.Cb(3),u.Lc(u.ic(33,25,"nfs.share.type")),u.Cb(3),u.Lc(u.ic(36,27,"nfs.share.permission")),u.Cb(2),u.mc("ngForOf",n.shareDetail.auth_client_list)}}function q(e,t){1&e&&(u.Ub(0,"div"),u.Kc(1," \u65e0\n"),u.Tb())}var E,R,V=((R=function(){function t(n,c){e(this,t),this.remoteSrv=n,this.gs=c}return n(t,[{key:"ngOnInit",value:function(){var e=this.gs.getClientSdk().app.getContextObjects();this.getShareDetail(e[0].id)}},{key:"getShareDetail",value:function(e){var t=this;this.remoteSrv.getData(e).subscribe((function(e){t.shareDetail=e.data,console.log("shareDetail:"),console.log(t.shareDetail)}))}}]),t}()).\u0275fac=function(e){return new(e||R)(u.Ob(D),u.Ob(b.b))},R.\u0275cmp=u.Ib({type:R,selectors:[["app-share"]],features:[u.Bb([D,b.b])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"table","table-noborder"],[1,"left"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgItem"]],template:function(e,t){1&e&&(u.Ic(0,j,38,29,"div",0),u.Ic(1,q,2,0,"div",0)),2&e&&(u.mc("ngIf",t.shareDetail),u.Cb(1),u.mc("ngIf",!t.shareDetail))},directives:[o.n,g.m,g.qb,g.sb,g.lb,g.tb,g.o,g.pb,o.m,g.v,g.rb,g.n,g.nb],pipes:[p.c],styles:[""]}),R),A=((E=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getData",value:function(e){return this.http.get("accessnfs/fileservice/"+e)}}]),t}()).\u0275fac=function(e){return new(e||E)(u.Yb(P.b))},E.\u0275prov=u.Kb({token:E,factory:E.\u0275fac}),E),H=function t(){e(this,t)};function G(e,t){if(1&e&&(u.Ub(0,"option",5),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n),u.Cb(1),u.Lc(n)}}function W(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-select-container"),u.Ub(2,"select",1),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().fsNames}))("ngModelChange",(function(e){return u.zc(n),u.gc().defaultSelect=e}))("change",(function(){return u.zc(n),u.gc().changeFs()})),u.Ic(3,G,2,2,"option",2),u.Tb(),u.Tb(),u.Ub(4,"table",3),u.Ub(5,"tr"),u.Ub(6,"td",4),u.Kc(7),u.hc(8,"translate"),u.Tb(),u.Ub(9,"td",4),u.Kc(10),u.Tb(),u.Ub(11,"td",4),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"td",4),u.Kc(15),u.Tb(),u.Tb(),u.Ub(16,"tr"),u.Ub(17,"td",4),u.Kc(18),u.hc(19,"translate"),u.Tb(),u.Ub(20,"td",4),u.Kc(21),u.Tb(),u.Ub(22,"td",4),u.Kc(23),u.hc(24,"translate"),u.Tb(),u.Ub(25,"td",4),u.Kc(26),u.Tb(),u.Tb(),u.Ub(27,"tr"),u.Ub(28,"td",4),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Ub(31,"td",4),u.Kc(32),u.Tb(),u.Ub(33,"td",4),u.Kc(34),u.hc(35,"translate"),u.Tb(),u.Ub(36,"td",4),u.Kc(37),u.Tb(),u.Tb(),u.Ub(38,"tr"),u.Ub(39,"td",4),u.Kc(40),u.hc(41,"translate"),u.Tb(),u.Ub(42,"td",4),u.Kc(43),u.Tb(),u.Ub(44,"td",4),u.Kc(45),u.hc(46,"translate"),u.Tb(),u.Ub(47,"td",4),u.Kc(48),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.mc("ngModel",c.defaultSelect),u.Cb(1),u.mc("ngForOf",c.fsNames),u.Cb(4),u.Lc(u.ic(8,18,"nfs.fs.name")),u.Cb(3),u.Lc(c.fsDetail.name),u.Cb(2),u.Lc(u.ic(13,20,"nfs.fs.device")),u.Cb(3),u.Lc(c.fsDetail.device),u.Cb(3),u.Lc(u.ic(19,22,"nfs.fs.storagePool")),u.Cb(3),u.Lc(c.fsDetail.storagePoolName),u.Cb(2),u.Lc(u.ic(24,24,"nfs.fs.controller")),u.Cb(3),u.Lc(c.fsDetail.controller),u.Cb(3),u.Lc(u.ic(30,26,"nfs.fs.provisionType")),u.Cb(3),u.Lc(c.fsDetail.provisionType),u.Cb(2),u.Lc(u.ic(35,28,"nfs.fs.appSce")),u.Cb(3),u.Lc(c.fsDetail.applicationScenario),u.Cb(3),u.Lc(u.ic(41,30,"nfs.fs.dataDed")),u.Cb(3),u.Lc(c.fsDetail.dataDeduplication),u.Cb(2),u.Lc(u.ic(46,32,"nfs.fs.dataCom")),u.Cb(3),u.Lc(c.fsDetail.dateCompression)}}function $(e,t){1&e&&(u.Ub(0,"div"),u.Kc(1," \u65e0\n"),u.Tb())}var Y,J,X=((Y=function(){function t(n,c){e(this,t),this.fsService=n,this.gs=c,this.fsDetail=new H,this.fsNames=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this.gs.getClientSdk().app.getContextObjects();this.getFsDetail(e[0].id)}},{key:"getFsDetail",value:function(e){var t=this;this.fsService.getData(e).subscribe((function(e){t.fsDetails=e.data,t.fsDetails.forEach((function(e){t.fsNames.push(e.name)})),t.defaultSelect=t.fsNames[0],t.fsDetail=t.getFsDetailByName(t.defaultSelect)}))}},{key:"getFsDetailByName",value:function(e){return this.fsDetails.filter((function(t){return t.name===e}))[0]}},{key:"changeFs",value:function(){this.fsDetail=this.getFsDetailByName(this.defaultSelect)}}]),t}()).\u0275fac=function(e){return new(e||Y)(u.Ob(A),u.Ob(b.b))},Y.\u0275cmp=u.Ib({type:Y,selectors:[["app-file-system"]],features:[u.Bb([A,b.b])],decls:2,vars:2,consts:[[4,"ngIf"],["clrSelect","","name","defaultSelect",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-noborder"],[1,"left"],[3,"value"]],template:function(e,t){1&e&&(u.Ic(0,W,49,34,"div",0),u.Ic(1,$,2,0,"div",0)),2&e&&(u.mc("ngIf",t.fsDetails&&0!=t.fsDetails.length),u.Cb(1),u.mc("ngIf",!t.fsDetails))},directives:[o.n,g.V,h.A,g.U,h.q,h.t,o.m,h.v,h.D],pipes:[p.c],styles:[""]}),Y),Q=a("mrSG"),Z=((J=function(){function t(n){e(this,t),this.http=n,this.iopsChart={height:300,title:{text:"IOPS",subtext:"IO/s",textStyle:{fontStyle:"normal"},textAlign:"bottom"},xAxis:{type:"category",data:[]},yAxis:{type:"value",max:8,min:0,splitNumber:2,boundaryGap:["50%","50%"],axisLine:{show:!1}},tooltip:{},legend:{data:[{name:"Upper Limit"},{name:"Lower Limit"},{name:"Read",icon:"triangle"},{name:"Write",icon:"triangle"}],y:"top",x:"right"},series:[{name:"Upper Limit",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"dotted",color:"#DB2000"}}},label:{show:!0,formatter:"This is a normal label."}},{name:"Lower Limit",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"dotted",color:"#F8E082"}}}},{name:"Read",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"solid",color:"#6870c4"}}}},{name:"Write",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"solid",color:"#01bfa8"}}}}]}}return n(t,[{key:"getIopsChart",value:function(e,t,n,c,a,o,i,r,l){var b=this;return new Promise((function(n,s){b.http.post("datastorestatistichistrory/vmfsvolume",{indicator_ids:c,obj_ids:a,interval:o,range:i,begin_time:r,end_time:l}).subscribe((function(s){if("200"===s.code&&null!==s.data){b.resData=s.data,b.setXAxisData(i,r,l,o);var d=b.resData[a[0]][c[0]];console.log("upperData"),console.log(d);for(var u,g,h=b.resData[a[0]][c[1]],p=0,f=Object.keys(d.max);p<f.length;p++){var m=f[p];u=Number(d.max[m]),console.log(u)}for(var C=0,T=Object.keys(h.max);C<T.length;C++){var v=T[C];g=Number(h.max[v]),console.log(u)}var U=d.avg,M=h.avg,y=d.series,L=h.series;b.iopsChart.title.text=e,b.iopsChart.title.subtext=t,b.iopsChart.yAxis.max=(u>g?u:g)+2,console.log("this.iopsChart.yAxis.max"+b.iopsChart.yAxis.max),y.forEach((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var c=n[t];b.iopsChart.series[2].data.push({value:Number(e[c]),symbol:"none"})}for(var a=0,o=Object.keys(U);a<o.length;a++){var i=o[a];b.iopsChart.series[0].data.push({value:Number(U[i]),symbol:"none"})}})),L.forEach((function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var c=n[t];b.iopsChart.series[3].data.push({value:Number(e[c]),symbol:"none"})}for(var a=0,o=Object.keys(M);a<o.length;a++){var i=o[a];b.iopsChart.series[1].data.push({value:Number(M[i]),symbol:"none"})}})),n(b.iopsChart)}}),(function(e){console.error("ERROR",e)}))}))}},{key:"setXAxisData",value:function(e,t,n,c){var a,o;switch(e){case"LAST_1_HOUR":a=1;break;case"LAST_4_HOUR":a=4;break;case"LAST_12_HOUR":a=12;break;default:a=24}switch(c){case"ONE_MINUTE":case"MINUTE":o=60;break;case"HALF_HOUR":o=2;break;default:o=1}var i=new Date(t),r=new Date(n);console.log("--------------"),console.log(t),console.log(n),console.log(i.getMonth()),console.log(r),console.log(o),console.log(a);for(var l=0;l<a*o;l++){var b=i;switch(c){case"ONE_MINUTE":case"MINUTE":b.setMinutes(i.getMinutes()+l);break;case"HALF_HOUR":b.setMinutes(i.getMinutes()+30*l);break;default:b.setHours(i.getHours()+l)}var s=b.getHours()+":"+b.getMinutes();this.iopsChart.xAxis.data.push(s)}}}]),t}()).\u0275fac=function(e){return new(e||J)(u.Yb(P.b))},J.\u0275prov=u.Kb({token:J,factory:J.\u0275fac}),J),ee=a("DKVz"),te=a("kmnG"),ne=a("iadO");function ce(e,t){if(1&e&&(u.Ub(0,"option",7),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n),u.Cb(1),u.Lc(n)}}function ae(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-select-container"),u.Ub(1,"select",2),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().fsNames}))("ngModelChange",(function(e){return u.zc(n),u.gc().defaultSelect=e}))("change",(function(){return u.zc(n),u.gc().changeFs()})),u.Ic(2,ce,2,2,"option",3),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(1),u.mc("ngModel",c.defaultSelect),u.Cb(1),u.mc("ngForOf",c.fsNames)}}function oe(e,t){if(1&e&&(u.Ub(0,"option",7),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.key),u.Cb(1),u.Lc(n.value)}}function ie(e,t){1&e&&(u.Ub(0,"mat-error"),u.Kc(1,"Invalid start date"),u.Tb())}function re(e,t){1&e&&(u.Ub(0,"mat-error"),u.Kc(1,"Invalid end date"),u.Tb())}function le(e,t){if(1&e){var n=u.Vb();u.Ub(0,"td"),u.Ub(1,"mat-form-field",8),u.Ub(2,"mat-label"),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"mat-date-range-input",9),u.Ub(6,"input",10),u.cc("dateChange",(function(){return u.zc(n),u.gc().changeDate()})),u.Tb(),u.Ub(7,"input",11),u.cc("dateChange",(function(){return u.zc(n),u.gc().changeDate()})),u.Tb(),u.Tb(),u.Pb(8,"mat-datepicker-toggle",12),u.Pb(9,"mat-date-range-picker",null,13),u.Ic(11,ie,2,0,"mat-error",0),u.Ic(12,re,2,0,"mat-error",0),u.Tb(),u.Tb()}if(2&e){var c=u.wc(10),a=u.gc();u.Cb(3),u.Lc(u.ic(4,6,"vmfs.timeInputTips")),u.Cb(2),u.mc("formGroup",a.rangeTime)("rangePicker",c),u.Cb(3),u.mc("for",c),u.Cb(3),u.mc("ngIf",a.rangeTime.controls.start.hasError("matStartDateInvalid")),u.Cb(1),u.mc("ngIf",a.rangeTime.controls.end.hasError("matEndDateInvalid"))}}var be,se,de=((se=function(){function t(n,c,a,o,i,r){e(this,t),this.makePerformance=n,this.perService=c,this.ngZone=a,this.cdr=o,this.fsService=i,this.gs=r,this.fsNames=[],this.rangeTime=new h.j({start:new h.g,end:new h.g}),this.opsChart={},this.bandwidthChart={},this.latencyChart={},this.ranges=l.g.perRanges,this.selectRange="LAST_1_DAY",this.startTime=null,this.endTime=null}return n(t,[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var e=this.gs.getClientSdk().app.getContextObjects();this.getFsDetail(e[0].id)}},{key:"changeFs",value:function(){if("BEGIN_END_TIME"===this.selectRange){if(null===this.startTime||null===this.endTime)return void console.log("\u5f00\u59cb\u7ed3\u675f\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a")}else this.startTime=null,this.endTime=null;this.selectRange?(console.log("this.selectVolName+this.selectRange",this.defaultSelect,this.selectRange),this.chooseFs=this.getVolByName(this.defaultSelect),this.initChart()):console.log("\u672a\u9009\u62e9\u5377\u6216range")}},{key:"getFsDetail",value:function(e){var t=this;this.fsService.getData(e).subscribe((function(e){t.fsDetails=e.data,t.fsDetails.forEach((function(e){t.fsNames.push(e.name)})),t.defaultSelect=t.fsNames[0],t.chooseFs=t.getVolByName(t.defaultSelect),t.ngZone.runOutsideAngular((function(){return t.initChart()}))}))}},{key:"initChart",value:function(){return Object(Q.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=[]).push(this.chooseFs.fileSystemId),this.makePerformance.setChart(300,"OPS","IO/s",l.g.nfsOPS,t,this.selectRange,l.g.nfsUrl,this.startTime,this.endTime).then((function(e){n.opsChart=e,n.cdr.detectChanges()})),this.makePerformance.setChart(300,"Bandwidth","MB/s",l.g.nfsBDWT,t,this.selectRange,l.g.nfsUrl,this.startTime,this.endTime).then((function(e){n.bandwidthChart=e,n.cdr.detectChanges()})),this.makePerformance.setChart(300,"Latency","ms",l.g.nfsLatency,t,this.selectRange,l.g.nfsUrl,this.startTime,this.endTime).then((function(e){n.latencyChart=e,n.cdr.detectChanges()}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"changeDate",value:function(){this.rangeTime.controls.start.hasError("matStartDateInvalid")||this.rangeTime.controls.end.hasError("matEndDateInvalid")||null===this.rangeTime.controls.start.value||null===this.rangeTime.controls.end.value||(this.startTime=this.rangeTime.controls.start.value._d.getTime(),this.endTime=this.rangeTime.controls.end.value._d.getTime(),console.log("startTime",this.startTime),console.log("endTime",this.endTime),this.changeFs())}},{key:"getVolByName",value:function(e){return this.fsDetails.filter((function(t){return t.name===e}))[0]}}]),t}()).\u0275fac=function(e){return new(e||se)(u.Ob(l.f),u.Ob(Z),u.Ob(u.B),u.Ob(u.h),u.Ob(A),u.Ob(b.b))},se.\u0275cmp=u.Ib({type:se,selectors:[["app-nfsperformance"]],features:[u.Bb([Z,l.f,l.g,ee.a,A])],decls:11,vars:7,consts:[[4,"ngIf"],["cellpadding","5",1,"searchtable"],["clrSelect","","name","defaultSelect",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["echarts","","id","opsChart",2,"height","600px",3,"options"],["echarts","","id","bandwidthChart",2,"height","600px",3,"options"],["echarts","","id","latencyChart",2,"height","600px",3,"options"],[3,"value"],["appearance","fill"],[3,"formGroup","rangePicker"],["required","","matStartDate","","formControlName","start","placeholder","Start date",3,"dateChange"],["required","","matEndDate","","formControlName","end","placeholder","End date",3,"dateChange"],["matSuffix","",3,"for"],["picker",""]],template:function(e,t){1&e&&(u.Ic(0,ae,3,2,"clr-select-container",0),u.Ub(1,"table",1),u.Ub(2,"tr"),u.Ub(3,"td"),u.Ub(4,"clr-select-container"),u.Ub(5,"select",2),u.cc("ngModelOptions",(function(){return t.ranges}))("ngModelChange",(function(e){return t.selectRange=e}))("change",(function(){return t.changeFs()})),u.Ic(6,oe,2,2,"option",3),u.Tb(),u.Tb(),u.Tb(),u.Ic(7,le,13,8,"td",0),u.Tb(),u.Tb(),u.Pb(8,"div",4),u.Pb(9,"div",5),u.Pb(10,"div",6)),2&e&&(u.mc("ngIf",t.fsNames.length>0),u.Cb(5),u.mc("ngModel",t.selectRange),u.Cb(1),u.mc("ngForOf",t.ranges),u.Cb(1),u.mc("ngIf","BEGIN_END_TIME"===t.selectRange),u.Cb(1),u.mc("options",t.opsChart),u.Cb(1),u.mc("options",t.bandwidthChart),u.Cb(1),u.mc("options",t.latencyChart))},directives:[o.n,g.V,h.A,g.U,h.q,h.t,o.m,ee.b,h.v,h.D,te.c,te.g,ne.b,h.r,h.k,ne.h,h.e,h.z,h.i,ne.g,ne.f,te.i,ne.c,te.b],pipes:[p.c],styles:[""]}),se),ue=((be=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getHostListByObjectId",value:function(e){return this.http.get("accessvmware/gethostsbydsobjectid",{params:{dataStoreObjectId:e}})}},{key:"getClusterListByObjectId",value:function(e){return this.http.get("accessvmware/getclustersbydsobjectid",{params:{dataStoreObjectId:e}})}},{key:"getDatastoreListByHostObjectId",value:function(e){return this.http.get("accessvmware/getdatastoresbyhostobjectid",e)}},{key:"getDatastoreListByClusterObjectId",value:function(e){return this.http.get("accessvmware/getdatastoresbyclusterobjectid",e)}},{key:"mountNfs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessnfs/mountnfs",e)}},{key:"getVmkernelListByObjectId",value:function(e){return this.http.get("accessvmware/getvmkernelipbyhostobjectid",{params:{hostObjectId:e}})}},{key:"getLogicPortListByStorageId",value:function(e){return this.http.get("dmestorage/logicports",{params:{storageId:e}})}}]),t}()).\u0275fac=function(e){return new(e||be)(u.Yb(P.b))},be.\u0275prov=u.Kb({token:be,factory:be.\u0275fac}),be),ge=function t(){e(this,t)};function he(e,t){1&e&&(u.Ub(0,"p",15),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.mountError")))}function pe(e,t){if(1&e&&(u.Ub(0,"option",16),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.hostId),u.Cb(1),u.Lc(n.hostName)}}function fe(e,t){if(1&e&&(u.Ub(0,"option",16),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.ipAddress),u.Cb(1),u.Lc(n.ipAddress)}}function me(e,t){1&e&&(u.Ub(0,"p",15),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.mountError")))}function Ce(e,t){if(1&e&&(u.Ub(0,"option",16),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.hostId),u.Cb(1),u.Lc(n.hostName)}}function Te(e,t){if(1&e&&(u.Ub(0,"option",16),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.ipAddress),u.Cb(1),u.Lc(n.ipAddress)}}function ve(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"form",3),u.Ic(3,me,3,3,"p",4),u.Ub(4,"clr-select-container"),u.Ub(5,"label"),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"select",5),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().hostList}))("ngModelChange",(function(e){return u.zc(n),u.gc().mountForm.hostObjectId=e}))("change",(function(){return u.zc(n),u.gc().checkHost()})),u.Ic(9,Ce,2,2,"option",6),u.Tb(),u.Tb(),u.Ub(10,"clr-select-container"),u.Ub(11,"label"),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"select",7),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().vmkernelList}))("ngModelChange",(function(e){return u.zc(n),u.gc().mountForm.hostVkernelIp=e})),u.Ic(15,Te,2,2,"option",6),u.Tb(),u.Tb(),u.Ub(16,"clr-select-container"),u.Ub(17,"label"),u.Kc(18),u.hc(19,"translate"),u.Tb(),u.Ub(20,"select",8),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().mountForm.mountType=e})),u.Ub(21,"option",9),u.Kc(22),u.hc(23,"translate"),u.Tb(),u.Ub(24,"option",10),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(27,"div",17),u.Ub(28,"button",12),u.cc("click",(function(){return u.zc(n),u.gc().backToNfsList()})),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Ub(31,"button",13),u.cc("click",(function(){return u.zc(n),u.gc().mountSubmit()})),u.Kc(32),u.hc(33,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.mc("ngIf",c.errorMsg),u.Cb(3),u.Lc(u.ic(7,13,"nfs.mountHost")),u.Cb(2),u.mc("ngModel",c.mountForm.hostObjectId),u.Cb(1),u.mc("ngForOf",c.hostList),u.Cb(3),u.Lc(u.ic(13,15,"nfs.vkernel")),u.Cb(2),u.mc("ngModel",c.mountForm.hostVkernelIp),u.Cb(1),u.mc("ngForOf",c.vmkernelList),u.Cb(3),u.Lc(u.ic(19,17,"nfs.mount.mountType")),u.Cb(2),u.mc("ngModel",c.mountForm.mountType),u.Cb(2),u.Lc(u.ic(23,19,"nfs.mount.readOnly")),u.Cb(3),u.Lc(u.ic(26,21,"nfs.mount.readWrite")),u.Cb(4),u.Lc(u.ic(30,23,"menu.cancel")),u.Cb(3),u.Lc(u.ic(33,25,"menu.ok"))}}function Ue(e,t){1&e&&(u.Ub(0,"p",15),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.mountError")))}function Me(e,t){if(1&e&&(u.Ub(0,"option",16),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.ipAddress),u.Cb(1),u.Lc(n.ipAddress)}}function ye(e,t){if(1&e&&(u.Ub(0,"option",16),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.objectId),u.Cb(1),u.Lc(n.name)}}function Le(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"form",3),u.Ic(3,Ue,3,3,"p",4),u.Ub(4,"clr-select-container"),u.Ub(5,"label"),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"select",7),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().vmkernelList}))("ngModelChange",(function(e){return u.zc(n),u.gc().mountForm.hostVkernelIp=e})),u.Ic(9,Me,2,2,"option",6),u.Tb(),u.Tb(),u.Ub(10,"clr-select-container"),u.Ub(11,"label"),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"select",18),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().dataStoreList}))("ngModelChange",(function(e){return u.zc(n),u.gc().mountForm.dataStoreObjectId=e})),u.Ic(15,ye,2,2,"option",6),u.Tb(),u.Tb(),u.Ub(16,"clr-select-container"),u.Ub(17,"label"),u.Kc(18),u.hc(19,"translate"),u.Tb(),u.Ub(20,"select",8),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().mountForm.mountType=e})),u.Ub(21,"option",9),u.Kc(22),u.hc(23,"translate"),u.Tb(),u.Ub(24,"option",10),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(27,"div",17),u.Ub(28,"button",12),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Ub(31,"button",13),u.cc("click",(function(){return u.zc(n),u.gc().mountSubmit()})),u.Kc(32),u.hc(33,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.mc("ngIf",c.errorMsg),u.Cb(3),u.Lc(u.ic(7,13,"nfs.vkernel")),u.Cb(2),u.mc("ngModel",c.mountForm.hostVkernelIp),u.Cb(1),u.mc("ngForOf",c.vmkernelList),u.Cb(3),u.Lc(u.ic(13,15,"nfs.nfsStore")),u.Cb(2),u.mc("ngModel",c.mountForm.dataStoreObjectId),u.Cb(1),u.mc("ngForOf",c.dataStoreList),u.Cb(3),u.Lc(u.ic(19,17,"nfs.mount.mountType")),u.Cb(2),u.mc("ngModel",c.mountForm.mountType),u.Cb(2),u.Lc(u.ic(23,19,"nfs.mount.readOnly")),u.Cb(3),u.Lc(u.ic(26,21,"nfs.mount.readWrite")),u.Cb(4),u.Lc(u.ic(30,23,"menu.cancel")),u.Cb(3),u.Lc(u.ic(33,25,"menu.ok"))}}var we,Ie,ke=((Ie=function(){function t(n,c,a,o,i){e(this,t),this.mountService=n,this.cdr=c,this.gs=a,this.activatedRoute=o,this.router=i,this.mountObj="1",this.mountForm=new ge,this.hostList=[],this.rowSelected=[],this.logicPorts=[],this.vmkernelList=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;if(this.gs.loading=!0,this.activatedRoute.url.subscribe((function(t){e.routePath=t[0].path})),"dataStore"===this.routePath){if(this.viewPage="mount_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.dsObjectId=t.objectId,e.mountForm.dataStoreObjectId=t.objectId,e.pluginFlag=t.flag})),null==this.pluginFlag){var t=this.gs.getClientSdk().app.getContextObjects();null!=t&&(this.dsObjectId=t[0].id,this.mountForm.dataStoreObjectId=t[0].id),this.viewPage="mount_dataStore"}null!=this.dsObjectId&&""!=this.dsObjectId&&(this.initHostAndClusterList(),this.getLogicPortByDsId(this.dsObjectId)),this.gs.loading=!1}else{if("host"===this.routePath){this.viewPage="mount_host";var n=this.gs.getClientSdk().app.getContextObjects();null!=n&&(this.hostObjectId=n[0].id,this.getDataStoreList(this.hostObjectId),this.getVmkernelListByObjectId(this.hostObjectId),this.mountForm.hostObjectId=this.hostObjectId),this.gs.loading=!1}this.gs.loading=!1}this.cdr.detectChanges()}},{key:"checkHost",value:function(){this.gs.loading=!0,this.getVmkernelListByObjectId(this.mountForm.hostObjectId)}},{key:"initHostAndClusterList",value:function(){var e=this;this.mountService.getHostListByObjectId(this.dsObjectId).subscribe((function(t){"200"===t.code&&(e.hostList=t.data,e.cdr.detectChanges(),e.gs.loading=!1)}))}},{key:"getDataStoreList",value:function(e){var t=this;this.dataStoreList=null,this.mountService.getDatastoreListByHostObjectId({hostObjectId:e,dataStoreType:"NFS"}).subscribe((function(e){"200"===e.code&&(t.dataStoreList=e.data)})),this.cdr.detectChanges()}},{key:"getLogicPortByDsId",value:function(e){var t=this;this.gs.loading=!0,this.mountService.getLogicPortListByStorageId(e).subscribe((function(e){t.gs.loading=!1,"200"===e.code&&(t.logicPorts=e.data,t.cdr.detectChanges())}))}},{key:"getVmkernelListByObjectId",value:function(e){var t=this;this.mountService.getVmkernelListByObjectId(e).subscribe((function(e){t.gs.loading=!1,"200"===e.code&&(t.vmkernelList=e.data,t.cdr.detectChanges())}))}},{key:"mountSubmit",value:function(){var e=this;this.gs.loading=!0,this.mountService.mountNfs(this.mountForm).subscribe((function(t){e.gs.loading=!1,"200"===t.code?(e.mountForm=new ge,"plugin"==e.pluginFlag?e.backToNfsList():e.closeModel()):(console.log("mount failed:",t.description),e.errorMsg="1")}))}},{key:"backToNfsList",value:function(){this.gs.loading=!1,this.errorMsg=null,this.router.navigate(["nfs"])}},{key:"closeModel",value:function(){this.errorMsg=null,this.gs.getClientSdk().modal.close(),this.gs.loading=!1}},{key:"formatCapacity",value:function(e){return e<1024?e.toFixed(3)+" GB":e>=1024&&e<1048576?(e/1024).toFixed(3)+" TB":e>=1048576?(e/1024/1024).toFixed(3)+" PB":void 0}}]),t}()).\u0275fac=function(e){return new(e||Ie)(u.Ob(ue),u.Ob(u.h),u.Ob(b.b),u.Ob(r.a),u.Ob(r.f))},Ie.\u0275cmp=u.Ib({type:Ie,selectors:[["app-mount"]],features:[u.Bb([ue])],decls:40,vars:34,consts:[[3,"clrModalOpen","clrModalClosable"],[1,"modal-title","modelTile"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrSelect","","required","","name","hostObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["clrSelect","","required","","name","hostVkernelIp",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrSelect","","name","mountType",3,"ngModel","ngModelChange"],["value","readOnly"],["value","readWrite"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"],[3,"value"],[2,"float","right"],["clrSelect","","required","","name","dataStoreObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-modal",0),u.Ub(2,"h3",1),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"form",3),u.Ic(7,he,3,3,"p",4),u.Ub(8,"clr-select-container"),u.Ub(9,"label"),u.Kc(10),u.hc(11,"translate"),u.Tb(),u.Ub(12,"select",5),u.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.mountForm.hostObjectId=e}))("change",(function(){return t.checkHost()})),u.Ic(13,pe,2,2,"option",6),u.Tb(),u.Tb(),u.Ub(14,"clr-select-container"),u.Ub(15,"label"),u.Kc(16),u.hc(17,"translate"),u.Tb(),u.Ub(18,"select",7),u.cc("ngModelOptions",(function(){return t.vmkernelList}))("ngModelChange",(function(e){return t.mountForm.hostVkernelIp=e})),u.Ic(19,fe,2,2,"option",6),u.Tb(),u.Tb(),u.Ub(20,"clr-select-container"),u.Ub(21,"label"),u.Kc(22),u.hc(23,"translate"),u.Tb(),u.Ub(24,"select",8),u.cc("ngModelChange",(function(e){return t.mountForm.mountType=e})),u.Ub(25,"option",9),u.Kc(26),u.hc(27,"translate"),u.Tb(),u.Ub(28,"option",10),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(31,"div",11),u.Ub(32,"button",12),u.cc("click",(function(){return t.backToNfsList()})),u.Kc(33),u.hc(34,"translate"),u.Tb(),u.Ub(35,"button",13),u.cc("click",(function(){return t.mountSubmit()})),u.Kc(36),u.hc(37,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(38,ve,34,27,"div",14),u.Ic(39,Le,34,27,"div",14),u.Tb()),2&e&&(u.Cb(1),u.mc("clrModalOpen","mount_plugin"==t.viewPage)("clrModalClosable",!1),u.Cb(2),u.Lc(u.ic(4,18,"vmfs.mount.mount")),u.Cb(4),u.mc("ngIf",t.errorMsg),u.Cb(3),u.Lc(u.ic(11,20,"nfs.mountHost")),u.Cb(2),u.mc("ngModel",t.mountForm.hostObjectId),u.Cb(1),u.mc("ngForOf",t.hostList),u.Cb(3),u.Lc(u.ic(17,22,"nfs.vkernel")),u.Cb(2),u.mc("ngModel",t.mountForm.hostVkernelIp),u.Cb(1),u.mc("ngForOf",t.vmkernelList),u.Cb(3),u.Lc(u.ic(23,24,"nfs.mount.mountType")),u.Cb(2),u.mc("ngModel",t.mountForm.mountType),u.Cb(2),u.Lc(u.ic(27,26,"nfs.mount.readOnly")),u.Cb(3),u.Lc(u.ic(30,28,"nfs.mount.readWrite")),u.Cb(4),u.Lc(u.ic(34,30,"menu.cancel")),u.Cb(3),u.Lc(u.ic(37,32,"menu.ok")),u.Cb(2),u.mc("ngIf","mount_dataStore"==t.viewPage),u.Cb(1),u.mc("ngIf","mount_host"==t.viewPage))},directives:[g.J,g.K,h.E,h.r,h.s,g.A,o.n,g.V,g.H,h.A,g.U,h.z,h.q,h.t,o.m,h.v,h.D],pipes:[p.c],styles:[".inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:50%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.modelTile[_ngcontent-%COMP%]{font-weight:400}.modelTile[_ngcontent-%COMP%],   .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd}  .modal-title-text{font-weight:bolder}  .modal-title-wrapper{width:100%}"]}),Ie),Ke=((we=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getMountedHostList",value:function(e){return this.http.get("accessnfs/gethostsbystorageid/"+e)}},{key:"getMountedClusterList",value:function(e){return this.http.get("accessnfs/gethostgroupsbystorageid/"+e)}},{key:"unmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessnfs/unmountnfs",e)}}]),t}()).\u0275fac=function(e){return new(e||we)(u.Yb(P.b))},we.\u0275prov=u.Kb({token:we,factory:we.\u0275fac}),we);function Oe(e,t){1&e&&(u.Ub(0,"p",11),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.unMountError")))}function Pe(e,t){if(1&e&&(u.Ub(0,"option",12),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.hostId),u.Cb(1),u.Lc(n.hostName)}}function Fe(e,t){1&e&&(u.Ub(0,"p",11),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.unMountError")))}function Ne(e,t){if(1&e&&(u.Ub(0,"option",12),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.hostId),u.Cb(1),u.Lc(n.hostName)}}function Se(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"form",3),u.Ic(3,Fe,3,3,"p",4),u.Ub(4,"clr-select-container"),u.Ub(5,"label"),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"select",5),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().hostList}))("ngModelChange",(function(e){return u.zc(n),u.gc().hostId=e})),u.Ic(9,Ne,2,2,"option",6),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",13),u.Ub(11,"button",8),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"button",9),u.cc("click",(function(){return u.zc(n),u.gc().unMount()})),u.Kc(15),u.hc(16,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.mc("ngIf",c.errorMsg),u.Cb(3),u.Lc(u.ic(7,6,"nfs.mountHost")),u.Cb(2),u.mc("ngModel",c.hostId),u.Cb(1),u.mc("ngForOf",c.hostList),u.Cb(3),u.Lc(u.ic(13,8,"menu.cancel")),u.Cb(3),u.Lc(u.ic(16,10,"menu.ok"))}}function xe(e,t){1&e&&(u.Ub(0,"p",11),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.unMountError")))}function ze(e,t){if(1&e&&(u.Ub(0,"option",12),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.objectId),u.Cb(1),u.Lc(n.name)}}function _e(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"form",3),u.Ic(3,xe,3,3,"p",4),u.Ub(4,"clr-select-container"),u.Ub(5,"label"),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"select",14),u.cc("ngModelOptions",(function(){return u.zc(n),u.gc().dataStoreList}))("ngModelChange",(function(e){return u.zc(n),u.gc().dataStoreObjectId=e}))("change",(function(){return u.zc(n),u.gc().checkHost()})),u.Ic(9,ze,2,2,"option",6),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(10,"div",13),u.Ub(11,"button",8),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"button",9),u.cc("click",(function(){return u.zc(n),u.gc().unMount()})),u.Kc(15),u.hc(16,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.mc("ngIf",c.errorMsg),u.Cb(3),u.Lc(u.ic(7,6,"nfs.nfsStore")),u.Cb(2),u.mc("ngModel",c.dataStoreObjectId),u.Cb(1),u.mc("ngForOf",c.dataStoreList),u.Cb(3),u.Lc(u.ic(13,8,"menu.cancel")),u.Cb(3),u.Lc(u.ic(16,10,"menu.ok"))}}var De,Be,je=((Be=function(){function t(n,c,a,o,i){e(this,t),this.unmountService=n,this.gs=c,this.activatedRoute=a,this.router=o,this.cdr=i,this.rowSelected=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;if(this.activatedRoute.url.subscribe((function(t){e.routePath=t[0].path})),"dataStore"===this.routePath){if(this.gs.loading=!0,this.viewPage="unmount_pugin",this.activatedRoute.queryParams.subscribe((function(t){e.dataStoreObjectId=t.objectId,e.pluginFlag=t.flag})),null==this.pluginFlag){var t=this.gs.getClientSdk().app.getContextObjects();null!=t&&(this.dataStoreObjectId=t[0].id),this.viewPage="unmount_vcenter"}this.getMountedHostList(this.dataStoreObjectId)}else if("host"===this.routePath){this.gs.loading=!0,this.viewPage="unmount_host";var n=this.gs.getClientSdk().app.getContextObjects();null!=n&&(this.hostId=n[0].id,this.getDataStoreByHostId(this.hostId)),this.gs.loading=!1}}},{key:"backToNfsList",value:function(){this.errorMsg=null,this.gs.loading=!1,this.router.navigate(["nfs"])}},{key:"unMount",value:function(){var e=this,t={dataStoreObjectId:this.dataStoreObjectId,hostId:this.hostId};this.gs.loading=!0,this.unmountService.unmount(t).subscribe((function(t){e.gs.loading=!1,"200"===t.code?"plugin"==e.pluginFlag?e.backToNfsList():e.closeModel():(e.errorMsg="1",console.log("unMount Failed:",t.description))}))}},{key:"closeModel",value:function(){this.errorMsg=null,this.gs.loading=!1,this.gs.getClientSdk().modal.close()}},{key:"formatCapacity",value:function(e){return e<1024?e.toFixed(3)+" GB":e>=1024&&e<1048576?(e/1024).toFixed(3)+" TB":e>=1048576?(e/1024/1024).toFixed(3)+" PB":void 0}},{key:"getMountedHostList",value:function(e){var t=this;this.unmountService.getMountedHostList(e).subscribe((function(e){t.gs.loading=!1,"200"==e.code&&(t.hostList=e.data,t.cdr.detectChanges())}))}},{key:"getDataStoreByHostId",value:function(e){var t=this;this.unmountService.getMountedHostList(e).subscribe((function(e){t.gs.loading=!1,"200"==e.code&&(t.hostList=e.data,t.cdr.detectChanges())}))}}]),t}()).\u0275fac=function(e){return new(e||Be)(u.Ob(Ke),u.Ob(b.b),u.Ob(r.a),u.Ob(r.f),u.Ob(u.h))},Be.\u0275cmp=u.Ib({type:Be,selectors:[["app-unmount"]],features:[u.Bb([Ke])],decls:23,vars:19,consts:[[3,"clrModalOpen","clrModalSize"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrSelect","","required","","name","hostId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"],[3,"value"],[2,"float","right"],["clrSelect","","required","","name","dataStoreObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-modal",0),u.Ub(2,"h3",1),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"form",3),u.Ic(7,Oe,3,3,"p",4),u.Ub(8,"clr-select-container"),u.Ub(9,"label"),u.Kc(10),u.hc(11,"translate"),u.Tb(),u.Ub(12,"select",5),u.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.hostId=e})),u.Ic(13,Pe,2,2,"option",6),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(14,"div",7),u.Ub(15,"button",8),u.cc("click",(function(){return t.backToNfsList()})),u.Kc(16),u.hc(17,"translate"),u.Tb(),u.Ub(18,"button",9),u.cc("click",(function(){return t.unMount()})),u.Kc(19),u.hc(20,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(21,Se,17,12,"div",10),u.Ic(22,_e,17,12,"div",10),u.Tb()),2&e&&(u.Cb(1),u.mc("clrModalOpen","unmount_pugin"==t.viewPage)("clrModalSize","md"),u.Cb(2),u.Lc(u.ic(4,11,"nfs.unmount.title")),u.Cb(4),u.mc("ngIf",t.errorMsg),u.Cb(3),u.Lc(u.ic(11,13,"nfs.mountHost")),u.Cb(2),u.mc("ngModel",t.hostId),u.Cb(1),u.mc("ngForOf",t.hostList),u.Cb(3),u.Lc(u.ic(17,15,"menu.cancel")),u.Cb(3),u.Lc(u.ic(20,17,"menu.ok")),u.Cb(2),u.mc("ngIf","unmount_vcenter"==t.viewPage),u.Cb(1),u.mc("ngIf","unmount_host"==t.viewPage))},directives:[g.J,g.K,h.E,h.r,h.s,g.A,o.n,g.V,g.H,h.A,g.U,h.z,h.q,h.t,o.m,h.v,h.D],pipes:[p.c],styles:[".inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:50%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.modelTile[_ngcontent-%COMP%]{font-weight:400}.modelTile[_ngcontent-%COMP%],   .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd}  .modal-title-text{font-weight:bolder}  .modal-title-wrapper{width:100%}"]}),Be),qe=((De=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"changeCapacity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.put("operatenfs/changenfsdatastore",e)}}]),t}()).\u0275fac=function(e){return new(e||De)(u.Yb(P.b))},De.\u0275prov=u.Kb({token:De,factory:De.\u0275fac}),De);function Ee(e,t){1&e&&(u.Ub(0,"p",17),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.deleteError")))}function Re(e,t){1&e&&(u.Ub(0,"p",17),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.deleteError")))}function Ve(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"form",3),u.Ic(3,Re,3,3,"p",4),u.Ub(4,"clr-input-container"),u.Ub(5,"label"),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"div",5),u.Ub(9,"input",6,7),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().newCapacity=e})),u.Tb(),u.Ub(11,"select",8),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().unit=e})),u.Ub(12,"option",9),u.Kc(13,"TB"),u.Tb(),u.Ub(14,"option",10),u.Kc(15,"GB"),u.Tb(),u.Ub(16,"option",11),u.Kc(17,"MB"),u.Tb(),u.Ub(18,"option",12),u.Kc(19,"KB"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(20,"div",18),u.Ub(21,"button",14),u.cc("click",(function(){return u.zc(n),u.gc().backToNfsList()})),u.Kc(22),u.hc(23,"translate"),u.Tb(),u.Ub(24,"button",15),u.cc("click",(function(){return u.zc(n),u.gc().reduceCommit()})),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.mc("ngIf",c.errorMsg),u.Cb(3),u.Lc(u.ic(7,6,"nfs.reduSize")),u.Cb(3),u.mc("ngModel",c.newCapacity),u.Cb(2),u.mc("ngModel",c.unit),u.Cb(11),u.Lc(u.ic(23,8,"menu.cancel")),u.Cb(3),u.Lc(u.ic(26,10,"menu.ok"))}}var Ae,He,Ge=((He=function(){function t(n,c,a,o){e(this,t),this.reduceService=n,this.gs=c,this.activatedRoute=a,this.router=o,this.unit="GB",this.newCapacity=0,this.rowSelected=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;if(this.viewPage="reduce_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.fsId=t.fsId,e.pluginFlag=t.flag,e.storeObjectId=t.objectId})),null==this.pluginFlag){var t=this.gs.getClientSdk().app.getContextObjects();null!=t&&(this.storeObjectId=t[0].id),this.viewPage="reduce_vcenter"}}},{key:"backToNfsList",value:function(){this.gs.loading=!1,this.errorMsg=null,this.router.navigate(["nfs"])}},{key:"closeModel",value:function(){this.errorMsg=null,this.gs.loading=!1,this.gs.getClientSdk().modal.close()}},{key:"reduceCommit",value:function(){var e,t=this;switch(this.gs.loading=!0,this.unit){case"TB":this.newCapacity=1024*this.newCapacity;break;case"MB":this.newCapacity=this.newCapacity/1024;break;case"KB":this.newCapacity=this.newCapacity/1048576}"plugin"==this.pluginFlag&&(e={fileSystemId:this.fsId,storeObjectId:this.storeObjectId,expand:!1,capacity:this.newCapacity}),null==this.pluginFlag&&(e={storeObjectId:this.storeObjectId,expand:!1,capacity:this.newCapacity}),this.reduceService.changeCapacity(e).subscribe((function(e){t.gs.loading=!1,"200"===e.code?"plugin"==t.pluginFlag?t.backToNfsList():t.closeModel():(t.errorMsg="1",console.log("Reduce failed:",e.description))}))}}]),t}()).\u0275fac=function(e){return new(e||He)(u.Ob(qe),u.Ob(b.b),u.Ob(r.a),u.Ob(r.f))},He.\u0275cmp=u.Ib({type:He,selectors:[["app-reduce"]],features:[u.Bb([qe])],decls:32,vars:18,consts:[[3,"clrModalOpen","clrModalClosable"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrInput","",2,"float","left","position","relative"],["clrInput","","type","number","name","newCapacity","onkeyup","this.value.match(/\\d+(\\.\\d{0,2})?/)? this.value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''","required","",2,"width","70%","border-bottom","none",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","unit",1,"capacity",2,"width","30%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["value","KB"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"],[2,"float","right"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-modal",0),u.Ub(2,"h3",1),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"form",3),u.Ic(7,Ee,3,3,"p",4),u.Ub(8,"clr-input-container"),u.Ub(9,"label"),u.Kc(10),u.hc(11,"translate"),u.Tb(),u.Ub(12,"div",5),u.Ub(13,"input",6,7),u.cc("ngModelChange",(function(e){return t.newCapacity=e})),u.Tb(),u.Ub(15,"select",8),u.cc("ngModelChange",(function(e){return t.unit=e})),u.Ub(16,"option",9),u.Kc(17,"TB"),u.Tb(),u.Ub(18,"option",10),u.Kc(19,"GB"),u.Tb(),u.Ub(20,"option",11),u.Kc(21,"MB"),u.Tb(),u.Ub(22,"option",12),u.Kc(23,"KB"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(24,"div",13),u.Ub(25,"button",14),u.cc("click",(function(){return t.backToNfsList()})),u.Kc(26),u.hc(27,"translate"),u.Tb(),u.Ub(28,"button",15),u.cc("click",(function(){return t.reduceCommit()})),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(31,Ve,27,12,"div",16),u.Tb()),2&e&&(u.Cb(1),u.mc("clrModalOpen","reduce_plugin"==t.viewPage)("clrModalClosable",!1),u.Cb(2),u.Lc(u.ic(4,10,"menu.reduce")),u.Cb(4),u.mc("ngIf",t.errorMsg),u.Cb(3),u.Lc(u.ic(11,12,"nfs.reduSize")),u.Cb(3),u.mc("ngModel",t.newCapacity),u.Cb(2),u.mc("ngModel",t.unit),u.Cb(11),u.Lc(u.ic(27,14,"menu.cancel")),u.Cb(3),u.Lc(u.ic(30,16,"menu.ok")),u.Cb(2),u.mc("ngIf","reduce_vcenter"==t.viewPage))},directives:[g.J,g.K,h.E,h.r,h.s,g.A,o.n,g.G,g.H,g.F,h.w,h.e,h.z,h.q,h.t,h.A,h.v,h.D],pipes:[p.c],styles:[""]}),He),We=((Ae=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"changeCapacity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.put("operatenfs/changenfsdatastore",e)}}]),t}()).\u0275fac=function(e){return new(e||Ae)(u.Yb(P.b))},Ae.\u0275prov=u.Kb({token:Ae,factory:Ae.\u0275fac}),Ae);function $e(e,t){1&e&&(u.Ub(0,"p",17),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.expandError")))}function Ye(e,t){1&e&&(u.Ub(0,"p",17),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.expandError")))}function Je(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ub(2,"form",3),u.Ic(3,Ye,3,3,"p",4),u.Ub(4,"clr-input-container"),u.Ub(5,"label"),u.Kc(6),u.hc(7,"translate"),u.Tb(),u.Ub(8,"div",5),u.Ub(9,"input",6,7),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().newCapacity=e})),u.Tb(),u.Ub(11,"select",8),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().unit=e})),u.Ub(12,"option",9),u.Kc(13,"TB"),u.Tb(),u.Ub(14,"option",10),u.Kc(15,"GB"),u.Tb(),u.Ub(16,"option",11),u.Kc(17,"MB"),u.Tb(),u.Ub(18,"option",12),u.Kc(19,"KB"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(20,"div"),u.Ub(21,"button",14),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(22),u.hc(23,"translate"),u.Tb(),u.Ub(24,"button",15),u.cc("click",(function(){return u.zc(n),u.gc().expandData()})),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.mc("ngIf",c.errorMsg),u.Cb(3),u.Lc(u.ic(7,6,"nfs.expandSize")),u.Cb(3),u.mc("ngModel",c.newCapacity),u.Cb(2),u.mc("ngModel",c.unit),u.Cb(11),u.Lc(u.ic(23,8,"menu.cancel")),u.Cb(3),u.Lc(u.ic(26,10,"menu.ok"))}}var Xe,Qe,Ze=((Qe=function(){function t(n,c,a,o){e(this,t),this.expandService=n,this.gs=c,this.activatedRoute=a,this.router=o,this.newCapacity=0,this.unit="GB",this.rowSelected=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;if(this.viewPage="expand_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.fsId=t.fsId,e.pluginFlag=t.flag,e.storeObjectId=t.objectId})),null==this.pluginFlag){var t=this.gs.getClientSdk().app.getContextObjects();this.storeObjectId=t[0].id,this.viewPage="expand_vcenter"}}},{key:"expandData",value:function(){var e,t=this;switch(this.gs.loading=!0,this.unit){case"TB":this.newCapacity=1024*this.newCapacity;break;case"MB":this.newCapacity=this.newCapacity/1024;break;case"KB":this.newCapacity=this.newCapacity/1048576}"plugin"==this.pluginFlag&&(e={fileSystemId:this.fsId,storeObjectId:this.storeObjectId,expand:!0,capacity:this.newCapacity}),null==this.pluginFlag&&(e={storeObjectId:this.storeObjectId,expand:!0,capacity:this.newCapacity}),this.expandService.changeCapacity(e).subscribe((function(e){t.gs.loading=!1,"200"===e.code?"plugin"==t.pluginFlag?t.backToNfsList():t.closeModel():(t.errorMsg="1",console.log("Expand failed:",e.description))}))}},{key:"backToNfsList",value:function(){this.gs.loading=!1,this.errorMsg=null,this.router.navigate(["nfs"])}},{key:"closeModel",value:function(){this.gs.loading=!1,this.errorMsg=null,this.gs.getClientSdk().modal.close()}}]),t}()).\u0275fac=function(e){return new(e||Qe)(u.Ob(We),u.Ob(b.b),u.Ob(r.a),u.Ob(r.f))},Qe.\u0275cmp=u.Ib({type:Qe,selectors:[["app-reduce"]],features:[u.Bb([We])],decls:32,vars:18,consts:[[3,"clrModalOpen","clrModalClosable"],[1,"modal-title"],[1,"modal-body"],["clrForm",""],["style","color: red",4,"ngIf"],["clrInput","",2,"float","left","position","relative"],["clrInput","","type","number","name","newCapacity","onkeyup","this.value.match(/\\d+(\\.\\d{0,2})?/)? this.value.match(/\\d+(\\.\\d{0,2})?/)[0] : ''","required","",2,"width","70%","border-bottom","none",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","unit",1,"capacity",2,"width","30%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["value","KB"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-modal",0),u.Ub(2,"h3",1),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"form",3),u.Ic(7,$e,3,3,"p",4),u.Ub(8,"clr-input-container"),u.Ub(9,"label"),u.Kc(10),u.hc(11,"translate"),u.Tb(),u.Ub(12,"div",5),u.Ub(13,"input",6,7),u.cc("ngModelChange",(function(e){return t.newCapacity=e})),u.Tb(),u.Ub(15,"select",8),u.cc("ngModelChange",(function(e){return t.unit=e})),u.Ub(16,"option",9),u.Kc(17,"TB"),u.Tb(),u.Ub(18,"option",10),u.Kc(19,"GB"),u.Tb(),u.Ub(20,"option",11),u.Kc(21,"MB"),u.Tb(),u.Ub(22,"option",12),u.Kc(23,"KB"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(24,"div",13),u.Ub(25,"button",14),u.cc("click",(function(){return t.backToNfsList()})),u.Kc(26),u.hc(27,"translate"),u.Tb(),u.Ub(28,"button",15),u.cc("click",(function(){return t.expandData()})),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(31,Je,27,12,"div",16),u.Tb()),2&e&&(u.Cb(1),u.mc("clrModalOpen","expand_plugin"==t.viewPage)("clrModalClosable",!1),u.Cb(2),u.Lc(u.ic(4,10,"menu.expand")),u.Cb(4),u.mc("ngIf",t.errorMsg),u.Cb(3),u.Lc(u.ic(11,12,"nfs.expandSize")),u.Cb(3),u.mc("ngModel",t.newCapacity),u.Cb(2),u.mc("ngModel",t.unit),u.Cb(11),u.Lc(u.ic(27,14,"menu.cancel")),u.Cb(3),u.Lc(u.ic(30,16,"menu.ok")),u.Cb(2),u.mc("ngIf","expand_vcenter"==t.viewPage))},directives:[g.J,g.K,h.E,h.r,h.s,g.A,o.n,g.G,g.H,g.F,h.w,h.e,h.z,h.q,h.t,h.A,h.v,h.D],pipes:[p.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}"]}),Qe),et=((Xe=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"delNfs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessnfs/deletenfs",e)}}]),t}()).\u0275fac=function(e){return new(e||Xe)(u.Yb(P.b))},Xe.\u0275prov=u.Kb({token:Xe,factory:Xe.\u0275fac}),Xe);function tt(e,t){1&e&&(u.Ub(0,"p",9),u.Kc(1),u.hc(2,"translate"),u.Tb()),2&e&&(u.Cb(1),u.Lc(u.ic(2,1,"errorMsg.reduceError")))}function nt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"div"),u.Ic(2,tt,3,3,"p",7),u.Ub(3,"p"),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Tb(),u.Ub(6,"div",8),u.Ub(7,"button",4),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(8),u.hc(9,"translate"),u.Tb(),u.Ub(10,"button",5),u.cc("click",(function(){return u.zc(n),u.gc().delNfs()})),u.Kc(11),u.hc(12,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.mc("ngIf",c.errorMsg),u.Cb(2),u.Lc(u.ic(5,4,"nfs.del.content")),u.Cb(4),u.Lc(u.ic(9,6,"menu.cancel")),u.Cb(3),u.Lc(u.ic(12,8,"menu.ok"))}}var ct,at,ot=((at=function(){function t(n,c,a,o,i){e(this,t),this.deleteService=n,this.cdr=c,this.gs=a,this.activatedRoute=o,this.router=i}return n(t,[{key:"ngOnInit",value:function(){var e=this;if(this.viewPage="delete_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.dataStoreObjectId=t.objectid,e.pluginFlag=t.flag})),null==this.pluginFlag){var t=this.gs.getClientSdk().app.getContextObjects();null!=t&&(this.dataStoreObjectId=t[0].id),this.viewPage="delete_vcenter"}}},{key:"delNfs",value:function(){var e=this;this.gs.loading=!0,this.deleteService.delNfs({dataStoreObjectId:this.dataStoreObjectId}).subscribe((function(t){e.gs.loading=!1,"200"===t.code?"plugin"==e.pluginFlag?e.backToNfsList():e.closeModel():(e.errorMsg="1",console.log("Delete failed:",t.description))}))}},{key:"backToNfsList",value:function(){this.gs.loading=!1,this.router.navigate(["nfs"])}},{key:"closeModel",value:function(){this.gs.loading=!1,this.gs.getClientSdk().modal.close()}}]),t}()).\u0275fac=function(e){return new(e||at)(u.Ob(et),u.Ob(u.h),u.Ob(b.b),u.Ob(r.a),u.Ob(r.f))},at.\u0275cmp=u.Ib({type:at,selectors:[["app-add"]],features:[u.Bb([et])],decls:17,vars:15,consts:[[3,"clrModalOpen","clrModalSize"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],["style","color: red",4,"ngIf"],[2,"float","right"],[2,"color","red"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-modal",0),u.Ub(2,"h3",1),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"p"),u.Kc(7),u.hc(8,"translate"),u.Tb(),u.Tb(),u.Ub(9,"div",3),u.Ub(10,"button",4),u.cc("click",(function(){return t.backToNfsList()})),u.Kc(11),u.hc(12,"translate"),u.Tb(),u.Ub(13,"button",5),u.cc("click",(function(){return t.delNfs()})),u.Kc(14),u.hc(15,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(16,nt,13,10,"div",6),u.Tb()),2&e&&(u.Cb(1),u.mc("clrModalOpen","delete_plugin"==t.viewPage)("clrModalSize","sm"),u.Cb(2),u.Lc(u.ic(4,7,"nfs.del.title")),u.Cb(4),u.Lc(u.ic(8,9,"nfs.del.content")),u.Cb(4),u.Lc(u.ic(12,11,"menu.cancel")),u.Cb(3),u.Lc(u.ic(15,13,"menu.ok")),u.Cb(2),u.mc("ngIf","delete_vcenter"==t.viewPage))},directives:[g.J,g.K,o.n],pipes:[p.c],styles:[""]}),at),it=((ct=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getHostList",value:function(){return this.http.get("accessvmware/listhost")}},{key:"getVmkernelListByObjectId",value:function(e){return this.http.get("accessvmware/getvmkernelipbyhostobjectid",{params:{hostObjectId:e}})}},{key:"addNfs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatenfs/createnfsdatastore",e)}}]),t}()).\u0275fac=function(e){return new(e||ct)(u.Yb(P.b))},ct.\u0275prov=u.Kb({token:ct,factory:ct.\u0275fac}),ct),rt=function t(){e(this,t),this.sameName=!0,this.advance=!1,this.qosFlag=!1,this.deduplicationEnabled=!1,this.compressionEnabled=!1,this.autoSizeEnable=!1,this.thin=!0},lt=["wizard"],bt=["addPageOne"],st=["addPageTwo"];function dt(e,t){if(1&e&&(u.Ub(0,"p",35),u.Kc(1),u.Tb()),2&e){var n=u.gc();u.Cb(1),u.Lc(n.errorMsg)}}function ut(e,t){1&e&&(u.Kc(0),u.hc(1,"translate")),2&e&&u.Lc(u.ic(1,1,"nfs.datastoreSetting"))}function gt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.id),u.Cb(1),u.Lc(n.name)}}function ht(e,t){if(1&e&&(u.Ub(0,"clr-option",37),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.mc("clrValue",n),u.Cb(1),u.Mc(" ",n.name," ")}}function pt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.currentPortId),u.Cb(1),u.Lc(n.name+"_"+n.currentPortName+"("+n.mgmtIp+")")}}function ft(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",38),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.fsName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.fsName")),u.Cb(2),u.mc("ngModel",c.addForm.fsName)}}function mt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",39),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.shareName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.shareName")),u.Cb(2),u.mc("ngModel",c.addForm.shareName)}}function Ct(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Ub(5,"input",40),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.securityType=e})),u.Tb(),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Tb(),u.Tb(),u.Ub(9,"clr-radio-wrapper"),u.Ub(10,"input",41),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.securityType=e})),u.Tb(),u.Ub(11,"label"),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Tb(),u.Ub(14,"clr-radio-wrapper"),u.Ub(15,"input",42),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.securityType=e})),u.Tb(),u.Ub(16,"label"),u.Kc(17),u.hc(18,"translate"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,7,"nfs.securityType")),u.Cb(3),u.mc("ngModel",c.addForm.securityType),u.Cb(2),u.Lc(u.ic(8,9,"nfs.authSys")),u.Cb(3),u.mc("ngModel",c.addForm.securityType),u.Cb(2),u.Lc(u.ic(13,11,"nfs.secKrb5")),u.Cb(3),u.mc("ngModel",c.addForm.securityType),u.Cb(2),u.Lc(u.ic(18,13,"nfs.secKrb5i"))}}function Tt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.objectId),u.Cb(1),u.Lc(n.hostName)}}function vt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.ipAddress),u.Cb(1),u.Lc(n.ipAddress)}}function Ut(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-wizard-button",43),u.cc("click",(function(){return u.zc(n),u.gc().backToNfsList()})),u.Kc(1),u.hc(2,"translate"),u.Tb(),u.Ub(3,"clr-wizard-button",44),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"clr-wizard-button",44),u.Kc(7),u.hc(8,"translate"),u.Tb()}2&e&&(u.mc("type","custom-cancel"),u.Cb(1),u.Lc(u.ic(2,6,"menu.cancel")),u.Cb(2),u.mc("type","previous"),u.Cb(1),u.Lc(u.ic(5,8,"menu.previous")),u.Cb(2),u.mc("type","next"),u.Cb(1),u.Lc(u.ic(8,10,"nfs.button_next")))}function Mt(e,t){1&e&&(u.Kc(0),u.hc(1,"translate")),2&e&&u.Lc(u.ic(1,1,"nfs.storageSetting"))}function yt(e,t){1&e&&(u.Kc(0),u.hc(1,"translate")),2&e&&u.Lc(u.ic(1,1,"nfs.storageSetting"))}function Lt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",56),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",57),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.maxBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",58),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",59),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.maxIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(4);u.Cb(2),u.Lc(u.ic(3,5,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,7,"nfs.qos_bandwidth"),"<="),u.Cb(2),u.mc("ngModel",c.addForm.maxBandwidth),u.Cb(5),u.Mc("",u.ic(15,9,"nfs.qos_iops"),"<="),u.Cb(2),u.mc("ngModel",c.addForm.maxIops)}}function wt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",60),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",61),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.minBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",62),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",63),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.minIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Ub(18,"clr-radio-wrapper"),u.Pb(19,"input",64),u.Ub(20,"label"),u.Kc(21),u.hc(22,"translate"),u.Ub(23,"input",65),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.latency=e})),u.Tb(),u.Kc(24," ms"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(4);u.Cb(2),u.Lc(u.ic(3,7,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,9,"nfs.qos_bandwidth"),">="),u.Cb(2),u.mc("ngModel",c.addForm.minBandwidth),u.Cb(5),u.Mc("",u.ic(15,11,"nfs.qos_iops"),">="),u.Cb(2),u.mc("ngModel",c.addForm.minIops),u.Cb(5),u.Mc("",u.ic(22,13,"nfs.qos_latency"),"<="),u.Cb(2),u.mc("ngModel",c.addForm.latency)}}function It(e,t){if(1&e&&(u.Ub(0,"div"),u.Ic(1,Lt,18,11,"clr-radio-container",14),u.Ic(2,wt,25,15,"clr-radio-container",14),u.Tb()),2&e){var n=u.gc(3);u.Cb(1),u.mc("ngIf","up"===n.addForm.contolPolicy),u.Cb(1),u.mc("ngIf","low"===n.addForm.contolPolicy)}}function kt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-radio-container",52),u.Ub(2,"label",53),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"clr-radio-wrapper"),u.Ub(6,"input",54),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(2).addForm.contolPolicy=e})),u.Tb(),u.Ub(7,"label"),u.Kc(8),u.hc(9,"translate"),u.Tb(),u.Tb(),u.Ub(10,"clr-radio-wrapper"),u.Ub(11,"input",55),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(2).addForm.contolPolicy=e})),u.Tb(),u.Ub(12,"label"),u.Kc(13),u.hc(14,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(15,It,3,2,"div",14),u.Tb()}if(2&e){var c=u.gc(2);u.Cb(3),u.Lc(u.ic(4,6,"nfs.controlPolicy")),u.Cb(3),u.mc("ngModel",c.addForm.contolPolicy),u.Cb(2),u.Lc(u.ic(9,8,"nfs.ulc")),u.Cb(3),u.mc("ngModel",c.addForm.contolPolicy),u.Cb(2),u.Lc(u.ic(14,10,"nfs.llc")),u.Cb(2),u.mc("ngIf",c.addForm.contolPolicy)}}function Kt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-toggle-wrapper"),u.Ub(2,"label"),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"input",45),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.qosFlag=e})),u.Tb(),u.Tb(),u.Ic(6,kt,16,12,"div",14),u.Ub(7,"clr-toggle-wrapper"),u.Ub(8,"label"),u.Kc(9),u.hc(10,"translate"),u.Tb(),u.Ub(11,"input",46),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.thin=e})),u.Tb(),u.Tb(),u.Ub(12,"clr-select-container"),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Tb(),u.Ub(16,"select",47),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.deduplicationEnabled=e})),u.Ub(17,"option",48),u.Kc(18),u.hc(19,"translate"),u.Tb(),u.Ub(20,"option",49),u.Kc(21),u.hc(22,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(23,"clr-select-container"),u.Ub(24,"label"),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Ub(27,"select",50),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.compressionEnabled=e})),u.Ub(28,"option",48),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Ub(31,"option",49),u.Kc(32),u.hc(33,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(34,"clr-toggle-wrapper"),u.Ub(35,"label"),u.Kc(36),u.hc(37,"translate"),u.Tb(),u.Ub(38,"input",51),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.autoSizeEnable=e})),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.Lc(u.ic(4,15,"nfs.qosPolicy")),u.Cb(2),u.mc("ngModel",c.addForm.qosFlag),u.Cb(1),u.mc("ngIf",c.addForm.qosFlag),u.Cb(3),u.Mc(" ",u.ic(10,17,"nfs.thin"),""),u.Cb(2),u.mc("ngModel",c.addForm.thin),u.Cb(3),u.Lc(u.ic(15,19,"nfs.dataDedu")),u.Cb(2),u.mc("ngModel",c.addForm.deduplicationEnabled),u.Cb(2),u.Lc(u.ic(19,21,"nfs.disable")),u.Cb(3),u.Lc(u.ic(22,23,"nfs.enable")),u.Cb(4),u.Lc(u.ic(26,25,"nfs.dataCompre")),u.Cb(2),u.mc("ngModel",c.addForm.compressionEnabled),u.Cb(2),u.Lc(u.ic(30,27,"nfs.disable")),u.Cb(3),u.Lc(u.ic(33,29,"nfs.enable")),u.Cb(4),u.Lc(u.ic(37,31,"nfs.capAuto")),u.Cb(2),u.mc("ngModel",c.addForm.autoSizeEnable)}}function Ot(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-wizard-button",43),u.cc("click",(function(){return u.zc(n),u.gc().backToNfsList()})),u.Kc(1),u.hc(2,"translate"),u.Tb(),u.Ub(3,"clr-wizard-button",44),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"clr-wizard-button",43),u.cc("click",(function(){return u.zc(n),u.gc().addNfs()})),u.Kc(7),u.hc(8,"translate"),u.Tb()}2&e&&(u.mc("type","custom-cancel"),u.Cb(1),u.Lc(u.ic(2,6,"menu.cancel")),u.Cb(2),u.mc("type","previous"),u.Cb(1),u.Lc(u.ic(5,8,"menu.previous")),u.Cb(2),u.mc("type","custom-finish"),u.Cb(1),u.Lc(u.ic(8,10,"menu.ok")))}function Pt(e,t){if(1&e&&(u.Ub(0,"p",35),u.Kc(1),u.Tb()),2&e){var n=u.gc();u.Cb(1),u.Lc(n.errorMsg)}}function Ft(e,t){1&e&&(u.Kc(0),u.hc(1,"translate")),2&e&&u.Lc(u.ic(1,1,"nfs.datastoreSetting"))}function Nt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.id),u.Cb(1),u.Lc(n.name)}}function St(e,t){if(1&e&&(u.Ub(0,"clr-option",37),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.mc("clrValue",n),u.Cb(1),u.Mc(" ",n.name," ")}}function xt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.currentPortId),u.Cb(1),u.Lc(n.name+"_"+n.currentPortName+"("+n.mgmtIp+")")}}function zt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",38),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.fsName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.fsName")),u.Cb(2),u.mc("ngModel",c.addForm.fsName)}}function _t(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",39),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.shareName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.shareName")),u.Cb(2),u.mc("ngModel",c.addForm.shareName)}}function Dt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.objectId),u.Cb(1),u.Lc(n.hostName)}}function Bt(e,t){if(1&e&&(u.Ub(0,"option",36),u.Kc(1),u.Tb()),2&e){var n=t.$implicit;u.nc("value",n.ipAddress),u.Cb(1),u.Lc(n.ipAddress)}}function jt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-wizard-button",43),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(1),u.hc(2,"translate"),u.Tb(),u.Ub(3,"clr-wizard-button",44),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"clr-wizard-button",44),u.Kc(7),u.hc(8,"translate"),u.Tb()}2&e&&(u.mc("type","custom-cancel"),u.Cb(1),u.Lc(u.ic(2,6,"menu.cancel")),u.Cb(2),u.mc("type","previous"),u.Cb(1),u.Lc(u.ic(5,8,"menu.previous")),u.Cb(2),u.mc("type","next"),u.Cb(1),u.Lc(u.ic(8,10,"nfs.button_next")))}function qt(e,t){1&e&&(u.Kc(0),u.hc(1,"translate")),2&e&&u.Lc(u.ic(1,1,"nfs.storageSetting"))}function Et(e,t){1&e&&(u.Kc(0),u.hc(1,"translate")),2&e&&u.Lc(u.ic(1,1,"nfs.storageSetting"))}function Rt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",56),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",57),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.maxBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",58),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",59),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.maxIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(4);u.Cb(2),u.Lc(u.ic(3,5,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,7,"nfs.qos_bandwidth"),"<="),u.Cb(2),u.mc("ngModel",c.addForm.maxBandwidth),u.Cb(5),u.Mc("",u.ic(15,9,"nfs.qos_iops"),"<="),u.Cb(2),u.mc("ngModel",c.addForm.maxIops)}}function Vt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",60),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",61),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.minBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",62),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",63),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.minIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Ub(18,"clr-radio-wrapper"),u.Pb(19,"input",64),u.Ub(20,"label"),u.Kc(21),u.hc(22,"translate"),u.Ub(23,"input",65),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(4).addForm.latency=e})),u.Tb(),u.Kc(24," ms"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(4);u.Cb(2),u.Lc(u.ic(3,7,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,9,"nfs.qos_bandwidth"),">="),u.Cb(2),u.mc("ngModel",c.addForm.minBandwidth),u.Cb(5),u.Mc("",u.ic(15,11,"nfs.qos_iops"),">="),u.Cb(2),u.mc("ngModel",c.addForm.minIops),u.Cb(5),u.Mc("",u.ic(22,13,"nfs.qos_latency"),"<="),u.Cb(2),u.mc("ngModel",c.addForm.latency)}}function At(e,t){if(1&e&&(u.Ub(0,"div"),u.Ic(1,Rt,18,11,"clr-radio-container",14),u.Ic(2,Vt,25,15,"clr-radio-container",14),u.Tb()),2&e){var n=u.gc(3);u.Cb(1),u.mc("ngIf","up"===n.addForm.contolPolicy),u.Cb(1),u.mc("ngIf","low"===n.addForm.contolPolicy)}}function Ht(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-radio-container",52),u.Ub(2,"label",53),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"clr-radio-wrapper"),u.Ub(6,"input",54),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(2).addForm.contolPolicy=e})),u.Tb(),u.Ub(7,"label"),u.Kc(8),u.hc(9,"translate"),u.Tb(),u.Tb(),u.Ub(10,"clr-radio-wrapper"),u.Ub(11,"input",55),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(2).addForm.contolPolicy=e})),u.Tb(),u.Ub(12,"label"),u.Kc(13),u.hc(14,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(15,At,3,2,"div",14),u.Tb()}if(2&e){var c=u.gc(2);u.Cb(3),u.Lc(u.ic(4,6,"nfs.controlPolicy")),u.Cb(3),u.mc("ngModel",c.addForm.contolPolicy),u.Cb(2),u.Lc(u.ic(9,8,"nfs.ulc")),u.Cb(3),u.mc("ngModel",c.addForm.contolPolicy),u.Cb(2),u.Lc(u.ic(14,10,"nfs.llc")),u.Cb(2),u.mc("ngIf",c.addForm.contolPolicy)}}function Gt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-toggle-wrapper"),u.Ub(2,"label"),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"input",45),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.qosFlag=e})),u.Tb(),u.Tb(),u.Ic(6,Ht,16,12,"div",14),u.Ub(7,"clr-toggle-wrapper"),u.Ub(8,"label"),u.Kc(9),u.hc(10,"translate"),u.Tb(),u.Ub(11,"input",46),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.thin=e})),u.Tb(),u.Tb(),u.Ub(12,"clr-select-container"),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Tb(),u.Ub(16,"select",47),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.deduplicationEnabled=e})),u.Ub(17,"option",48),u.Kc(18),u.hc(19,"translate"),u.Tb(),u.Ub(20,"option",49),u.Kc(21),u.hc(22,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(23,"clr-select-container"),u.Ub(24,"label"),u.Kc(25),u.hc(26,"translate"),u.Tb(),u.Ub(27,"select",50),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.compressionEnabled=e})),u.Ub(28,"option",48),u.Kc(29),u.hc(30,"translate"),u.Tb(),u.Ub(31,"option",49),u.Kc(32),u.hc(33,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(34,"clr-toggle-wrapper"),u.Ub(35,"label"),u.Kc(36),u.hc(37,"translate"),u.Tb(),u.Ub(38,"input",51),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().addForm.autoSizeEnable=e})),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.Lc(u.ic(4,15,"nfs.qosPolicy")),u.Cb(2),u.mc("ngModel",c.addForm.qosFlag),u.Cb(1),u.mc("ngIf",c.addForm.qosFlag),u.Cb(3),u.Mc(" ",u.ic(10,17,"nfs.thin"),""),u.Cb(2),u.mc("ngModel",c.addForm.thin),u.Cb(3),u.Lc(u.ic(15,19,"nfs.dataDedu")),u.Cb(2),u.mc("ngModel",c.addForm.deduplicationEnabled),u.Cb(2),u.Lc(u.ic(19,21,"nfs.disable")),u.Cb(3),u.Lc(u.ic(22,23,"nfs.enable")),u.Cb(4),u.Lc(u.ic(26,25,"nfs.dataCompre")),u.Cb(2),u.mc("ngModel",c.addForm.compressionEnabled),u.Cb(2),u.Lc(u.ic(30,27,"nfs.disable")),u.Cb(3),u.Lc(u.ic(33,29,"nfs.enable")),u.Cb(4),u.Lc(u.ic(37,31,"nfs.capAuto")),u.Cb(2),u.mc("ngModel",c.addForm.autoSizeEnable)}}function Wt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-wizard-button",43),u.cc("click",(function(){return u.zc(n),u.gc().closeModel()})),u.Kc(1),u.hc(2,"translate"),u.Tb(),u.Ub(3,"clr-wizard-button",44),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ub(6,"clr-wizard-button",43),u.cc("click",(function(){return u.zc(n),u.gc().addNfs()})),u.Kc(7),u.hc(8,"translate"),u.Tb()}2&e&&(u.mc("type","custom-cancel"),u.Cb(1),u.Lc(u.ic(2,6,"menu.cancel")),u.Cb(2),u.mc("type","previous"),u.Cb(1),u.Lc(u.ic(5,8,"menu.previous")),u.Cb(2),u.mc("type","custom-finish"),u.Cb(1),u.Lc(u.ic(8,10,"menu.ok")))}var $t,Yt,Jt=((Yt=function(){function t(n,c,a,o,i,r){e(this,t),this.addService=n,this.cdr=c,this.gs=a,this.storageService=o,this.activatedRoute=i,this.router=r,this.addForm=new rt,this.unit="GB",this.storageList=[],this.storagePools=[],this.logicPorts=[],this.hostList=[],this.vmkernelList=[]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.viewPage="add_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.pluginFlag=t.flag})),null==this.pluginFlag&&(this.viewPage="delete_vcenter"),this.viewPage="add_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.pluginFlag=t.flag})),null==this.pluginFlag&&(this.viewPage="add_vcenter"),this.gs.loading=!0,this.storageService.getData().subscribe((function(t){"200"===t.code&&(e.storageList=t.data,e.gs.loading=!1)})),this.addService.getHostList().subscribe((function(t){"200"===t.code&&(e.hostList=t.data,e.cdr.detectChanges())})),this.addForm=new rt,this.checkedPool=null,this.errorMsg="",this.cdr.detectChanges()}},{key:"jumpTo",value:function(e,t){console.log("wizard:"),console.log(this.wizard),e&&e.completed?t.navService.currentPage=e:t.navService.setLastEnabledPageCurrent(),this.wizard.open()}},{key:"addNfs",value:function(){var e=this;switch(this.gs.loading=!0,this.addForm.poolRawId=this.checkedPool.diskPoolId,this.addForm.storagePoolId=this.checkedPool.id,this.unit){case"TB":this.addForm.size=1024*this.addForm.size;break;case"MB":this.addForm.size=this.addForm.size/1024;break;case"KB":this.addForm.size=this.addForm.size/1048576}this.addService.addNfs(this.addForm).subscribe((function(t){e.gs.loading=!1,"200"===t.code?"plugin"==e.pluginFlag?e.backToNfsList():e.closeModel():(e.errorMsg="\u6dfb\u52a0\u5931\u8d25\uff01"+t.description,e.cdr.detectChanges(),e.wizard.open())}))}},{key:"selectStoragePool",value:function(){var e=this;this.gs.loading=!0,this.storagePools=null,this.logicPorts=null,this.storageService.getStoragePoolListByStorageId(this.addForm.storagId).subscribe((function(t){"200"===t.code&&(e.storagePools=t.data,e.cdr.detectChanges())})),this.selectLogicPort()}},{key:"selectLogicPort",value:function(){var e=this;this.storageService.getLogicPortListByStorageId(this.addForm.storagId).subscribe((function(t){e.gs.loading=!1,"200"===t.code&&(e.logicPorts=t.data,e.cdr.detectChanges())}))}},{key:"checkHost",value:function(){var e=this;this.gs.loading=!0,this.addForm.vkernelIp=null,this.addService.getVmkernelListByObjectId(this.addForm.hostObjectId).subscribe((function(t){e.gs.loading=!1,"200"===t.code&&(e.vmkernelList=t.data,e.cdr.detectChanges())}))}},{key:"backToNfsList",value:function(){this.gs.loading=!1,this.router.navigate(["nfs"])}},{key:"closeModel",value:function(){this.gs.loading=!1,this.gs.getClientSdk().modal.close()}}]),t}()).\u0275fac=function(e){return new(e||Yt)(u.Ob(it),u.Ob(u.h),u.Ob(b.b),u.Ob(s.e),u.Ob(r.a),u.Ob(r.f))},Yt.\u0275cmp=u.Ib({type:Yt,selectors:[["app-add"]],viewQuery:function(e,t){var n;1&e&&(u.Pc(lt,!0),u.Pc(bt,!0),u.Pc(st,!0)),2&e&&(u.vc(n=u.dc())&&(t.wizard=n.first),u.vc(n=u.dc())&&(t.addPageOne=n.first),u.vc(n=u.dc())&&(t.addPageTwo=n.first))},features:[u.Bb([it,s.e])],decls:212,vars:137,consts:[[3,"clrWizardOpen","clrWizardClosable"],["wizard",""],["style","color: red",4,"ngIf"],[3,"clrWizardPageNextDisabled"],["clrPageTitle",""],["clrForm",""],["formPageOne","ngForm"],["clrSelect","","name","storagId","required","",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["name","checkedPool","required","",3,"ngModel","ngModelChange"],[3,"clrValue",4,"clrOptionItems","clrOptionItemsOf","clrOptionItemsField"],["clrSelect","","name","currentPortId","required","",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrInput","","name","nfsName","required","",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","name","sameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["clrInput","","type","number","name","size","required","",1,"inputOneLine",2,"width","80%",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","unit",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["value","KB"],["clrSelect","","name","type","ng-selected","v3",3,"ngModel","ngModelChange"],["value","NFS"],["value","NFS41"],["clrSelect","","required","","name","hostObjectId",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],["clrSelect","","required","","name","vkernelIp",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrSelect","","required","","name","accessMode",3,"ngModel","ngModelChange"],["value","readOnly"],["value","readWrite"],["clrPageButtons",""],["clrPageNavTitle",""],["formPageTwo","ngForm"],["type","checkbox","clrToggle","","name","advance",3,"ngModel","ngModelChange"],[1,"add-wizard-wrap",3,"clrWizardOpen","clrWizardClosable"],[2,"color","red"],[3,"value"],[3,"clrValue"],["clrInput","","name","fsName",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["clrInput","","name","shareName",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","securityType","value","AUTH_SYS",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","securityType","value","SEC_KRB5",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","securityType","value","SEC_KRB5I",3,"ngModel","ngModelChange"],[3,"type","click"],[3,"type"],["type","checkbox","clrToggle","","name","qosFlag",3,"ngModel","ngModelChange"],["type","checkbox","name","thin","clrToggle","",3,"ngModel","ngModelChange"],["clrSelect","","name","deduplicationEnabled",3,"ngModel","ngModelChange"],["value","false"],["value","true"],["clrSelect","","name","compressionEnabled",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","autoSizeEnable",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft"],["type","radio","clrRadio","","name","controlPolicy","required","","value","up",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","required","","value","low",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","required","","value","1"],["type","text","name","maxBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","2"],["type","text","name","maxIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","1"],["type","text","name","minBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required",""],["type","text","name","minIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","3"],["type","text","name","latency",1,"inputOneLine",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-wizard",0,1),u.Ub(3,"clr-wizard-title"),u.Kc(4),u.hc(5,"translate"),u.Tb(),u.Ic(6,dt,2,1,"p",2),u.Ub(7,"clr-wizard-page",3),u.Ic(8,ut,2,3,"ng-template",4),u.Ub(9,"form",5,6),u.Ub(11,"clr-select-container"),u.Ub(12,"label"),u.Kc(13),u.hc(14,"translate"),u.Tb(),u.Ub(15,"select",7),u.cc("ngModelOptions",(function(){return t.storageList}))("ngModelChange",(function(e){return t.addForm.storagId=e}))("change",(function(){return t.selectStoragePool()})),u.Ic(16,gt,2,2,"option",8),u.Tb(),u.Ub(17,"clr-control-error"),u.Kc(18,"This field is required!"),u.Tb(),u.Tb(),u.Ub(19,"clr-combobox-container"),u.Ub(20,"label"),u.Kc(21),u.hc(22,"translate"),u.Tb(),u.Ub(23,"clr-combobox",9),u.cc("ngModelChange",(function(e){return t.checkedPool=e})),u.Ub(24,"clr-options"),u.Ic(25,ht,2,2,"clr-option",10),u.Tb(),u.Tb(),u.Tb(),u.Ub(26,"clr-select-container"),u.Ub(27,"label"),u.Kc(28),u.hc(29,"translate"),u.Tb(),u.Ub(30,"select",11),u.cc("ngModelOptions",(function(){return t.logicPorts}))("ngModelChange",(function(e){return t.addForm.currentPortId=e})),u.Ic(31,pt,2,2,"option",8),u.Tb(),u.Tb(),u.Ub(32,"clr-input-container"),u.Ub(33,"label"),u.Kc(34),u.hc(35,"translate"),u.Tb(),u.Ub(36,"input",12),u.cc("ngModelChange",(function(e){return t.addForm.nfsName=e})),u.Tb(),u.Tb(),u.Ub(37,"clr-checkbox-container"),u.Pb(38,"label"),u.Ub(39,"clr-checkbox-wrapper"),u.Ub(40,"input",13),u.cc("ngModelChange",(function(e){return t.addForm.sameName=e})),u.Tb(),u.Ub(41,"label"),u.Kc(42),u.hc(43,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(44,ft,5,4,"clr-input-container",14),u.Ic(45,mt,5,4,"clr-input-container",14),u.Ub(46,"clr-input-container"),u.Ub(47,"label"),u.Kc(48),u.hc(49,"translate"),u.Tb(),u.Ub(50,"input",15,16),u.cc("ngModelChange",(function(e){return t.addForm.size=e})),u.Tb(),u.Ub(52,"select",17),u.cc("ngModelChange",(function(e){return t.unit=e})),u.Ub(53,"option",18),u.Kc(54,"TB"),u.Tb(),u.Ub(55,"option",19),u.Kc(56,"GB"),u.Tb(),u.Ub(57,"option",20),u.Kc(58,"MB"),u.Tb(),u.Ub(59,"option",21),u.Kc(60,"KB"),u.Tb(),u.Tb(),u.Tb(),u.Ub(61,"clr-select-container"),u.Ub(62,"label"),u.Kc(63),u.hc(64,"translate"),u.Tb(),u.Ub(65,"select",22),u.cc("ngModelChange",(function(e){return t.addForm.type=e})),u.Ub(66,"option",23),u.Kc(67,"v3"),u.Tb(),u.Ub(68,"option",24),u.Kc(69,"v4.1"),u.Tb(),u.Tb(),u.Tb(),u.Ic(70,Ct,19,15,"clr-radio-container",14),u.Ub(71,"clr-select-container"),u.Ub(72,"label"),u.Kc(73),u.hc(74,"translate"),u.Tb(),u.Ub(75,"select",25),u.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.addForm.hostObjectId=e}))("change",(function(){return t.checkHost()})),u.Ic(76,Tt,2,2,"option",8),u.Tb(),u.Tb(),u.Ub(77,"clr-select-container"),u.Ub(78,"label"),u.Kc(79),u.hc(80,"translate"),u.Tb(),u.Ub(81,"select",26),u.cc("ngModelOptions",(function(){return t.vmkernelList}))("ngModelChange",(function(e){return t.addForm.vkernelIp=e})),u.Ic(82,vt,2,2,"option",8),u.Tb(),u.Tb(),u.Ub(83,"clr-select-container"),u.Ub(84,"label"),u.Kc(85),u.hc(86,"translate"),u.Tb(),u.Ub(87,"select",27),u.cc("ngModelChange",(function(e){return t.addForm.accessMode=e})),u.Ub(88,"option",28),u.Kc(89),u.hc(90,"translate"),u.Tb(),u.Ub(91,"option",29),u.Kc(92),u.hc(93,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ic(94,Ut,9,12,"ng-template",30),u.Tb(),u.Ub(95,"clr-wizard-page",3),u.Ic(96,Mt,2,3,"ng-template",4),u.Ic(97,yt,2,3,"ng-template",31),u.Ub(98,"form",5,32),u.Ub(100,"clr-toggle-wrapper"),u.Ub(101,"label"),u.Kc(102),u.hc(103,"translate"),u.Tb(),u.Ub(104,"input",33),u.cc("ngModelChange",(function(e){return t.addForm.advance=e})),u.Tb(),u.Tb(),u.Ic(105,Kt,39,33,"div",14),u.Tb(),u.Ic(106,Ot,9,12,"ng-template",30),u.Tb(),u.Tb(),u.Ub(107,"clr-wizard",34,1),u.Ub(109,"clr-wizard-title"),u.Kc(110),u.hc(111,"translate"),u.Tb(),u.Ic(112,Pt,2,1,"p",2),u.Ub(113,"clr-wizard-page",3),u.Ic(114,Ft,2,3,"ng-template",4),u.Ub(115,"form",5,6),u.Ub(117,"clr-select-container"),u.Ub(118,"label"),u.Kc(119),u.hc(120,"translate"),u.Tb(),u.Ub(121,"select",7),u.cc("ngModelOptions",(function(){return t.storageList}))("ngModelChange",(function(e){return t.addForm.storagId=e}))("change",(function(){return t.selectStoragePool()})),u.Ic(122,Nt,2,2,"option",8),u.Tb(),u.Ub(123,"clr-control-error"),u.Kc(124,"This field is required!"),u.Tb(),u.Tb(),u.Ub(125,"clr-combobox-container"),u.Ub(126,"label"),u.Kc(127),u.hc(128,"translate"),u.Tb(),u.Ub(129,"clr-combobox",9),u.cc("ngModelChange",(function(e){return t.checkedPool=e})),u.Ub(130,"clr-options"),u.Ic(131,St,2,2,"clr-option",10),u.Tb(),u.Tb(),u.Tb(),u.Ub(132,"clr-select-container"),u.Ub(133,"label"),u.Kc(134),u.hc(135,"translate"),u.Tb(),u.Ub(136,"select",11),u.cc("ngModelOptions",(function(){return t.logicPorts}))("ngModelChange",(function(e){return t.addForm.currentPortId=e})),u.Ic(137,xt,2,2,"option",8),u.Tb(),u.Tb(),u.Ub(138,"clr-input-container"),u.Ub(139,"label"),u.Kc(140),u.hc(141,"translate"),u.Tb(),u.Ub(142,"input",12),u.cc("ngModelChange",(function(e){return t.addForm.nfsName=e})),u.Tb(),u.Tb(),u.Ub(143,"clr-checkbox-container"),u.Pb(144,"label"),u.Ub(145,"clr-checkbox-wrapper"),u.Ub(146,"input",13),u.cc("ngModelChange",(function(e){return t.addForm.sameName=e})),u.Tb(),u.Ub(147,"label"),u.Kc(148),u.hc(149,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(150,zt,5,4,"clr-input-container",14),u.Ic(151,_t,5,4,"clr-input-container",14),u.Ub(152,"clr-input-container"),u.Ub(153,"label"),u.Kc(154),u.hc(155,"translate"),u.Tb(),u.Ub(156,"input",15,16),u.cc("ngModelChange",(function(e){return t.addForm.size=e})),u.Tb(),u.Ub(158,"select",17),u.cc("ngModelChange",(function(e){return t.unit=e})),u.Ub(159,"option",18),u.Kc(160,"TB"),u.Tb(),u.Ub(161,"option",19),u.Kc(162,"GB"),u.Tb(),u.Ub(163,"option",20),u.Kc(164,"MB"),u.Tb(),u.Ub(165,"option",21),u.Kc(166,"KB"),u.Tb(),u.Tb(),u.Tb(),u.Ub(167,"clr-select-container"),u.Ub(168,"label"),u.Kc(169),u.hc(170,"translate"),u.Tb(),u.Ub(171,"select",22),u.cc("ngModelChange",(function(e){return t.addForm.type=e})),u.Ub(172,"option",23),u.Kc(173,"v3"),u.Tb(),u.Ub(174,"option",24),u.Kc(175,"v4.1"),u.Tb(),u.Tb(),u.Tb(),u.Ub(176,"clr-select-container"),u.Ub(177,"label"),u.Kc(178),u.hc(179,"translate"),u.Tb(),u.Ub(180,"select",25),u.cc("ngModelOptions",(function(){return t.hostList}))("ngModelChange",(function(e){return t.addForm.hostObjectId=e}))("change",(function(){return t.checkHost()})),u.Ic(181,Dt,2,2,"option",8),u.Tb(),u.Tb(),u.Ub(182,"clr-select-container"),u.Ub(183,"label"),u.Kc(184),u.hc(185,"translate"),u.Tb(),u.Ub(186,"select",26),u.cc("ngModelOptions",(function(){return t.vmkernelList}))("ngModelChange",(function(e){return t.addForm.vkernelIp=e})),u.Ic(187,Bt,2,2,"option",8),u.Tb(),u.Tb(),u.Ub(188,"clr-select-container"),u.Ub(189,"label"),u.Kc(190),u.hc(191,"translate"),u.Tb(),u.Ub(192,"select",27),u.cc("ngModelChange",(function(e){return t.addForm.accessMode=e})),u.Ub(193,"option",28),u.Kc(194),u.hc(195,"translate"),u.Tb(),u.Ub(196,"option",29),u.Kc(197),u.hc(198,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ic(199,jt,9,12,"ng-template",30),u.Tb(),u.Ub(200,"clr-wizard-page",3),u.Ic(201,qt,2,3,"ng-template",4),u.Ic(202,Et,2,3,"ng-template",31),u.Ub(203,"form",5,32),u.Ub(205,"clr-toggle-wrapper"),u.Ub(206,"label"),u.Kc(207),u.hc(208,"translate"),u.Tb(),u.Ub(209,"input",33),u.cc("ngModelChange",(function(e){return t.addForm.advance=e})),u.Tb(),u.Tb(),u.Ic(210,Gt,39,33,"div",14),u.Tb(),u.Ic(211,Wt,9,12,"ng-template",30),u.Tb(),u.Tb(),u.Tb()),2&e){var n=u.wc(10),c=u.wc(99);u.Cb(1),u.mc("clrWizardOpen","add_plugin"==t.viewPage)("clrWizardClosable",!1),u.Cb(3),u.Lc(u.ic(5,81,"nfs.add_title")),u.Cb(2),u.mc("ngIf",t.errorMsg),u.Cb(1),u.mc("clrWizardPageNextDisabled",!n.valid),u.Cb(6),u.Lc(u.ic(14,83,"nfs.storeageDevice")),u.Cb(2),u.mc("ngModel",t.addForm.storagId),u.Cb(1),u.mc("ngForOf",t.storageList),u.Cb(5),u.Lc(u.ic(22,85,"nfs.storagePool")),u.Cb(2),u.mc("ngModel",t.checkedPool),u.Cb(2),u.mc("clrOptionItemsOf",t.storagePools)("clrOptionItemsField","name"),u.Cb(3),u.Lc(u.ic(29,87,"nfs.logicPort")),u.Cb(2),u.mc("ngModel",t.addForm.currentPortId),u.Cb(1),u.mc("ngForOf",t.logicPorts),u.Cb(3),u.Lc(u.ic(35,89,"nfs.datastoreName")),u.Cb(2),u.mc("ngModel",t.addForm.nfsName),u.Cb(4),u.mc("ngModel",t.addForm.sameName),u.Cb(2),u.Lc(u.ic(43,91,"nfs.sameName")),u.Cb(2),u.mc("ngIf",!t.addForm.sameName),u.Cb(1),u.mc("ngIf",!t.addForm.sameName),u.Cb(3),u.Lc(u.ic(49,93,"nfs.size")),u.Cb(2),u.mc("ngModel",t.addForm.size),u.Cb(2),u.mc("ngModel",t.unit),u.Cb(11),u.Lc(u.ic(64,95,"nfs.nfsProtocol")),u.Cb(2),u.mc("ngModel",t.addForm.type),u.Cb(5),u.mc("ngIf","NFS41"==t.addForm.type),u.Cb(3),u.Lc(u.ic(74,97,"nfs.mountHost")),u.Cb(2),u.mc("ngModel",t.addForm.hostObjectId),u.Cb(1),u.mc("ngForOf",t.hostList),u.Cb(3),u.Lc(u.ic(80,99,"nfs.vkernel")),u.Cb(2),u.mc("ngModel",t.addForm.vkernelIp),u.Cb(1),u.mc("ngForOf",t.vmkernelList),u.Cb(3),u.Lc(u.ic(86,101,"nfs.mountType")),u.Cb(2),u.mc("ngModel",t.addForm.accessMode),u.Cb(2),u.Lc(u.ic(90,103,"nfs.readOnly")),u.Cb(3),u.Lc(u.ic(93,105,"nfs.readWrite")),u.Cb(3),u.mc("clrWizardPageNextDisabled",!c.valid),u.Cb(7),u.Lc(u.ic(103,107,"nfs.add_advance")),u.Cb(2),u.mc("ngModel",t.addForm.advance),u.Cb(1),u.mc("ngIf",t.addForm.advance),u.Cb(2),u.mc("clrWizardOpen","add_vcenter"==t.viewPage)("clrWizardClosable",!1),u.Cb(3),u.Lc(u.ic(111,109,"nfs.add_title")),u.Cb(2),u.mc("ngIf",""!==t.errorMsg),u.Cb(1),u.mc("clrWizardPageNextDisabled",!n.valid),u.Cb(6),u.Lc(u.ic(120,111,"nfs.storeageDevice")),u.Cb(2),u.mc("ngModel",t.addForm.storagId),u.Cb(1),u.mc("ngForOf",t.storageList),u.Cb(5),u.Lc(u.ic(128,113,"nfs.storagePool")),u.Cb(2),u.mc("ngModel",t.checkedPool),u.Cb(2),u.mc("clrOptionItemsOf",t.storagePools)("clrOptionItemsField","name"),u.Cb(3),u.Lc(u.ic(135,115,"nfs.logicPort")),u.Cb(2),u.mc("ngModel",t.addForm.currentPortId),u.Cb(1),u.mc("ngForOf",t.logicPorts),u.Cb(3),u.Lc(u.ic(141,117,"nfs.datastoreName")),u.Cb(2),u.mc("ngModel",t.addForm.nfsName),u.Cb(4),u.mc("ngModel",t.addForm.sameName),u.Cb(2),u.Lc(u.ic(149,119,"nfs.sameName")),u.Cb(2),u.mc("ngIf",!t.addForm.sameName),u.Cb(1),u.mc("ngIf",!t.addForm.sameName),u.Cb(3),u.Lc(u.ic(155,121,"nfs.size")),u.Cb(2),u.mc("ngModel",t.addForm.size),u.Cb(2),u.mc("ngModel",t.unit),u.Cb(11),u.Lc(u.ic(170,123,"nfs.nfsProtocol")),u.Cb(2),u.mc("ngModel",t.addForm.type),u.Cb(7),u.Lc(u.ic(179,125,"nfs.mountHost")),u.Cb(2),u.mc("ngModel",t.addForm.hostObjectId),u.Cb(1),u.mc("ngForOf",t.hostList),u.Cb(3),u.Lc(u.ic(185,127,"nfs.vkernel")),u.Cb(2),u.mc("ngModel",t.addForm.vkernelIp),u.Cb(1),u.mc("ngForOf",t.vmkernelList),u.Cb(3),u.Lc(u.ic(191,129,"nfs.mountType")),u.Cb(2),u.mc("ngModel",t.addForm.accessMode),u.Cb(2),u.Lc(u.ic(195,131,"nfs.readOnly")),u.Cb(3),u.Lc(u.ic(198,133,"nfs.readWrite")),u.Cb(3),u.mc("clrWizardPageNextDisabled",!c.valid),u.Cb(7),u.Lc(u.ic(208,135,"nfs.add_advance")),u.Cb(2),u.mc("ngModel",t.addForm.advance),u.Cb(1),u.mc("ngIf",t.addForm.advance)}},directives:[g.cb,g.eb,o.n,g.fb,g.ib,h.E,h.r,h.s,g.A,g.V,g.H,h.A,g.U,h.z,h.q,h.t,o.m,g.k,g.j,g.i,g.N,g.M,g.G,h.e,g.F,g.g,g.h,h.b,g.f,h.w,h.v,h.D,g.gb,g.hb,g.L,g.S,g.T,h.x,g.R,g.db],pipes:[p.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}"],changeDetection:0}),Yt),Xt=(($t=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getNfsDetailById",value:function(e){return console.log(123),this.http.get("operatenfs/editnfsstore",{params:{storeObjectId:e}})}},{key:"updateNfs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatenfs/updatenfsdatastore",e)}}]),t}()).\u0275fac=function(e){return new(e||$t)(u.Yb(P.b))},$t.\u0275prov=u.Kb({token:$t,factory:$t.\u0275fac}),$t);function Qt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",19),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.fsName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.fsName")),u.Cb(2),u.mc("ngModel",c.updateNfs.fsName)}}function Zt(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-input-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"input",20),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.shareName=e})),u.Tb(),u.Tb()}if(2&e){var c=u.gc();u.Cb(2),u.Lc(u.ic(3,2,"nfs.shareName")),u.Cb(2),u.mc("ngModel",c.updateNfs.shareName)}}function en(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",25),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",26),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.maxBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",27),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",28),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.maxIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(3);u.Cb(2),u.Lc(u.ic(3,5,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,7,"nfs.qos_bandwidth"),"<="),u.Cb(2),u.mc("ngModel",c.updateNfs.maxBandwidth),u.Cb(5),u.Mc("",u.ic(15,9,"nfs.qos_iops"),"<="),u.Cb(2),u.mc("ngModel",c.updateNfs.maxIops)}}function tn(e,t){if(1&e){var n=u.Vb();u.Ub(0,"clr-radio-container"),u.Ub(1,"label"),u.Kc(2),u.hc(3,"translate"),u.Tb(),u.Ub(4,"clr-radio-wrapper"),u.Pb(5,"input",29),u.Ub(6,"label"),u.Kc(7),u.hc(8,"translate"),u.Ub(9,"input",30),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.minBandwidth=e})),u.Tb(),u.Kc(10," MB/s"),u.Tb(),u.Tb(),u.Ub(11,"clr-radio-wrapper"),u.Pb(12,"input",31),u.Ub(13,"label"),u.Kc(14),u.hc(15,"translate"),u.Ub(16,"input",32),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.minIops=e})),u.Tb(),u.Kc(17," MB/s"),u.Tb(),u.Tb(),u.Ub(18,"clr-radio-wrapper"),u.Pb(19,"input",33),u.Ub(20,"label"),u.Kc(21),u.hc(22,"translate"),u.Ub(23,"input",34),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc(3).updateNfs.latency=e})),u.Tb(),u.Kc(24," ms"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var c=u.gc(3);u.Cb(2),u.Lc(u.ic(3,7,"nfs.tfo")),u.Cb(5),u.Mc("",u.ic(8,9,"nfs.qos_bandwidth"),">="),u.Cb(2),u.mc("ngModel",c.updateNfs.minBandwidth),u.Cb(5),u.Mc("",u.ic(15,11,"nfs.qos_iops"),">="),u.Cb(2),u.mc("ngModel",c.updateNfs.minIops),u.Cb(5),u.Mc("",u.ic(22,13,"nfs.qos_latency"),"<="),u.Cb(2),u.mc("ngModel",c.updateNfs.latency)}}function nn(e,t){if(1&e&&(u.Ub(0,"div"),u.Ic(1,en,18,11,"clr-radio-container",8),u.Ic(2,tn,25,15,"clr-radio-container",8),u.Tb()),2&e){var n=u.gc(2);u.Cb(1),u.mc("ngIf","up"===n.updateNfs.contolPolicy),u.Cb(1),u.mc("ngIf","low"===n.updateNfs.contolPolicy)}}function cn(e,t){if(1&e){var n=u.Vb();u.Ub(0,"div"),u.Ub(1,"clr-radio-container",21),u.Ub(2,"label",22),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"clr-radio-wrapper"),u.Ub(6,"input",23),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.contolPolicy=e})),u.Tb(),u.Ub(7,"label"),u.Kc(8),u.hc(9,"translate"),u.Tb(),u.Tb(),u.Ub(10,"clr-radio-wrapper"),u.Ub(11,"input",24),u.cc("ngModelChange",(function(e){return u.zc(n),u.gc().updateNfs.contolPolicy=e})),u.Tb(),u.Ub(12,"label"),u.Kc(13),u.hc(14,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(15,nn,3,2,"div",8),u.Tb()}if(2&e){var c=u.gc();u.Cb(3),u.Lc(u.ic(4,6,"nfs.controlPolicy")),u.Cb(3),u.mc("ngModel",c.updateNfs.contolPolicy),u.Cb(2),u.Lc(u.ic(9,8,"nfs.ulc")),u.Cb(3),u.mc("ngModel",c.updateNfs.contolPolicy),u.Cb(2),u.Lc(u.ic(14,10,"nfs.llc")),u.Cb(2),u.mc("ngIf",c.updateNfs.contolPolicy)}}var an,on,rn,ln=[{path:"",component:O},{path:"logicport",component:_},{path:"performance",component:de},{path:"share",component:V},{path:"host/mount",component:ke},{path:"host/unmount",component:je},{path:"dataStore/mount",component:ke},{path:"dataStore/unmount",component:je},{path:"cluster/mount",component:ke},{path:"cluster/unmount",component:je},{path:"add",component:Jt},{path:"modify",component:(an=function(){function t(n,c,a,o,i){e(this,t),this.modifyService=n,this.cdr=c,this.gs=a,this.activatedRoute=o,this.router=i}return n(t,[{key:"ngOnInit",value:function(){var e=this;if(this.viewPage="modify_plugin",this.activatedRoute.queryParams.subscribe((function(t){e.pluginFlag=t.flag,e.objectId=t.objectid})),null==this.pluginFlag){var t=this.gs.getClientSdk().app.getContextObjects();this.objectId=t[0].id,this.viewPage="modify_vcenter"}this.gs.loading=!0,this.modifyService.getNfsDetailById(this.objectId).subscribe((function(t){"200"===t.code&&(e.updateNfs=t.data,e.updateNfs.sameName=!0,e.updateNfs.dataStoreObjectId=e.objectId,e.gs.loading=!1)}))}},{key:"modifyCommit",value:function(){var e=this;this.gs.loading=!0,console.log(this.updateNfs),this.updateNfs.sameName&&(this.updateNfs.shareName=this.updateNfs.nfsName,this.updateNfs.fsName=this.updateNfs.nfsName),this.modifyService.updateNfs(this.updateNfs).subscribe((function(t){e.gs.loading=!1,"200"===t.code?"plugin"==e.pluginFlag?e.backToNfsList():e.closeModel():e.errorMsg="\u7f16\u8f91\u5931\u8d25\uff01"+t.description}))}},{key:"backToNfsList",value:function(){this.gs.loading=!1,this.router.navigate(["nfs"])}},{key:"closeModel",value:function(){this.gs.loading=!1,this.gs.getClientSdk().modal.close()}}]),t}(),an.\u0275fac=function(e){return new(e||an)(u.Ob(Xt),u.Ob(u.h),u.Ob(b.b),u.Ob(r.a),u.Ob(r.f))},an.\u0275cmp=u.Ib({type:an,selectors:[["app-add"]],features:[u.Bb([Xt])],decls:69,vars:54,consts:[[3,"clrModalOpen"],[1,"modal-title"],[2,"color","red"],[1,"modal-body"],["clrForm",""],["formPageOne","ngForm"],["clrInput","","name","nfsName",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox","","name","sameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","checkbox","clrToggle","","name","qosFlag",3,"ngModel","ngModelChange"],["type","checkbox","name","thin","clrToggle","",3,"ngModel","ngModelChange"],["clrSelect","","name","deduplicationEnabled",3,"ngModel","ngModelChange"],["value","false"],["value","true"],["clrSelect","","name","compressionEnabled",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","autoSizeEnable",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["clrInput","","name","fsName",3,"ngModel","ngModelChange"],["clrInput","","name","shareName",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft"],["type","radio","clrRadio","","name","controlPolicy","required","","value","up",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","required","","value","low",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","required","","value","1"],["type","text","name","maxBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","2"],["type","text","name","maxIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","1"],["type","text","name","minBandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required",""],["type","text","name","minIops",1,"inputOneLine",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","tfo","required","","value","3"],["type","text","name","latency",1,"inputOneLine",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"clr-modal",0),u.Ub(2,"h3",1),u.Kc(3),u.hc(4,"translate"),u.Tb(),u.Ub(5,"p",2),u.Kc(6),u.Tb(),u.Ub(7,"div",3),u.Ub(8,"form",4,5),u.Ub(10,"clr-input-container"),u.Ub(11,"label"),u.Kc(12),u.hc(13,"translate"),u.Tb(),u.Ub(14,"input",6),u.cc("ngModelChange",(function(e){return t.updateNfs.nfsName=e})),u.Tb(),u.Tb(),u.Ub(15,"clr-checkbox-container"),u.Pb(16,"label"),u.Ub(17,"clr-checkbox-wrapper"),u.Ub(18,"input",7),u.cc("ngModelChange",(function(e){return t.updateNfs.sameName=e})),u.Tb(),u.Ub(19,"label"),u.Kc(20),u.hc(21,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ic(22,Qt,5,4,"clr-input-container",8),u.Ic(23,Zt,5,4,"clr-input-container",8),u.Ub(24,"clr-toggle-wrapper"),u.Ub(25,"label"),u.Kc(26),u.hc(27,"translate"),u.Tb(),u.Ub(28,"input",9),u.cc("ngModelChange",(function(e){return t.updateNfs.qosFlag=e})),u.Tb(),u.Tb(),u.Ic(29,cn,16,12,"div",8),u.Ub(30,"clr-toggle-wrapper"),u.Ub(31,"label"),u.Kc(32),u.hc(33,"translate"),u.Tb(),u.Ub(34,"input",10),u.cc("ngModelChange",(function(e){return t.updateNfs.thin=e})),u.Tb(),u.Tb(),u.Ub(35,"clr-select-container"),u.Ub(36,"label"),u.Kc(37),u.hc(38,"translate"),u.Tb(),u.Ub(39,"select",11),u.cc("ngModelChange",(function(e){return t.updateNfs.deduplicationEnabled=e})),u.Ub(40,"option",12),u.Kc(41),u.hc(42,"translate"),u.Tb(),u.Ub(43,"option",13),u.Kc(44),u.hc(45,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(46,"clr-select-container"),u.Ub(47,"label"),u.Kc(48),u.hc(49,"translate"),u.Tb(),u.Ub(50,"select",14),u.cc("ngModelChange",(function(e){return t.updateNfs.compressionEnabled=e})),u.Ub(51,"option",12),u.Kc(52),u.hc(53,"translate"),u.Tb(),u.Ub(54,"option",13),u.Kc(55),u.hc(56,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Ub(57,"clr-toggle-wrapper"),u.Ub(58,"label"),u.Kc(59),u.hc(60,"translate"),u.Tb(),u.Ub(61,"input",15),u.cc("ngModelChange",(function(e){return t.updateNfs.autoSizeEnable=e})),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(62,"div",16),u.Ub(63,"button",17),u.cc("click",(function(){return t.backToNfsList()})),u.Kc(64),u.hc(65,"translate"),u.Tb(),u.Ub(66,"button",18),u.cc("click",(function(){return t.modifyCommit()})),u.Kc(67),u.hc(68,"translate"),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(1),u.mc("clrModalOpen","modify_plugin"==t.viewPage),u.Cb(2),u.Lc(u.ic(4,26,"menu.modify")),u.Cb(3),u.Lc(t.errorMsg),u.Cb(6),u.Lc(u.ic(13,28,"nfs.name")),u.Cb(2),u.mc("ngModel",t.updateNfs.nfsName),u.Cb(4),u.mc("ngModel",t.updateNfs.sameName),u.Cb(2),u.Lc(u.ic(21,30,"nfs.sameName")),u.Cb(2),u.mc("ngIf",!t.updateNfs.sameName),u.Cb(1),u.mc("ngIf",!t.updateNfs.sameName),u.Cb(3),u.Lc(u.ic(27,32,"nfs.qosPolicy")),u.Cb(2),u.mc("ngModel",t.updateNfs.qosFlag),u.Cb(1),u.mc("ngIf",t.updateNfs.qosFlag),u.Cb(3),u.Mc(" ",u.ic(33,34,"nfs.thin"),""),u.Cb(2),u.mc("ngModel",t.updateNfs.thin),u.Cb(3),u.Lc(u.ic(38,36,"nfs.dataDedu")),u.Cb(2),u.mc("ngModel",t.updateNfs.deduplicationEnabled),u.Cb(2),u.Lc(u.ic(42,38,"nfs.disable")),u.Cb(3),u.Lc(u.ic(45,40,"nfs.enable")),u.Cb(4),u.Lc(u.ic(49,42,"nfs.dataCompre")),u.Cb(2),u.mc("ngModel",t.updateNfs.compressionEnabled),u.Cb(2),u.Lc(u.ic(53,44,"nfs.disable")),u.Cb(3),u.Lc(u.ic(56,46,"nfs.enable")),u.Cb(4),u.Lc(u.ic(60,48,"nfs.capAuto")),u.Cb(2),u.mc("ngModel",t.updateNfs.autoSizeEnable),u.Cb(3),u.Lc(u.ic(65,50,"menu.cancel")),u.Cb(3),u.Lc(u.ic(68,52,"menu.ok")))},directives:[g.J,g.K,h.E,h.r,h.s,g.A,g.G,g.H,h.e,g.F,h.q,h.t,g.g,g.h,h.b,g.f,o.n,g.V,h.A,g.U,h.v,h.D,g.S,g.T,h.x,g.R,h.z],pipes:[p.c],styles:[""]}),an)},{path:"reduce",component:Ge},{path:"expand",component:Ze},{path:"delete",component:ot},{path:"fs",component:X}],bn=((rn=function t(){e(this,t)}).\u0275mod=u.Mb({type:rn}),rn.\u0275inj=u.Lb({factory:function(e){return new(e||rn)},imports:[[r.i.forChild(ln)],r.i]}),rn),sn=((on=function t(){e(this,t)}).\u0275mod=u.Mb({type:on}),on.\u0275inj=u.Lb({factory:function(e){return new(e||on)},imports:[[h.m,o.c,i.a,ee.a,h.m,g.a,bn]]}),on)}}])}();