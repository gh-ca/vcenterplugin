(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{jqbb:function(e,t,c){"use strict";c.r(t),c.d(t,"ServicelevelModule",(function(){return we}));var i=c("ofXK"),a=c("tyNb"),s=c("mrSG"),n=c("6rlL"),o=c("tMGR"),l=c("fXoL"),r=c("tk/3"),b=c("3Pt+"),d=c("8MG2"),p=c("znSr"),h=c("DKVz"),u=c("sYmb");function g(e,t){if(1&e&&(l.Ub(0,"option",21),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e){const e=t.$implicit;l.nc("value",e.id),l.Cb(1),l.Lc(l.ic(2,2,e.value))}}function m(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1,"--"),l.Tb())}function f(e,t){if(1&e&&(l.Ub(0,"span",32),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Oc(" ",l.ic(2,3,"tier.latency")," = ",e.capabilities.qos.qosParam.latency," ",e.capabilities.qos.qosParam.latencyUnit,"")}}function C(e,t){if(1&e&&(l.Ub(0,"span",32),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Nc(" ",l.ic(2,2,"tier.bandwidth")," >= ",e.capabilities.qos.qosParam.minBandWidth," Mbps/s ")}}function T(e,t){if(1&e&&(l.Ub(0,"span",32),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Nc(" ",l.ic(2,2,"tier.bandwidth")," <= ",e.capabilities.qos.qosParam.maxBandWidth," Mbps/s ")}}function v(e,t){if(1&e&&(l.Ub(0,"span",32),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Mc(" IOPS >= ",e.capabilities.qos.qosParam.minIOPS," IOPS/TB ")}}function y(e,t){if(1&e&&(l.Ub(0,"span",32),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Mc(" IOPS <= ",e.capabilities.qos.qosParam.maxIOPS," IOPS/TB ")}}const U=function(e){return{height:e}};function I(e,t){if(1&e){const e=l.Vb();l.Ub(0,"div",22),l.Ub(1,"div",23),l.Ub(2,"div",24),l.Ub(3,"div",25),l.cc("click",(function(){l.zc(e);const c=t.$implicit;return l.gc().clickName(c)})),l.Kc(4),l.Tb(),l.Tb(),l.Ub(5,"div",26),l.Ub(6,"div",27),l.Pb(7,"div",28),l.Ub(8,"div",29),l.Kc(9),l.Tb(),l.Tb(),l.Ub(10,"div"),l.Ub(11,"div",30),l.Ub(12,"span",31),l.Kc(13),l.hc(14,"translate"),l.Tb(),l.Ub(15,"span",32),l.Kc(16),l.Tb(),l.Tb(),l.Ub(17,"div",30),l.Ub(18,"span",31),l.Kc(19),l.hc(20,"translate"),l.Tb(),l.Ub(21,"span",32),l.Kc(22),l.Tb(),l.Tb(),l.Ub(23,"div",30),l.Ub(24,"span",31),l.Kc(25),l.hc(26,"translate"),l.Tb(),l.Ic(27,m,2,0,"span",33),l.Ic(28,f,3,5,"span",33),l.Tb(),l.Ub(29,"div",30),l.Pb(30,"span",31),l.Ic(31,C,3,4,"span",33),l.Ic(32,T,3,4,"span",33),l.Tb(),l.Ub(33,"div",30),l.Pb(34,"span",31),l.Ic(35,v,2,1,"span",33),l.Ic(36,y,2,1,"span",33),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&e){const e=t.$implicit;l.mc("clrDgItem",e),l.Cb(4),l.Lc(e.name),l.Cb(3),l.mc("ngStyle",l.qc(21,U,e.usedRate/100*200+"px")),l.Cb(2),l.Lc(e.usedRate),l.Cb(4),l.Lc(l.ic(14,15,"tier.total")),l.Cb(3),l.Mc("",e.totalCapacity," GB"),l.Cb(3),l.Lc(l.ic(20,17,"tier.free")),l.Cb(3),l.Mc("",e.freeCapacity," GB"),l.Cb(3),l.Lc(l.ic(26,19,"tier.qosP")),l.Cb(2),l.mc("ngIf",null==e.capabilities.qos),l.Cb(1),l.mc("ngIf",null!=e.capabilities.qos&&1==e.capabilities.qos.enabled&&null!=e.capabilities.qos.qosParam.latency),l.Cb(3),l.mc("ngIf",null!=e.capabilities.qos&&1==e.capabilities.qos.enabled&&null!=e.capabilities.qos.qosParam.minBandWidth),l.Cb(1),l.mc("ngIf",null!=e.capabilities.qos&&1==e.capabilities.qos.enabled&&null!=e.capabilities.qos.qosParam.maxBandWidth),l.Cb(3),l.mc("ngIf",null!=e.capabilities.qos&&1==e.capabilities.qos.enabled&&null!=e.capabilities.qos.qosParam.minIOPS),l.Cb(1),l.mc("ngIf",null!=e.capabilities.qos&&1==e.capabilities.qos.enabled&&null!=e.capabilities.qos.qosParam.maxIOPS)}}function P(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"Lower"),l.Tb())}function L(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"Middle"),l.Tb())}function M(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"High"),l.Tb())}function K(e,t){if(1&e&&(l.Ub(0,"span",32),l.Ic(1,P,2,0,"span",42),l.Ic(2,L,2,0,"span",42),l.Ic(3,M,2,0,"span",42),l.Tb()),2&e){const e=l.gc(3);l.Cb(1),l.mc("ngIf",1==e.selectedModel.capabilities.iopriority.policy),l.Cb(1),l.mc("ngIf",2==e.selectedModel.capabilities.iopriority.policy),l.Cb(1),l.mc("ngIf",3==e.selectedModel.capabilities.iopriority.policy)}}function w(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1," -- "),l.Tb())}function k(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.uLimit")," "))}function S(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.lLimit")," "))}function O(e,t){if(1&e&&(l.Ub(0,"span",32),l.Ic(1,k,3,3,"span",42),l.Ic(2,S,3,3,"span",42),l.Tb()),2&e){const e=l.gc(3);l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.qos.qosParam.maxBandWidth&&null!=e.selectedModel.capabilities.qos.qosParam.maxIOPS),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.qos.qosParam.minBandWidth&&null!=e.selectedModel.capabilities.qos.qosParam.minIOPS)}}function D(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1," -- "),l.Tb())}function x(e,t){if(1&e&&(l.Ub(0,"div",40),l.Ub(1,"span",31),l.Kc(2),l.hc(3,"translate"),l.Tb(),l.Ub(4,"span",32),l.Kc(5),l.Tb(),l.Tb()),2&e){const e=l.gc(3);l.Cb(2),l.Lc(l.ic(3,2,"tier.bandwidth")),l.Cb(3),l.Mc(" <= ",e.selectedModel.capabilities.qos.qosParam.maxBandWidth," MBPS/TB")}}function R(e,t){if(1&e&&(l.Ub(0,"div",40),l.Ub(1,"span",31),l.Kc(2),l.hc(3,"translate"),l.Tb(),l.Ub(4,"span",32),l.Kc(5),l.Tb(),l.Tb()),2&e){const e=l.gc(3);l.Cb(2),l.Lc(l.ic(3,2,"tier.bandwidth")),l.Cb(3),l.Mc(" >= ",e.selectedModel.capabilities.qos.qosParam.minBandWidth," MBPS/TB")}}function q(e,t){if(1&e&&(l.Ub(0,"div",40),l.Ub(1,"span",31),l.Kc(2,"IOPS"),l.Tb(),l.Ub(3,"span",32),l.Kc(4),l.Tb(),l.Tb()),2&e){const e=l.gc(3);l.Cb(4),l.Mc(" <= ",e.selectedModel.capabilities.qos.qosParam.maxIOPS," IOPS/TB")}}function _(e,t){if(1&e&&(l.Ub(0,"div",40),l.Ub(1,"span",31),l.Kc(2,"IOPS"),l.Tb(),l.Ub(3,"span",32),l.Kc(4),l.Tb(),l.Tb()),2&e){const e=l.gc(3);l.Cb(4),l.Mc(" >= ",e.selectedModel.capabilities.qos.qosParam.minIOPS," IOPS/TB")}}function B(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1,"--"),l.Tb())}function F(e,t){if(1&e&&(l.Ub(0,"span",32),l.Kc(1),l.Tb()),2&e){const e=l.gc(3);l.Cb(1),l.Mc(" ",e.selectedModel.capabilities.resourceType," ")}}function N(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1,"--"),l.Tb())}function j(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.enable")," "))}function A(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.disable")," "))}function E(e,t){if(1&e&&(l.Ub(0,"span",32),l.Ic(1,j,3,3,"span",42),l.Ic(2,A,3,3,"span",42),l.Tb()),2&e){const e=l.gc(3);l.Cb(1),l.mc("ngIf",1==e.selectedModel.capabilities.deduplication),l.Cb(1),l.mc("ngIf",0==e.selectedModel.capabilities.deduplication)}}function z(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1,"--"),l.Tb())}function W(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.enable")," "))}function V(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.disable")," "))}function G(e,t){if(1&e&&(l.Ub(0,"span",32),l.Ic(1,W,3,3,"span",42),l.Ic(2,V,3,3,"span",42),l.Tb()),2&e){const e=l.gc(3);l.Cb(1),l.mc("ngIf",1==e.selectedModel.capabilities.compression),l.Cb(1),l.mc("ngIf",0==e.selectedModel.capabilities.compression)}}function $(e,t){1&e&&(l.Ub(0,"span",32),l.Kc(1,"--"),l.Tb())}function Y(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.notMove")," "))}function H(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.autoMove")," "))}function X(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.highPMove")," "))}function J(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1),l.hc(2,"translate"),l.Tb()),2&e&&(l.Cb(1),l.Mc(" ",l.ic(2,1,"tier.lowPMove")," "))}function Z(e,t){if(1&e&&(l.Ub(0,"span",32),l.Ic(1,Y,3,3,"span",42),l.Ic(2,H,3,3,"span",42),l.Ic(3,X,3,3,"span",42),l.Ic(4,J,3,3,"span",42),l.Tb()),2&e){const e=l.gc(3);l.Cb(1),l.mc("ngIf",0==e.selectedModel.capabilities.smarttier.policy),l.Cb(1),l.mc("ngIf",1==e.selectedModel.capabilities.smarttier.policy),l.Cb(1),l.mc("ngIf",2==e.selectedModel.capabilities.smarttier.policy),l.Cb(1),l.mc("ngIf",3==e.selectedModel.capabilities.smarttier.policy)}}function Q(e,t){if(1&e&&(l.Ub(0,"clr-tab-content"),l.Ub(1,"div",38),l.Kc(2),l.hc(3,"translate"),l.Tb(),l.Ub(4,"div",39),l.Ub(5,"div",40),l.Ub(6,"span",31),l.Kc(7),l.hc(8,"translate"),l.Tb(),l.Ub(9,"span",32),l.Kc(10),l.Tb(),l.Tb(),l.Ub(11,"div",40),l.Ub(12,"span",31),l.Kc(13),l.hc(14,"translate"),l.Tb(),l.Ub(15,"span",32),l.Kc(16),l.Tb(),l.Tb(),l.Ub(17,"div",40),l.Ub(18,"span",31),l.Kc(19),l.hc(20,"translate"),l.Tb(),l.Ub(21,"span",32),l.Kc(22),l.Tb(),l.Tb(),l.Ub(23,"div",40),l.Ub(24,"span",31),l.Kc(25),l.hc(26,"translate"),l.Tb(),l.Ub(27,"span",32),l.Kc(28),l.Tb(),l.Tb(),l.Ub(29,"div",40),l.Ub(30,"span",31),l.Kc(31),l.hc(32,"translate"),l.Tb(),l.Ub(33,"span",32),l.Kc(34),l.Tb(),l.Tb(),l.Ub(35,"div",40),l.Ub(36,"span",31),l.Kc(37),l.hc(38,"translate"),l.Tb(),l.Ic(39,K,4,3,"span",33),l.Ic(40,w,2,0,"span",33),l.Tb(),l.Ub(41,"div",40),l.Ub(42,"span",31),l.Kc(43),l.hc(44,"translate"),l.Tb(),l.Ub(45,"span",32),l.Kc(46,"--"),l.Tb(),l.Tb(),l.Tb(),l.Ub(47,"div",38),l.Kc(48),l.hc(49,"translate"),l.Tb(),l.Ub(50,"div",39),l.Ub(51,"div",40),l.Ub(52,"span",31),l.Kc(53),l.hc(54,"translate"),l.Tb(),l.Ic(55,O,3,2,"span",33),l.Ic(56,D,2,0,"span",33),l.Tb(),l.Ic(57,x,6,4,"div",41),l.Ic(58,R,6,4,"div",41),l.Ic(59,q,5,1,"div",41),l.Ic(60,_,5,1,"div",41),l.Tb(),l.Ub(61,"div",38),l.Kc(62),l.hc(63,"translate"),l.Tb(),l.Ub(64,"div",39),l.Ub(65,"div",40),l.Ub(66,"span",31),l.Kc(67),l.hc(68,"translate"),l.Tb(),l.Ic(69,B,2,0,"span",33),l.Ic(70,F,2,1,"span",33),l.Tb(),l.Ub(71,"div",40),l.Ub(72,"span",31),l.Kc(73),l.hc(74,"translate"),l.Tb(),l.Ic(75,N,2,0,"span",33),l.Ic(76,E,3,2,"span",33),l.Tb(),l.Ub(77,"div",40),l.Ub(78,"span",31),l.Kc(79),l.hc(80,"translate"),l.Tb(),l.Ic(81,z,2,0,"span",33),l.Ic(82,G,3,2,"span",33),l.Tb(),l.Ub(83,"div",40),l.Ub(84,"span",31),l.Kc(85),l.hc(86,"translate"),l.Tb(),l.Ic(87,$,2,0,"span",33),l.Ic(88,Z,5,4,"span",33),l.Tb(),l.Tb(),l.Tb()),2&e){const e=l.gc(2);l.Cb(2),l.Lc(l.ic(3,36,"tier.basic")),l.Cb(5),l.Lc(l.ic(8,38,"tier.name")),l.Cb(3),l.Lc(e.selectedModel.name),l.Cb(3),l.Lc(l.ic(14,40,"tier.total")),l.Cb(3),l.Mc("",e.selectedModel.totalCapacity," GB"),l.Cb(3),l.Lc(l.ic(20,42,"tier.free")),l.Cb(3),l.Mc("",e.selectedModel.freeCapacity," GB"),l.Cb(3),l.Lc(l.ic(26,44,"tier.used")),l.Cb(3),l.Mc("",e.selectedModel.usedCapacity," GB"),l.Cb(3),l.Lc(l.ic(32,46,"tier.usage")),l.Cb(3),l.Mc("",e.selectedModel.usedRate,"%"),l.Cb(3),l.Lc(l.ic(38,48,"tier.iop")),l.Cb(2),l.mc("ngIf",void 0!==e.selectedModel.capabilities.iopriority&&!0===e.selectedModel.capabilities.iopriority.enabled),l.Cb(1),l.mc("ngIf",void 0===e.selectedModel.capabilities.iopriority||!1===e.selectedModel.capabilities.iopriority.enabled),l.Cb(3),l.Lc(l.ic(44,50,"tier.zoning")),l.Cb(5),l.Lc(l.ic(49,52,"tier.qosP")),l.Cb(5),l.Lc(l.ic(54,54,"tier.controlP")),l.Cb(2),l.mc("ngIf",null!=e.selectedModel.capabilities.qos&&1==e.selectedModel.capabilities.qos.enabled),l.Cb(1),l.mc("ngIf",null==e.selectedModel.capabilities.qos||0==e.selectedModel.capabilities.qos.enabled),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.qos&&null!=e.selectedModel.capabilities.qos.qosParam.maxBandWidth),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.qos&&null!=e.selectedModel.capabilities.qos.qosParam.minBandWidth),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.qos&&null!=e.selectedModel.capabilities.qos.qosParam.maxIOPS),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.qos&&null!=e.selectedModel.capabilities.qos.qosParam.minIOPS),l.Cb(2),l.Lc(l.ic(63,56,"tier.rtuning")),l.Cb(5),l.Lc(l.ic(68,58,"tier.alloctype")),l.Cb(2),l.mc("ngIf",null==e.selectedModel.capabilities.resourceType||"default_type"==e.selectedModel.capabilities.resourceType),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.resourceType&&"default_type"!=e.selectedModel.capabilities.resourceType),l.Cb(3),l.Lc(l.ic(74,60,"tier.dedupe")),l.Cb(2),l.mc("ngIf",null==e.selectedModel.capabilities.deduplication),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.deduplication),l.Cb(3),l.Lc(l.ic(80,62,"tier.compression")),l.Cb(2),l.mc("ngIf",null==e.selectedModel.capabilities.compression),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.compression),l.Cb(3),l.Lc(l.ic(86,64,"tier.smartTierP")),l.Cb(2),l.mc("ngIf",null==e.selectedModel.capabilities.smarttier||0==e.selectedModel.capabilities.smarttier.enabled),l.Cb(1),l.mc("ngIf",null!=e.selectedModel.capabilities.smarttier&&1==e.selectedModel.capabilities.smarttier.enabled)}}function ee(e,t){if(1&e&&(l.Ub(0,"span"),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Lc(e.latency)}}function te(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"--"),l.Tb())}function ce(e,t){if(1&e&&(l.Ub(0,"span"),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Lc(e.iops)}}function ie(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"--"),l.Tb())}function ae(e,t){if(1&e&&(l.Ub(0,"span"),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Lc(e.bandwidth)}}function se(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"--"),l.Tb())}function ne(e,t){if(1&e&&(l.Ub(0,"clr-dg-row",59),l.Ub(1,"clr-dg-cell"),l.Kc(2),l.Tb(),l.Ub(3,"clr-dg-cell",60),l.Kc(4),l.Tb(),l.Ub(5,"clr-dg-cell",60),l.Kc(6),l.Tb(),l.Ub(7,"clr-dg-cell",60),l.Kc(8),l.Tb(),l.Ub(9,"clr-dg-cell",60),l.Kc(10),l.Tb(),l.Ub(11,"clr-dg-cell",60),l.Kc(12),l.Tb(),l.Ub(13,"clr-dg-cell",60),l.Pb(14,"clr-progress-bar",61),l.Tb(),l.Ub(15,"clr-dg-cell",60),l.Kc(16),l.Tb(),l.Ub(17,"clr-dg-cell",60),l.Kc(18),l.Tb(),l.Ub(19,"clr-dg-cell",60),l.Ic(20,ee,2,1,"span",42),l.Ic(21,te,2,0,"span",42),l.Tb(),l.Ub(22,"clr-dg-cell",60),l.Ic(23,ce,2,1,"span",42),l.Ic(24,ie,2,0,"span",42),l.Tb(),l.Ub(25,"clr-dg-cell",60),l.Ic(26,ae,2,1,"span",42),l.Ic(27,se,2,0,"span",42),l.Tb(),l.Tb()),2&e){const e=t.$implicit,c=l.gc(3);l.mc("clrDgItem",e),l.Cb(2),l.Lc(e.name),l.Cb(1),l.mc("hidden","basic"!==c.storagePoolRadioCheck),l.Cb(1),l.Lc(e.runningStatus),l.Cb(1),l.mc("hidden","basic"!==c.storagePoolRadioCheck),l.Cb(1),l.Lc(e.physicalType),l.Cb(1),l.mc("hidden","basic"!==c.storagePoolRadioCheck),l.Cb(1),l.Lc(e.storageName),l.Cb(1),l.mc("hidden","capacity"!==c.storagePoolRadioCheck),l.Cb(1),l.Mc("",e.totalCapacity," GB"),l.Cb(1),l.mc("hidden","capacity"!==c.storagePoolRadioCheck),l.Cb(1),l.Mc("",e.consumedCapacity," GB"),l.Cb(1),l.mc("hidden","capacity"!==c.storagePoolRadioCheck),l.Cb(1),l.nc("clrValue",e.consumedCapacityPercentage),l.Cb(1),l.mc("hidden","capacity"!==c.storagePoolRadioCheck),l.Cb(1),l.Mc("",e.freeCapacity," GB"),l.Cb(1),l.mc("hidden","performance"!==c.storagePoolRadioCheck),l.Cb(1),l.Lc(e.runningStatus),l.Cb(1),l.mc("hidden","performance"!==c.storagePoolRadioCheck),l.Cb(1),l.mc("ngIf",null!=e.latency),l.Cb(1),l.mc("ngIf",null==e.latency),l.Cb(1),l.mc("hidden","performance"!==c.storagePoolRadioCheck),l.Cb(1),l.mc("ngIf",null!=e.iops),l.Cb(1),l.mc("ngIf",null==e.iops),l.Cb(1),l.mc("hidden","performance"!==c.storagePoolRadioCheck),l.Cb(1),l.mc("ngIf",null!=e.bandwidth),l.Cb(1),l.mc("ngIf",null==e.bandwidth)}}function oe(e,t){if(1&e){const e=l.Vb();l.Ub(0,"clr-tab-content"),l.Pb(1,"div",38),l.Ub(2,"div",2),l.Ub(3,"div",43),l.Ub(4,"input",44),l.cc("click",(function(){return l.zc(e),l.gc(2).storagePoolRadioCheck="basic"})),l.Tb(),l.Ub(5,"label",45),l.Pb(6,"clr-icon",46),l.Tb(),l.Tb(),l.Ub(7,"div",43),l.Ub(8,"input",47),l.cc("click",(function(){return l.zc(e),l.gc(2).storagePoolRadioCheck="capacity"})),l.Tb(),l.Ub(9,"label",48),l.Pb(10,"clr-icon",49),l.Tb(),l.Tb(),l.Ub(11,"div",43),l.Ub(12,"input",50),l.cc("click",(function(){return l.zc(e),l.gc(2).storagePoolRadioCheck="performance"})),l.Tb(),l.Ub(13,"label",51),l.Pb(14,"clr-icon",52),l.Tb(),l.Tb(),l.Ub(15,"div",53),l.Ub(16,"label"),l.Ub(17,"clr-icon",54),l.cc("click",(function(t){return l.zc(e),l.gc(2).storagePoolRefresh(t)})),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(18,"clr-datagrid",55),l.cc("clrDgRefresh",(function(t){return l.zc(e),l.gc(2).storagePoolRefresh(t)})),l.Ub(19,"clr-dg-column",56),l.Kc(20),l.hc(21,"translate"),l.Tb(),l.Ub(22,"clr-dg-column",57),l.Kc(23),l.hc(24,"translate"),l.Tb(),l.Ub(25,"clr-dg-column",57),l.Kc(26),l.hc(27,"translate"),l.Tb(),l.Ub(28,"clr-dg-column",57),l.Kc(29),l.hc(30,"translate"),l.Tb(),l.Ub(31,"clr-dg-column",57),l.Kc(32),l.hc(33,"translate"),l.Tb(),l.Ub(34,"clr-dg-column",57),l.Kc(35),l.hc(36,"translate"),l.Tb(),l.Ub(37,"clr-dg-column",57),l.Kc(38),l.hc(39,"translate"),l.Tb(),l.Ub(40,"clr-dg-column",57),l.Kc(41),l.hc(42,"translate"),l.Tb(),l.Ub(43,"clr-dg-column",57),l.Kc(44),l.hc(45,"translate"),l.Tb(),l.Ub(46,"clr-dg-column",57),l.Kc(47),l.hc(48,"translate"),l.Tb(),l.Ub(49,"clr-dg-column",57),l.Kc(50,"IOPS"),l.Tb(),l.Ub(51,"clr-dg-column",57),l.Kc(52),l.hc(53,"translate"),l.Tb(),l.Ic(54,ne,28,27,"clr-dg-row",58),l.Tb(),l.Tb()}if(2&e){const e=l.gc(2);l.Cb(18),l.mc("clrDgLoading",e.storeagePoolIsloading),l.Cb(1),l.mc("clrDgField","name"),l.Cb(1),l.Lc(l.ic(21,36,"tier.name")),l.Cb(2),l.mc("hidden","basic"!==e.storagePoolRadioCheck)("clrDgField","runningStatus"),l.Cb(1),l.Lc(l.ic(24,38,"tier.status")),l.Cb(2),l.mc("hidden","basic"!==e.storagePoolRadioCheck)("clrDgField","physicalType"),l.Cb(1),l.Lc(l.ic(27,40,"tier.diskType")),l.Cb(2),l.mc("hidden","basic"!==e.storagePoolRadioCheck)("clrDgField","storageName"),l.Cb(1),l.Lc(l.ic(30,42,"tier.storage")),l.Cb(2),l.mc("hidden","capacity"!==e.storagePoolRadioCheck)("clrDgField","totalCapacity"),l.Cb(1),l.Lc(l.ic(33,44,"tier.total")),l.Cb(2),l.mc("hidden","capacity"!==e.storagePoolRadioCheck)("clrDgField","consumedCapacity"),l.Cb(1),l.Lc(l.ic(36,46,"tier.used")),l.Cb(2),l.mc("hidden","capacity"!==e.storagePoolRadioCheck)("clrDgField","consumedCapacityPercentage"),l.Cb(1),l.Lc(l.ic(39,48,"tier.usage")),l.Cb(2),l.mc("hidden","capacity"!==e.storagePoolRadioCheck)("clrDgField","freeCapacity"),l.Cb(1),l.Lc(l.ic(42,50,"tier.free")),l.Cb(2),l.mc("hidden","performance"!==e.storagePoolRadioCheck)("clrDgField","runningStatus"),l.Cb(1),l.Lc(l.ic(45,52,"tier.status")),l.Cb(2),l.mc("hidden","performance"!==e.storagePoolRadioCheck)("clrDgField","latency"),l.Cb(1),l.Lc(l.ic(48,54,"tier.latencyms")),l.Cb(2),l.mc("hidden","performance"!==e.storagePoolRadioCheck)("clrDgField","iops"),l.Cb(2),l.mc("hidden","performance"!==e.storagePoolRadioCheck)("clrDgField","bandwidth"),l.Cb(1),l.Lc(l.ic(53,56,"tier.bandwidthm")),l.Cb(2),l.mc("ngForOf",e.storagePoolList)}}function le(e,t){if(1&e&&(l.Ub(0,"clr-dg-cell",60),l.Kc(1,"--"),l.Tb()),2&e){const e=l.gc(4);l.mc("hidden","basic"!==e.volumeRadioCheck)}}function re(e,t){if(1&e&&(l.Ub(0,"clr-dg-cell",60),l.Pb(1,"clr-progress-bar",61),l.Tb()),2&e){const e=l.gc().$implicit,t=l.gc(3);l.mc("hidden","basic"!==t.volumeRadioCheck),l.Cb(1),l.nc("clrValue",e.capacity_usage)}}function be(e,t){if(1&e&&(l.Ub(0,"span"),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Lc(e.latency)}}function de(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"--"),l.Tb())}function pe(e,t){if(1&e&&(l.Ub(0,"span"),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Lc(e.iops)}}function he(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"--"),l.Tb())}function ue(e,t){if(1&e&&(l.Ub(0,"span"),l.Kc(1),l.Tb()),2&e){const e=l.gc().$implicit;l.Cb(1),l.Lc(e.bandwidth)}}function ge(e,t){1&e&&(l.Ub(0,"span"),l.Kc(1,"--"),l.Tb())}function me(e,t){if(1&e&&(l.Ub(0,"clr-dg-row",59),l.Ub(1,"clr-dg-cell"),l.Kc(2),l.Tb(),l.Ub(3,"clr-dg-cell"),l.Kc(4),l.Tb(),l.Ub(5,"clr-dg-cell",60),l.Kc(6),l.Tb(),l.Ub(7,"clr-dg-cell",60),l.Kc(8),l.Tb(),l.Ic(9,le,2,1,"clr-dg-cell",66),l.Ic(10,re,2,2,"clr-dg-cell",66),l.Ub(11,"clr-dg-cell",60),l.Ic(12,be,2,1,"span",42),l.Ic(13,de,2,0,"span",42),l.Tb(),l.Ub(14,"clr-dg-cell",60),l.Ic(15,pe,2,1,"span",42),l.Ic(16,he,2,0,"span",42),l.Tb(),l.Ub(17,"clr-dg-cell",60),l.Ic(18,ue,2,1,"span",42),l.Ic(19,ge,2,0,"span",42),l.Tb(),l.Tb()),2&e){const e=t.$implicit,c=l.gc(3);l.mc("clrDgItem",e),l.Cb(2),l.Lc(e.name),l.Cb(2),l.Lc(e.status),l.Cb(1),l.mc("hidden","basic"!==c.volumeRadioCheck),l.Cb(1),l.Mc("",e.capacity," GB"),l.Cb(1),l.mc("hidden","basic"!==c.volumeRadioCheck),l.Cb(1),l.Lc(e.alloctype),l.Cb(1),l.mc("ngIf",""==e.capacityUsage),l.Cb(1),l.mc("ngIf",""!=e.capacityUsage),l.Cb(1),l.mc("hidden","performance"!==c.volumeRadioCheck),l.Cb(1),l.mc("ngIf",null!=e.latency),l.Cb(1),l.mc("ngIf",null==e.latency),l.Cb(1),l.mc("hidden","performance"!==c.volumeRadioCheck),l.Cb(1),l.mc("ngIf",null!=e.iops),l.Cb(1),l.mc("ngIf",null==e.iops),l.Cb(1),l.mc("hidden","performance"!==c.volumeRadioCheck),l.Cb(1),l.mc("ngIf",null!=e.bandwidth),l.Cb(1),l.mc("ngIf",null==e.bandwidth)}}function fe(e,t){if(1&e){const e=l.Vb();l.Ub(0,"clr-tab-content"),l.Pb(1,"div",38),l.Ub(2,"div",2),l.Ub(3,"div",43),l.Ub(4,"input",62),l.cc("click",(function(){return l.zc(e),l.gc(2).volumeRadioCheck="basic"})),l.Tb(),l.Ub(5,"label",63),l.Pb(6,"clr-icon",46),l.Tb(),l.Tb(),l.Ub(7,"div",43),l.Ub(8,"input",64),l.cc("click",(function(){return l.zc(e),l.gc(2).volumeRadioCheck="performance"})),l.Tb(),l.Ub(9,"label",65),l.Pb(10,"clr-icon",49),l.Tb(),l.Tb(),l.Ub(11,"div",53),l.Ub(12,"label"),l.Ub(13,"clr-icon",54),l.cc("click",(function(t){return l.zc(e),l.gc(2).volumeRefresh(t)})),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(14,"clr-datagrid",55),l.cc("clrDgRefresh",(function(t){return l.zc(e),l.gc(2).volumeRefresh(t)})),l.Ub(15,"clr-dg-column",56),l.Kc(16),l.hc(17,"translate"),l.Tb(),l.Ub(18,"clr-dg-column",56),l.Kc(19),l.hc(20,"translate"),l.Tb(),l.Ub(21,"clr-dg-column",57),l.Kc(22),l.hc(23,"translate"),l.Tb(),l.Ub(24,"clr-dg-column",57),l.Kc(25),l.hc(26,"translate"),l.Tb(),l.Ub(27,"clr-dg-column",57),l.Kc(28),l.hc(29,"translate"),l.Tb(),l.Ub(30,"clr-dg-column",57),l.Kc(31),l.hc(32,"translate"),l.Tb(),l.Ub(33,"clr-dg-column",57),l.Kc(34,"IOPS"),l.Tb(),l.Ub(35,"clr-dg-column",57),l.Kc(36),l.hc(37,"translate"),l.Tb(),l.Ic(38,me,20,18,"clr-dg-row",58),l.Tb(),l.Tb()}if(2&e){const e=l.gc(2);l.Cb(14),l.mc("clrDgLoading",e.volumeIsloading),l.Cb(1),l.mc("clrDgField","name"),l.Cb(1),l.Lc(l.ic(17,23,"tier.name")),l.Cb(2),l.mc("clrDgField","status"),l.Cb(1),l.Lc(l.ic(20,25,"tier.status")),l.Cb(2),l.mc("hidden","basic"!==e.volumeRadioCheck)("clrDgField","capacity"),l.Cb(1),l.Lc(l.ic(23,27,"tier.total")),l.Cb(2),l.mc("hidden","basic"!==e.volumeRadioCheck)("clrDgField","alloctype"),l.Cb(1),l.Lc(l.ic(26,29,"tier.alloctype")),l.Cb(2),l.mc("hidden","basic"!==e.volumeRadioCheck)("clrDgField","capacityUsage"),l.Cb(1),l.Lc(l.ic(29,31,"tier.used")),l.Cb(2),l.mc("hidden","performance"!==e.volumeRadioCheck)("clrDgField","latency"),l.Cb(1),l.Lc(l.ic(32,33,"tier.latencyms")),l.Cb(2),l.mc("hidden","performance"!==e.volumeRadioCheck)("clrDgField","iops"),l.Cb(2),l.mc("hidden","performance"!==e.volumeRadioCheck)("clrDgField","bandwidth"),l.Cb(1),l.Lc(l.ic(37,35,"tier.bandwidthm")),l.Cb(2),l.mc("ngForOf",e.volumeList)}}function Ce(e,t){if(1&e&&(l.Ub(0,"clr-tab-content"),l.Pb(1,"div",38),l.Ub(2,"div",67),l.Ub(3,"select",68),l.Ub(4,"option",69),l.Kc(5),l.hc(6,"translate"),l.Tb(),l.Ub(7,"option",70),l.Kc(8),l.hc(9,"translate"),l.Tb(),l.Ub(10,"option",71),l.Kc(11),l.hc(12,"translate"),l.Tb(),l.Ub(13,"option",72),l.Kc(14),l.hc(15,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Pb(16,"div",38),l.Pb(17,"div",73),l.Pb(18,"div",38),l.Pb(19,"div",73),l.Tb()),2&e){const e=l.gc(2);l.Cb(5),l.Lc(l.ic(6,6,"tier.last1M")),l.Cb(3),l.Lc(l.ic(9,8,"tier.last3M")),l.Cb(3),l.Lc(l.ic(12,10,"tier.last6M")),l.Cb(3),l.Lc(l.ic(15,12,"tier.last1Y")),l.Cb(3),l.mc("options",e.volumeCapacity),l.Cb(2),l.mc("options",e.storagePoolCapacity)}}function Te(e,t){if(1&e){const e=l.Vb();l.Ub(0,"clr-tab-content"),l.Pb(1,"div",38),l.Ub(2,"div",67),l.Ub(3,"select",74),l.cc("ngModelChange",(function(t){return l.zc(e),l.gc(2).range.range=t}))("change",(function(){l.zc(e);const t=l.gc(2);return t.initChart(t.range)})),l.Ub(4,"option",75),l.Kc(5),l.hc(6,"translate"),l.Tb(),l.Ub(7,"option",76),l.Kc(8),l.hc(9,"translate"),l.Tb(),l.Ub(10,"option",77),l.Kc(11),l.hc(12,"translate"),l.Tb(),l.Ub(13,"option",78),l.Kc(14),l.hc(15,"translate"),l.Tb(),l.Tb(),l.Tb(),l.Pb(16,"div",38),l.Pb(17,"div",73),l.Pb(18,"div",38),l.Pb(19,"div",73),l.Pb(20,"div",38),l.Pb(21,"div",73),l.Pb(22,"div",38),l.Pb(23,"div",73),l.Pb(24,"div",38),l.Pb(25,"div",73),l.Tb()}if(2&e){const e=l.gc(2);l.Cb(3),l.mc("ngModel",e.range.range),l.Cb(2),l.Lc(l.ic(6,10,"tier.last1D")),l.Cb(3),l.Lc(l.ic(9,12,"tier.last1W")),l.Cb(3),l.Lc(l.ic(12,14,"tier.last1M")),l.Cb(3),l.Lc(l.ic(15,16,"tier.last1Y")),l.Cb(3),l.mc("options",e.volumeMaxResponseTime),l.Cb(2),l.mc("options",e.volumeDensity),l.Cb(2),l.mc("options",e.volumeThroughput),l.Cb(2),l.mc("options",e.volumeBandwidth),l.Cb(2),l.mc("options",e.storagePoolDensity)}}function ve(e,t){if(1&e&&(l.Ub(0,"clr-dg-row",59),l.Ub(1,"clr-dg-cell"),l.Kc(2),l.Tb(),l.Ub(3,"clr-dg-cell"),l.Kc(4),l.Tb(),l.Tb()),2&e){const e=t.$implicit;l.mc("clrDgItem",e),l.Cb(2),l.Lc(e.storageDevice),l.Cb(2),l.Lc(e.applicationType)}}function ye(e,t){if(1&e){const e=l.Vb();l.Ub(0,"clr-tab-content"),l.Ub(1,"clr-datagrid",79),l.cc("clrDgSelectedChange",(function(t){return l.zc(e),l.gc(2).applicationTypeSelected=t}))("clrDgRefresh",(function(t){return l.zc(e),l.gc(2).applicationTypeRefresh(t)})),l.Ub(2,"clr-dg-column",56),l.Kc(3),l.hc(4,"translate"),l.Tb(),l.Ub(5,"clr-dg-column",56),l.Kc(6),l.hc(7,"translate"),l.Tb(),l.Ic(8,ve,5,3,"clr-dg-row",58),l.Tb(),l.Tb()}if(2&e){const e=l.gc(2);l.Cb(1),l.mc("clrDgSelected",e.applicationTypeSelected)("clrDgLoading",e.applicationTypeIsloading),l.Cb(1),l.mc("clrDgField","storageDevice"),l.Cb(1),l.Lc(l.ic(4,7,"tier.storage")),l.Cb(2),l.mc("clrDgField","applicationType"),l.Cb(1),l.Lc(l.ic(7,9,"tier.appType")),l.Cb(2),l.mc("ngForOf",e.applicationTypeList)}}function Ue(e,t){1&e&&(l.Ub(0,"div",34),l.Ub(1,"clr-tabs"),l.Ub(2,"clr-tab",35),l.Ub(3,"button",36),l.Kc(4),l.hc(5,"translate"),l.Tb(),l.Ic(6,Q,89,66,"clr-tab-content",37),l.Tb(),l.Ub(7,"clr-tab"),l.Ub(8,"button",36),l.Kc(9),l.hc(10,"translate"),l.Tb(),l.Ic(11,oe,55,58,"clr-tab-content",37),l.Tb(),l.Ub(12,"clr-tab"),l.Ub(13,"button",36),l.Kc(14),l.hc(15,"translate"),l.Tb(),l.Ic(16,fe,39,37,"clr-tab-content",37),l.Tb(),l.Ub(17,"clr-tab"),l.Ub(18,"button",36),l.Kc(19),l.hc(20,"translate"),l.Tb(),l.Ic(21,Ce,20,14,"clr-tab-content",37),l.Tb(),l.Ub(22,"clr-tab"),l.Ub(23,"button",36),l.Kc(24),l.hc(25,"translate"),l.Tb(),l.Ic(26,Te,26,18,"clr-tab-content",37),l.Tb(),l.Ub(27,"clr-tab"),l.Ub(28,"button",36),l.Kc(29),l.hc(30,"translate"),l.Tb(),l.Ic(31,ye,9,11,"clr-tab-content",37),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.Cb(4),l.Lc(l.ic(5,6,"tier.general")),l.Cb(5),l.Lc(l.ic(10,8,"tier.storagep")),l.Cb(5),l.Lc(l.ic(15,10,"tier.volume")),l.Cb(5),l.Lc(l.ic(20,12,"tier.capacity")),l.Cb(5),l.Lc(l.ic(25,14,"tier.performance")),l.Cb(5),l.Lc(l.ic(30,16,"tier.appType")))}let Ie=(()=>{class e{constructor(e,t,c,i){this.ngZone=e,this.cdr=t,this.http=c,this.makePerformance=i,this.popShow=!1,this.volumeCapacity={},this.storagePoolCapacity={},this.volumeMaxResponseTime={},this.volumeDensity={},this.volumeThroughput={},this.volumeBandwidth={},this.storagePoolDensity={},this.range=new Pe,this.storagePoolRadioCheck="basic",this.volumeRadioCheck="basic",this.searchName="",this.sortItem="",this.sortItems=[{id:"name",value:"tier.names"},{id:"totalCapacity",value:"tier.totals"},{id:"latency",value:"tier.latencys"},{id:"maxIOPS",value:"tier.maxIOPSs"},{id:"minIOPS",value:"tier.minIOPSs"},{id:"maxBandWidth",value:"tier.maxBandWidths"},{id:"minBandWidth",value:"tier.minBandWidths"}],this.selectedModel={id:"1",name:"\u670d\u52a1\u7b49\u7ea7_CCC2",description:"description",type:"BLOCK",protocol:"iSCSI",totalCapacity:1e3,usedCapacity:600,usedRate:40,freeCapacity:400,capabilities:{resourceType:"thin",compression:"default_type",deduplication:"enabled",iopriority:{enabled:!0,policy:1},smarttier:{enabled:!0,policy:1},qos:{enabled:!0,qosParam:{latency:25,latencyU:"ms",minBandWidth:2e3,minIOPS:5e3,maxBandWidth:1e4,maxIOPS:2e4}}}},this.serviceLevels=[],this.serviceLevelsRes=[],this.sortUpDown={isFirst:!0,s:"desc"},this.storeagePoolIsloading=!1,this.storagePoolList=[],this.volumeIsloading=!1,this.volumeList=[],this.applicationTypeIsloading=!1,this.applicationTypeTotal=0,this.applicationTypeList=[]}ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){this.refresh()}clickName(e){this.popShow=!0,this.volumeRadioCheck="basic",this.storagePoolRadioCheck="basic",this.selectedModel=e,this.initChart(this.range)}closeS(){this.popShow=!1,this.volumeRadioCheck="basic",this.storagePoolRadioCheck="basic"}storagePoolRefresh(e){setTimeout(()=>{this.storeagePoolIsloading=!0,this.http.post("servicelevel/listStoragePoolsByServiceLevelId",this.selectedModel.id).subscribe(e=>{this.storagePoolList="200"==e.code?e.data:[],this.storeagePoolIsloading=!1,this.cdr.detectChanges(),this.lastStorePool24HPeak()},e=>{console.error("ERROR",e),this.storeagePoolIsloading=!1})},200)}volumeRefresh(e){setTimeout(()=>{this.volumeIsloading=!0,this.http.post("servicelevel/listVolumesByServiceLevelId",this.selectedModel.id).subscribe(e=>{this.volumeList="200"==e.code?e.data:[],this.volumeIsloading=!1,this.cdr.detectChanges(),this.lastVloume24HPeak()},e=>{console.error("ERROR",e),this.volumeIsloading=!1})},200)}applicationTypeRefresh(e){this.applicationTypeIsloading=!0,this.applicationTypeList=[],this.applicationTypeTotal=0,this.applicationTypeIsloading=!1,this.cdr.detectChanges()}refresh(){this.http.post("servicelevel/listservicelevel",{}).subscribe(e=>{e.data=JSON.stringify(e.data),e.data=e.data.replace("service-levels","serviceLevels");const t=this.recursiveNullDelete(JSON.parse(e.data));for(const c of t.serviceLevels)c.usedRate=0==c.totalCapacity?0:(c.usedCapacity/c.totalCapacity*100).toFixed(2),c.usedCapacity=(c.usedCapacity/1024).toFixed(2),c.totalCapacity=(c.totalCapacity/1024).toFixed(2),c.freeCapacity=(c.freeCapacity/1024).toFixed(2);this.serviceLevelsRes=t.serviceLevels,this.search(),console.log(this.serviceLevels)},e=>{console.error("ERROR",e)})}search(){this.serviceLevels=""!==this.searchName?this.serviceLevelsRes.filter(e=>e.name.indexOf(this.searchName)>-1):this.serviceLevelsRes,this.sortItemsChange()}sortBtnClick(){""==this.sortItem&&this.sortUpDown.isFirst||("desc"==this.sortUpDown.s?this.sortUpDown.s="asc":"asc"==this.sortUpDown.s&&(this.sortUpDown.s="desc")),this.sortUpDown.isFirst=!1,this.sortItemsChange()}sortItemsChange(){let e=this.sortItem;""==e&&(e="totalCapacity"),this.serviceLevels=this.serviceLevels.sort(this.compare(e,this.sortUpDown.s))}recursiveNullDelete(e){for(const t in e)null===e[t]?delete e[t]:e[t]instanceof Object?this.recursiveNullDelete(e[t]):("minBandWidth"==t&&0==e[t]||"maxBandWidth"==t&&0==e[t]||"minIOPS"==t&&0==e[t]||"maxIOPS"==t&&0==e[t]||"latency"==t&&0==e[t])&&delete e[t];return e}recursivePropertyies(e,t){for(const c in t){if(c===e)return t[e];if(t[c]instanceof Object){const i=this.recursivePropertyies(e,t[c]);if(void 0!==i)return i}}}compare(e,t){return(c,i)=>{let a=this.recursivePropertyies(e,c),s=this.recursivePropertyies(e,i);return void 0===a&&(a=""),void 0===s&&(s=""),a<s?"asc"===t?-1:1:a>s?"asc"===t?1:-1:0}}lastVloume24HPeak(){let e=[];this.volumeList.forEach(t=>{t.instanceId&&e.push(t.instanceId)}),this.http.post("datastorestatistichistrory/volume",{obj_type_id:"1125921381679104",indicator_ids:["1125921381744641","1125921381744642","1125921381744643"],obj_ids:e,interval:"MINUTE",range:"LAST_1_DAY"}).subscribe(e=>{"200"==e.code&&this.volumeList.forEach(t=>{let c=e.data[t.instanceId];if(null!=c){let e=c[0x4000500010001].max,i=c[0x4000500010002].max,a=c[0x4000500010003].max;t.iops=parseFloat(e[Object.keys(e)[0]]).toFixed(2),t.latency=parseFloat(i[Object.keys(i)[0]]).toFixed(2),t.bandwidth=parseFloat(a[Object.keys(a)[0]]).toFixed(2)}}),this.cdr.detectChanges()},e=>{console.error("ERROR",e),this.storeagePoolIsloading=!1})}lastStorePool24HPeak(){let e=[];this.storagePoolList.forEach(t=>{t.storage_instance_id&&e.push(t.storage_instance_id)}),this.http.post("datastorestatistichistrory/servicelevelStoragePool",{obj_type_id:"1125912791744512",indicator_ids:["1125912791810049","1125912791810050","1125912791810051"],obj_ids:e,interval:"MINUTE",range:"LAST_1_DAY"}).subscribe(e=>{"200"==e.code&&this.storagePoolList.forEach(t=>{let c=e.data.data[t.storage_instance_id];if(null!=c){let e=c[0x4000300010001].max,i=c[0x4000300010002].max,a=c[0x4000300010003].max;t.iops=parseFloat(e[Object.keys(e)[0]]).toFixed(2),t.latency=parseFloat(i[Object.keys(i)[0]]).toFixed(2),t.bandwidth=parseFloat(a[Object.keys(a)[0]]).toFixed(2)}}),this.cdr.detectChanges()},e=>{console.error("ERROR",e),this.storeagePoolIsloading=!1})}initChart(e){return Object(s.a)(this,void 0,void 0,(function*(){this.makePerformance.setChartSingle(300,"\u5377\u6700\u5927I/O\u54cd\u5e94\u65f6\u95f4(ms)","",["1125921381744655"],[this.selectedModel.id],e.range,"datastorestatistichistrory/servicelevelLun",null,null).then(e=>{this.volumeMaxResponseTime=e,this.cdr.detectChanges()}),this.makePerformance.setChartSingle(300,"\u5377I/O\u5bc6\u5ea6(IOPS/TB)","",["1223"],[this.selectedModel.id],e.range,"datastorestatistichistrory/servicelevelLun",null,null).then(e=>{this.volumeDensity=e,this.cdr.detectChanges()}),this.makePerformance.setChartSingle(300,"\u5377\u603b\u541e\u5410\u91cf(IOPS)","",["1125921381744641"],[this.selectedModel.id],e.range,"datastorestatistichistrory/servicelevelLun",null,null).then(e=>{this.volumeThroughput=e,this.cdr.detectChanges()}),this.makePerformance.setChartSingle(300,"\u5377\u603b\u5e26\u5bbd(MB/s)","",["1125921381744643"],[this.selectedModel.id],e.range,"datastorestatistichistrory/servicelevelLun",null,null).then(e=>{this.volumeBandwidth=e,this.cdr.detectChanges()}),this.makePerformance.setChartSingle(300,"\u5b58\u50a8\u6c60I/O\u5bc6\u5ea6(IOPS/TB)","",["111"],[this.selectedModel.id],e.range,"datastorestatistichistrory/servicelevelLun",null,null).then(e=>{this.storagePoolDensity=e,this.cdr.detectChanges()})}))}syncStoragePolicy(){this.http.post("servicelevel/manualupdate",{}).subscribe(e=>{"200"==e.code?alert("\u540c\u6b65\u6210\u529f"):alert("\u540c\u6b65\u5931\u8d25")},e=>{console.error("ERROR",e),alert("\u540c\u6b65\u5931\u8d25")})}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(l.B),l.Ob(l.h),l.Ob(r.b),l.Ob(o.b))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-servicelevel"]],features:[l.Bb([n.a,o.b,o.e])],decls:30,vars:19,consts:[[1,"gh-btngroup-header"],[1,"gh-btngroup-left"],[1,"btn-group","btn-icon"],[1,"clr-row"],[1,"clr-col-8"],[1,"btn","btn-primary",2,"margin-left","10px",3,"click"],[1,"clr-col-4"],[2,"position","absolute","right","50px"],["type","search","name","name",2,"height","35px","width","200px",3,"ngModel","placeholder","input","ngModelChange"],["name","sort",2,"height","35px","margin-left","10px","margin-right","10px","width","150px",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-icon",3,"click"],["shape","angle-double down",3,"hidden"],["shape","angle-double up",3,"hidden"],["shape","refresh"],["class","clr-col-4",3,"clrDgItem",4,"ngFor","ngForOf"],[1,"modal",3,"clrModalOpen","clrModalSize","clrModalOpenChange"],[1,"modal-title"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","bottom-middle",3,"click"],[3,"value"],[1,"clr-col-4",3,"clrDgItem"],[1,"info-card",2,"margin-left","10px","margin-top","30px","height","300px"],[1,"info-card-header"],[1,"info-card-title",2,"cursor","pointer",3,"click"],[1,"info-card-content"],[1,"info-card-squre"],[1,"squre-per-box",3,"ngStyle"],[1,"squre-num"],[1,"gh-info-item"],[1,"gh-info-lable"],[1,"gh-info-value"],["class","gh-info-value",4,"ngIf"],[1,"modal-body"],["active",""],["clrTabLink",""],[4,"clrIfActive"],[1,"gh-info-head"],[1,"gh-info-wrap","clr-row"],[1,"gh-info-item","clr-col-4"],["class","gh-info-item clr-col-4",4,"ngIf"],[4,"ngIf"],[1,"radio","btn"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-1","checked","",3,"click"],["for","btn-demo-radio-1"],["shape","list","size","20"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-2",3,"click"],["for","btn-demo-radio-2"],["shape","dashboard","size","20"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-3",3,"click"],["for","btn-demo-radio-3"],["shape","radar","size","20"],[1,"radio","btn","merginLeft"],["shape","refresh","size","20",3,"click"],[3,"clrDgLoading","clrDgRefresh"],[3,"clrDgField"],[3,"hidden","clrDgField"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgItem"],[3,"hidden"],["clrSuccess","","clrLabeled","",3,"clrValue"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-4","checked","",3,"click"],["for","btn-demo-radio-4"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-5",3,"click"],["for","btn-demo-radio-5"],[3,"hidden",4,"ngIf"],[1,"clr-select-wrapper"],[1,"clr-select"],["value","1"],["value","2"],["value","3"],["value","4"],["echarts","",3,"options"],[1,"clr-select",3,"ngModel","ngModelChange","change"],["value","LAST_1_DAY"],["value","LAST_1_WEEK"],["value","LAST_1_MONTH"],["value","LAST_1_YEAR"],[3,"clrDgSelected","clrDgLoading","clrDgSelectedChange","clrDgRefresh"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Pb(1,"div",1),l.Pb(2,"div",2),l.Tb(),l.Ub(3,"div",3),l.Ub(4,"div",4),l.Ub(5,"button",5),l.cc("click",(function(){return t.syncStoragePolicy()})),l.Kc(6),l.hc(7,"translate"),l.Tb(),l.Tb(),l.Ub(8,"div",6),l.Ub(9,"div",7),l.Ub(10,"input",8),l.cc("input",(function(){return t.search()}))("ngModelChange",(function(e){return t.searchName=e})),l.hc(11,"translate"),l.Tb(),l.Ub(12,"select",9),l.cc("ngModelOptions",(function(){return t.sortItems}))("ngModelChange",(function(e){return t.sortItem=e}))("change",(function(){return t.sortItemsChange()})),l.Ic(13,g,3,4,"option",10),l.Tb(),l.Ub(14,"button",11),l.cc("click",(function(){return t.sortBtnClick()})),l.Pb(15,"clr-icon",12),l.Pb(16,"clr-icon",13),l.Tb(),l.Ub(17,"button",11),l.cc("click",(function(){return t.refresh()})),l.Pb(18,"clr-icon",14),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(19,"div",3),l.Ic(20,I,37,23,"div",15),l.Tb(),l.Ub(21,"clr-modal",16),l.cc("clrModalOpenChange",(function(e){return t.popShow=e})),l.Ub(22,"h3",17),l.Ub(23,"span"),l.Kc(24),l.Tb(),l.Tb(),l.Ic(25,Ue,32,18,"div",18),l.Ub(26,"div",19),l.Ub(27,"button",20),l.cc("click",(function(){return t.closeS()})),l.Kc(28),l.hc(29,"translate"),l.Tb(),l.Tb(),l.Tb()),2&e&&(l.Cb(6),l.Lc(l.ic(7,13,"menu.synSPolicy")),l.Cb(4),l.nc("placeholder",l.ic(11,15,"tier.namep")),l.mc("ngModel",t.searchName),l.Cb(2),l.mc("ngModel",t.sortItem),l.Cb(1),l.mc("ngForOf",t.sortItems),l.Cb(2),l.mc("hidden","asc"==t.sortUpDown.s),l.Cb(1),l.mc("hidden","desc"==t.sortUpDown.s),l.Cb(4),l.mc("ngForOf",t.serviceLevels),l.Cb(1),l.mc("clrModalOpen",t.popShow)("clrModalSize","lg"),l.Cb(3),l.Lc(t.selectedModel.name),l.Cb(1),l.mc("ngIf",t.popShow),l.Cb(3),l.Lc(l.ic(29,17,"menu.close")))},directives:[b.e,b.q,b.t,b.A,i.m,d.B,d.J,i.n,b.v,b.D,i.o,p.b,d.K,d.ab,d.ub,d.X,d.Z,d.mb,d.C,d.Y,d.H,d.m,d.qb,d.sb,d.lb,d.tb,d.o,d.pb,d.v,d.rb,d.n,d.nb,d.R,h.b],pipes:[u.c],styles:[".modal-body[_ngcontent-%COMP%], .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:500px}.modal-body[_ngcontent-%COMP%],   .modal-title-wrapper{width:100%}  .modal-footer{justify-content:center}  .modal-dialog.modal-lg{width:1080px}.modal-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.merginLeft[_ngcontent-%COMP%]{margin-left:10px;border-style:solid}.gh-btngroup-right[_ngcontent-%COMP%]{display:flex;justify-content:right;align-items:right}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}.flyover[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{top:0;left:0;position:fixed;width:100%;height:100%;opacity:.5;background:#000;z-index:1049}.flyover[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{left:50%;top:50%;position:fixed;z-index:1050}"]}),e})();class Pe{constructor(){this.range="LAST_1_DAY",this.interval="MINUTE"}}const Le=[{path:"",component:Ie}];let Me=(()=>{class e{}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)},imports:[[a.i.forChild(Le)],a.i]}),e})();var Ke=c("M0ag");let we=(()=>{class e{}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)},imports:[[i.c,Ke.a,Me]]}),e})()},tMGR:function(e,t,c){"use strict";c.d(t,"e",(function(){return n})),c.d(t,"a",(function(){return o})),c.d(t,"f",(function(){return l})),c.d(t,"d",(function(){return p})),c.d(t,"c",(function(){return h})),c.d(t,"b",(function(){return S}));var i=c("/Kh9"),a=c("fXoL"),s=c("tk/3");let n=(()=>{class e{constructor(e){this.http=e}getData(){return this.http.get("accessnfs/listnfs")}getChartData(e){return this.http.get("accessnfs/listnfsperformance",{params:{fsIds:e}})}addNfs(e={}){return console.log("addNfs"),console.log(e),this.http.post("operatenfs/createnfsdatastore",e)}updateNfs(e={}){return this.http.post("operatenfs/updatenfsdatastore",e)}mountNfs(e={}){return this.http.post("accessnfs/mountnfs",e)}delNfs(e){return this.http.post("accessnfs/delnfs",e)}getHostListByObjectId(e){return this.http.get("accessvmware/gethostsbydsobjectid",{params:{dataStoreObjectId:e}})}getHostList(){return this.http.get("accessvmware/listhost")}getClusterListByObjectId(e){return this.http.get("accessvmware/getclustersbydsobjectid",{params:{dataStoreObjectId:e}})}getVolsByObjId(e){return this.http.get("accessvmfs/volume/"+e)}getVmkernelListByObjectId(e){return this.http.get("accessvmware/getvmkernelipbyhostobjectid",{params:{hostObjectId:e}})}getNfsDetailById(e){return this.http.get("dmestorage/filesystemdetail",{params:{fileSystemId:e}})}changeCapacity(e={}){return this.http.post("operatenfs/changenfsdatastore",e)}getLineChartData(e,t={}){return this.http.post(e,t)}}return e.vmfsIOPS=["1125921381744648","1125921381744649"],e.vmfsBDWT=["1125921381744646","1125921381744647"],e.vmfsLatency=["1125921381744656","1125921381744657"],e.vmfsUrl="datastorestatistichistrory/vmfs",e.nfsOPS=["1125921381744648","1125921381744649"],e.nfsBDWT=["1125921381744646","1125921381744647"],e.nfsLatency=["1125921381744656","1125921381744657"],e.nfsUrl="datastorestatistichistrory/nfs",e.perRanges=[{key:"LAST_5_MINUTE",value:"\u6700\u8fd15\u5206\u949f"},{key:"LAST_1_HOUR",value:"\u6700\u8fd11\u5c0f\u65f6"},{key:"LAST_1_DAY",value:"\u6700\u8fd11\u5929"},{key:"LAST_1_WEEK",value:"\u6700\u8fd11\u5468"},{key:"LAST_1_MONTH",value:"\u6700\u8fd11\u4e2a\u6708"},{key:"LAST_1_QUARTER",value:"\u6700\u8fd11\u4e2a\u5b63\u5ea6"},{key:"HALF_1_YEAR",value:"\u6700\u8fd1\u534a\u5e74"},{key:"LAST_1_YEAR",value:"\u6700\u8fd11\u5e74"},{key:"BEGIN_END_TIME",value:"\u5f00\u59cb-\u7ed3\u675f\u65f6\u95f4"},{key:"INVALID",value:"\u65e0\u6548"}],e.\u0275fac=function(t){return new(t||e)(a.Yb(s.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();class o{constructor(){this.sameName=!0,this.advance=!1,this.qosFlag=!1,this.deduplicationEnabled=!1,this.compressionEnabled=!1,this.autoSizeEnable=!1,this.thin=!0}}class l{constructor(){this.sameName=!0}}class r{}class b{}class d{}class p{}class h{constructor(){this.capacity_autonegotiation=new r,this.tuning=new b,this.qos_policy=new d,this.sameName=!0,this.advance=!0,this.qosPolicy=!0}}class u{}class g{}class m{}class f{}class C{}class T{}class v{}class y{}class U{}class I{}class P{}class L{}class M{}class K{}class w{}class k{constructor(){this.show=!0}}let S=(()=>{class e{constructor(e,t,c){this.remoteSrv=e,this.cdr=t,this.gs=c}setChart(e,t,c,i,a,s,n,o,l){const r=this.getNewChart(e,t,c);return new Promise((e,b)=>{this.remoteSrv.getLineChartData(n,{indicator_ids:i,obj_ids:a,range:s,begin_time:o,end_time:l}).subscribe(s=>{if(console.log("chartData: ",t,s),"200"===s.code&&null!==s.data&&null!==s.data.data){const n=s.data;r.title.text=t,r.title.subtext=c;const o=n[a[0]][i[0]],l=n[a[0]][i[1]],b=this.getUpperOrLower(o,"upper");let d=this.getUpperOrLower(l,"lower");this.getUpperOrLower(o,"lower"),this.getUpperOrLower(l,"lower");const p=o.series,h=l.series,u=o.avg,g=l.avg;this.setXAxisData(p,r),r.yAxis.max=b>d?b:d,console.log("chart.yAxis.pmaxData",b),console.log("chart.yAxis.lmaxData",d),p.forEach(e=>{for(const t of Object.keys(e))r.series[2].data.push({value:Number(e[t]),symbol:"none"});for(const t of Object.keys(u))r.series[0].data.push({value:Number(u[t]),symbol:"none"})}),h.forEach(e=>{for(const t of Object.keys(e))r.series[3].data.push({value:Number(e[t]),symbol:"none"});for(const t of Object.keys(g))r.series[1].data.push({value:Number(g[t]),symbol:"none"})}),e(r)}else console.log("get chartData fail: ",s.description)})})}setChartSingle(e,t,c,i,a,s,n,o,l){const r=this.getNewChartSingle(e,t,c);return new Promise((e,b)=>{this.remoteSrv.getLineChartData(n,{indicator_ids:i,obj_ids:a,range:s,begin_time:o,end_time:l}).subscribe(s=>{if(console.log("chartData: ",t,s),r.title.text=t,r.title.subtext=c,"200"===s.code&&null!==s.data&&null!==s.data.data){let e=s.data;s.data.data&&(e=s.data.data);const t=e[a[0]][i[0]].series;this.setXAxisData(t,r),t.forEach(e=>{for(const t of Object.keys(e))r.series[0].data.push({value:Number(e[t]),symbol:"none"})})}else console.log("get chartData fail: ",s.description);e(r)})})}getNewChart(e,t,c){const i=new u;i.height=e;const a=new g;a.text=t,a.subtext=c,a.textAlign="bottom";const s=new m;s.fontStyle="normal",a.textStyle=s,i.title=a;const n=new f;n.type="category",n.boundaryGap=!1,n.data=[],i.xAxis=n;const o=new C;o.type="value",o.min=0,o.splitNumber=2,o.boundaryGap=["50%","50%"];const l=new v;l.show=!1,o.axisLine=l;const r=new T;r.show=!0;const b=new w;b.type="dashed",r.lineStyle=b,o.splitLine=r,i.yAxis=o;const d=new y;d.trigger="axis",d.formatter="{b} <br/> {a0}: {c0}<br/>{a1}: {c1}<br/>{a2}: {c2}<br/>{a3}: {c3}";const p=new U;p.axis="x",p.type="line",d.axisPointer=p,i.tooltip=d;const h=new I,P=[];P.push(this.setLengdData("Upper Limit","line")),P.push(this.setLengdData("Lower Limit","line")),P.push(this.setLengdData("Read","circle")),P.push(this.setLengdData("Write","circle")),h.x="right",h.y="top",h.selectedMode=!0,h.data=P,i.legend=h,i.color=["#DB2000","#F8E082","#6870c4","#01bfa8"];const L=[];return L.push(this.setSerieData("Upper Limit","line",!0,"dotted","#DB2000",null)),L.push(this.setSerieData("Lower Limit","line",!0,"dotted","#F8E082",null)),L.push(this.setSerieData("Read","line",!0,"solid","#6870c4",null)),L.push(this.setSerieData("Write","line",!0,"solid","#01bfa8",null)),i.series=L,i}getNewChartSingle(e,t,c){const i=new u;i.height=e;const a=new g;a.text=t,a.subtext=c,a.textAlign="bottom";const s=new m;s.fontStyle="normal",a.textStyle=s,i.title=a;const n=new f;n.type="category",n.boundaryGap=!1,n.data=[],i.xAxis=n;const o=new C;o.type="value",o.min=0,o.splitNumber=2,o.boundaryGap=["50%","50%"];const l=new v;l.show=!1,o.axisLine=l;const r=new T;r.show=!0;const b=new w;b.type="dashed",r.lineStyle=b,o.splitLine=r,i.yAxis=o;const d=new y;d.trigger="axis",d.formatter="{b} <br/> {a0}: {c0}";const p=new U;p.axis="x",p.type="line",d.axisPointer=p,i.tooltip=d,i.color=["#DB2000"];const h=[];return h.push(this.setSerieData("\u5377\u6700\u5927I/O\u76f8\u5e94\u65f6\u95f4","line",!0,"dotted","#DB2000",null)),i.series=h,i}setSerieData(e,t,c,i,a,s){const n=new L;n.name=e,n.type=t,n.data=[],n.smooth=c;const o=new M,l=new K,r=new w;r.color=a,r.type=i,r.width=2,l.lineStyle=r,o.normal=l,n.itemStyle=o;const b=new k;return b.formatter=s,b.show=!0,n.label=b,n}setLengdData(e,t){const c=new P;return c.name=e,null!==t&&(c.icon=t),c}setXAxisData(e,t){console.log("data",e),e.forEach(e=>{for(const c of Object.keys(e)){const e=new Date(+c),i=e.getFullYear()+"-"+e.getMonth()+"-"+e.getDay()+" "+e.getHours()+":"+e.getMinutes();t.xAxis.data.push(i)}})}getUpperOrLower(e,t){let c;if("lower"===t)for(const i of Object.keys(e.max))c=Number(e.max[i]);else for(const i of Object.keys(e.max))c=Number(e.min[i]);return c}getVolsByObjId(e,t,c,i,a){console.log("objectId: "+e),this.remoteSrv.getVolsByObjId(e).subscribe(e=>{if(console.log(e),"200"===e.code){const c=[];(t=e.data).forEach(e=>{c.push(e.name)}),this.getVolByName(c[0],t),this.cdr.detectChanges()}else console.log(e.description)})}getVolByName(e,t){return t.filter(t=>t.name===e)[0]}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(n),a.Yb(a.h),a.Yb(i.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})()}}]);