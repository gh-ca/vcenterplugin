(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Pao6:function(e,t,c){"use strict";c.r(t),c.d(t,"VmfsModule",(function(){return kc}));var o=c("PCNd"),n=c("tyNb"),i=c("FX80"),r=c("/Kh9"),a=c("fXoL"),l=c("8MG2"),s=c("ofXK"),b=c("3Pt+"),d=c("znSr"),m=c("sYmb");const h=["wizard"],u=["addPageOne"],g=["addPageTwo"];function p(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",99),a.cc("click",(function(){return a.zc(e),a.gc(2).changeServiceLevelBtnFunc()})),a.Kc(1),a.hc(2,"translate"),a.Tb()}2&e&&(a.Cb(1),a.Lc(a.ic(2,1,"menu.changeServiceLevel")))}function f(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-dropdown-menu"),a.Ub(1,"div",95),a.cc("click",(function(){return a.zc(e),a.gc().reclaimBtnClick()})),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Pb(4,"div",96),a.Ic(5,p,3,3,"div",97),a.Pb(6,"div",96),a.Ub(7,"div",98),a.cc("click",(function(){return a.zc(e),a.gc().mountBtnFunc()})),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Ub(10,"div",98),a.cc("click",(function(){return a.zc(e),a.gc().unmountBtnFunc()})),a.Kc(11),a.hc(12,"translate"),a.Tb(),a.Pb(13,"div",96),a.Ub(14,"div",98),a.cc("click",(function(){return a.zc(e),a.gc().delBtnClickFUnc()})),a.Kc(15),a.hc(16,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(1),a.mc("disabled",e.rowSelected.length<1),a.Cb(1),a.Lc(a.ic(3,9,"menu.reclaim")),a.Cb(3),a.mc("ngIf",1===e.rowSelected.length&&""!==e.rowSelected[0].serviceLevelName&&null!==e.rowSelected[0].serviceLevelName),a.Cb(2),a.mc("disabled",1!==e.rowSelected.length),a.Cb(1),a.Lc(a.ic(9,11,"menu.mount")),a.Cb(2),a.mc("disabled",1!==e.rowSelected.length),a.Cb(1),a.Lc(a.ic(12,13,"menu.unmount")),a.Cb(3),a.mc("disabled",e.rowSelected.length<1),a.Cb(1),a.Lc(a.ic(16,15,"menu.del"))}}function C(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-dg-row",100),a.Ub(1,"clr-dg-cell",101),a.cc("click",(function(){a.zc(e);const c=t.$implicit;return a.gc().navigateTo(c.objectid)})),a.Kc(2),a.Tb(),a.Ub(3,"clr-dg-cell",102),a.Kc(4),a.Tb(),a.Ub(5,"clr-dg-cell",102),a.Kc(6),a.Tb(),a.Ub(7,"clr-dg-cell",102),a.Kc(8),a.Tb(),a.Ub(9,"clr-dg-cell",102),a.Kc(10),a.Tb(),a.Ub(11,"clr-dg-cell",28),a.Kc(12),a.Tb(),a.Ub(13,"clr-dg-cell",28),a.Kc(14),a.Tb(),a.Ub(15,"clr-dg-cell",28),a.Kc(16),a.Tb(),a.Ub(17,"clr-dg-cell",28),a.Pb(18,"clr-progress-bar",103),a.Tb(),a.Ub(19,"clr-dg-cell",28),a.Kc(20),a.Tb(),a.Ub(21,"clr-dg-cell",28),a.Kc(22),a.Tb(),a.Ub(23,"clr-dg-cell",28),a.Kc(24),a.Tb(),a.Ub(25,"clr-dg-cell",28),a.Kc(26),a.Tb(),a.Ub(27,"clr-dg-cell",28),a.Kc(28),a.Tb(),a.Ub(29,"clr-dg-cell",28),a.Kc(30),a.Tb(),a.Ub(31,"clr-dg-cell",28),a.Kc(32),a.hc(33,"translate"),a.hc(34,"translate"),a.Tb(),a.Ub(35,"clr-dg-cell",28),a.Kc(36),a.Tb(),a.Ub(37,"clr-dg-cell",28),a.Kc(38),a.hc(39,"translate"),a.hc(40,"translate"),a.Tb(),a.Ub(41,"clr-dg-cell",28),a.Kc(42),a.Tb(),a.Ub(43,"clr-dg-cell",28),a.Kc(44),a.Tb(),a.Ub(45,"clr-dg-cell",28),a.Kc(46),a.Tb(),a.Ub(47,"clr-dg-cell",28),a.Kc(48),a.hc(49,"translate"),a.Tb(),a.Tb()}if(2&e){const e=t.$implicit,c=a.gc();a.mc("clrDgSelectable",!1)("clrDgItem",e),a.Cb(2),a.Lc(e.name),a.Cb(2),a.Lc(e.volumeId),a.Cb(2),a.Lc(e.wwn),a.Cb(2),a.Lc(e.volumeName),a.Cb(2),a.Lc(e.objectid),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(e.status),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(c.formatCapacity(e.capacity,!0)),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(c.formatCapacity(e.capacity-e.freeSpace,!0)),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.nc("clrValue",((e.capacity-e.freeSpace)/e.capacity*100).toFixed(2)),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(c.formatCapacity(e.freeSpace,!0)),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(c.formatCapacity(e.reserveCapacity,!0)),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(e.device),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(e.serviceLevelName),a.Cb(1),a.mc("hidden","list"!==c.radioCheck),a.Cb(1),a.Lc(e.vmfsProtected?"\u4fdd\u62a4":"\u672a\u4fdd\u62a4"),a.Cb(1),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(e.iops),a.Cb(1),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(a.ic(33,41,"vmfs.upper")+" "+(e.maxIops||"--")+" | "+a.ic(34,43,"vmfs.lower")+" "+(e.minIops||"--")),a.Cb(3),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(e.bandwidth),a.Cb(1),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(a.ic(39,45,"vmfs.upper")+" "+(e.maxBandwidth||"--")+" | "+a.ic(40,47,"vmfs.lower")+" "+(e.minBandwidth||"--")),a.Cb(3),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(e.readResponseTime),a.Cb(1),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(e.writeResponseTime),a.Cb(1),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(e.latency),a.Cb(1),a.mc("hidden","chart"!==c.radioCheck),a.Cb(1),a.Lc(a.ic(49,49,"vmfs.lower")+" "+(e.latency||"--"))}}function v(e,t){1&e&&(a.Ub(0,"div",104),a.Ub(1,"span"),a.Kc(2),a.hc(3,"translate"),a.Pb(4,"img",105),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Mc(" ",a.ic(3,1,"vmfs.loadingTips"),""))}function T(e,t){1&e&&(a.Kc(0),a.hc(1,"translate")),2&e&&a.Lc(a.ic(1,1,"vmfs.datastoreSetting"))}function y(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-input-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"input",106),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.volumeName=t})),a.Tb(),a.Ub(5,"clr-control-error"),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,3,"vmfs.volumeName")),a.Cb(2),a.mc("ngModel",e.form.volumeName),a.Cb(2),a.Lc(a.ic(7,5,"validations.required"))}}function U(e,t){if(1&e&&(a.Ub(0,"option",107),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.key),a.Cb(1),a.Lc(e.value)}}function w(e,t){if(1&e&&(a.Ub(0,"option",107),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.key),a.Cb(1),a.Lc(e.value)}}function M(e,t){1&e&&a.Pb(0,"clr-icon",113)}function L(e,t){1&e&&a.Pb(0,"clr-icon",114)}function I(e,t){if(1&e&&(a.Ub(0,"clr-option",110),a.Ic(1,M,1,0,"clr-icon",111),a.Ic(2,L,1,0,"clr-icon",112),a.Kc(3),a.Tb()),2&e){const e=t.$implicit;a.mc("clrValue",e),a.Cb(1),a.mc("ngIf",""!==e.deviceName&&"host"===e.deviceType),a.Cb(1),a.mc("ngIf",""!==e.deviceName&&"host"!==e.deviceType),a.Cb(1),a.Mc(" ",e.deviceName," ")}}function x(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-combobox",108),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().chooseDevice=t})),a.Ub(1,"clr-options"),a.Ic(2,I,4,4,"clr-option",109),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.mc("ngModel",e.chooseDevice),a.Cb(2),a.mc("clrOptionItemsOf",e.deviceList)("clrOptionItemsField","deviceName")}}function S(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-wizard-button",115),a.Kc(1),a.hc(2,"translate"),a.Tb(),a.Ub(3,"clr-wizard-button",116),a.cc("click",(function(){return a.zc(e),a.gc().addNextPage()})),a.Kc(4),a.hc(5,"translate"),a.Tb()}2&e&&(a.mc("type","cancel"),a.Cb(1),a.Lc(a.ic(2,4,"menu.cancel")),a.Cb(2),a.mc("type","custom-next"),a.Cb(1),a.Lc(a.ic(5,6,"menu.next")))}function O(e,t){1&e&&(a.Kc(0),a.hc(1,"translate")),2&e&&a.Mc(" ",a.ic(1,1,"vmfs.storageSetting")," ")}const P=function(e){return{"tabs-btn_active":e}};function F(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",117),a.Ub(1,"span"),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"span",118),a.Ub(5,"span",119),a.cc("click",(function(){return a.zc(e),a.gc().serviceLevelBtnFunc()})),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ub(8,"span",119),a.cc("click",(function(){return a.zc(e),a.gc().customerClickFunc()})),a.Kc(9),a.hc(10,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,5,"vmfs.storageSetting")),a.Cb(3),a.mc("ngClass",a.qc(11,P,"level"===e.levelCheck)),a.Cb(1),a.Lc(a.ic(7,7,"vmfs.byServiceLevel")),a.Cb(2),a.mc("ngClass",a.qc(13,P,"customer"===e.levelCheck)),a.Cb(1),a.Lc(a.ic(10,9,"vmfs.customer"))}}function k(e,t){1&e&&(a.Ub(0,"div",120),a.Pb(1,"clr-icon",59),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.serviceLevelCantBeNull")))}function K(e,t){1&e&&(a.Ub(0,"div",120),a.Pb(1,"clr-icon",59),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.add.errorTips")))}function _(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-accordion-title",127),a.cc("click",(function(){a.zc(e);const t=a.gc().$implicit,c=a.gc(2);return t.show?c.hidden:c.show})),a.Kc(1),a.Tb()}if(2&e){const e=a.gc().$implicit;a.Cb(1),a.Lc(e.name)}}function D(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," <= ",e.capabilities.qos.qosParam.maxBandWidth,"MBPS/TB")}}function q(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," >= ",e.capabilities.qos.qosParam.minBandWidth,"MBPS/TB")}}function z(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," <= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function B(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," >= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function N(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function V(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function j(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Mc("Latency: ",e.capabilities.qos.qosParam.latency+e.capabilities.qos.qosParam.latencyUnit,"")}}function H(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function R(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-accordion-panel",122),a.Ic(1,_,2,1,"clr-accordion-title",123),a.Ub(2,"clr-accordion-content",124),a.cc("clrIfExpandedChange",(function(c){return a.zc(e),t.$implicit.show=c})),a.Ub(3,"table",125),a.Ub(4,"tbody"),a.Ub(5,"tr"),a.Pb(6,"th",102),a.Ub(7,"th"),a.Kc(8),a.Tb(),a.Tb(),a.Ub(9,"tr"),a.Pb(10,"th",102),a.Ub(11,"td"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Ub(14,"td"),a.Kc(15),a.hc(16,"translate"),a.Tb(),a.Ub(17,"td"),a.Kc(18),a.hc(19,"translate"),a.Tb(),a.Tb(),a.Ub(20,"tr"),a.Pb(21,"th",102),a.Ub(22,"th"),a.Pb(23,"clr-progress-bar",103),a.Tb(),a.Ic(24,D,3,4,"th",46),a.Ic(25,q,3,4,"th",46),a.Ic(26,z,3,4,"th",46),a.Ic(27,B,3,4,"th",46),a.Ic(28,N,2,0,"th",46),a.Ic(29,V,2,0,"th",46),a.Tb(),a.Ub(30,"tr"),a.Pb(31,"th",102),a.Ub(32,"th"),a.Kc(33),a.Tb(),a.Ic(34,j,2,1,"th",46),a.Ic(35,H,2,0,"th",46),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(36,"img",126),a.Tb()}if(2&e){const e=t.$implicit,c=a.gc(2);a.Cb(1),a.mc("ngIf",!e.show),a.Cb(1),a.mc("clrIfExpanded",e.show),a.Cb(6),a.Mc(" ",e.name," "),a.Cb(4),a.Lc(a.ic(13,17,"vmfs.capacityUsage")),a.Cb(3),a.Lc(a.ic(16,19,"vmfs.qos")),a.Cb(3),a.Lc(a.ic(19,21,"vmfs.protection")),a.Cb(5),a.nc("clrValue",(e.usedCapacity/e.totalCapacity*100||0).toFixed(2)),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxIOPS),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minIOPS),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.maxBandWidth&&0===e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.minIOPS&&0===e.capabilities.qos.qosParam.maxIOPS),a.Cb(4),a.Nc("",c.formatCapacity(e.usedCapacity,!1)," /",c.formatCapacity(e.totalCapacity,!1),""),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.latency),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.latency)}}function E(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"clr-accordion"),a.Ic(2,R,37,23,"clr-accordion-panel",121),a.Tb(),a.Rb()),2&e){const e=a.gc();a.Cb(2),a.mc("ngForOf",e.serviceLevelList)}}function W(e,t){if(1&e&&(a.Ub(0,"option",107),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.id),a.Cb(1),a.Lc(e.name)}}function $(e,t){if(1&e&&(a.Ub(0,"option",107),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.poolId),a.Cb(1),a.Lc(e.name)}}function A(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",135),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",136),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.maxbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxbandwidth=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","maxbandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.form.maxbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.form.maxbandwidthChoose)("ngModel",e.form.maxbandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function G(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",137),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxiopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",138),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.maxiopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxiops=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","maxiops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(3),a.mc("ngModel",e.form.maxiopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.form.maxiopsChoose)("ngModel",e.form.maxiops)}}function Y(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",139),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.minbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",140),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.minbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.minbandwidth=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","minbandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.form.minbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.form.minbandwidthChoose)("ngModel",e.form.minbandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function Q(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",139),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.miniopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",141),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.miniopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.miniops=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","miniops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(3),a.mc("ngModel",e.form.miniopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.form.miniopsChoose)("ngModel",e.form.miniops)}}function X(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",142),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.latencyChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",143),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.latencyChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.latency=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","latency")})),a.Tb(),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(3),a.mc("ngModel",e.form.latencyChoose),a.Cb(2),a.Mc(" ",a.ic(6,5,"vmfs.latencyMax")," "),a.Cb(2),a.mc("readOnly",!e.form.latencyChoose)("ngModel",e.form.latency),a.Cb(1),a.Mc("",a.ic(9,7,"vmfs.latencyUnit")," ")}}function J(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"clr-input-container"),a.Ub(2,"label"),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Tb(),a.Ub(5,"clr-select-container"),a.Ub(6,"label",42),a.Kc(7),a.hc(8,"translate"),a.Tb(),a.Ub(9,"select",128),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.storage_id=t}))("ngModelChange",(function(){return a.zc(e),a.gc().getStoragePoolsByStorId()})),a.Ic(10,W,2,2,"option",61),a.Tb(),a.Ub(11,"clr-control-error"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Tb(),a.Ub(14,"clr-select-container"),a.Ub(15,"label",42),a.Kc(16),a.hc(17,"translate"),a.Tb(),a.Ub(18,"select",129),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.pool_raw_id=t})),a.Ic(19,$,2,2,"option",61),a.Tb(),a.Ub(20,"clr-control-error"),a.Kc(21),a.hc(22,"translate"),a.Tb(),a.Tb(),a.Ub(23,"clr-input-container"),a.Ub(24,"label"),a.Kc(25),a.hc(26,"translate"),a.Tb(),a.Tb(),a.Ub(27,"clr-radio-container",85),a.Ub(28,"label",42),a.Kc(29),a.hc(30,"translate"),a.Tb(),a.Ub(31,"clr-radio-wrapper"),a.Ub(32,"input",130),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.control_policy=t})),a.Tb(),a.Ub(33,"label"),a.Kc(34),a.hc(35,"translate"),a.Tb(),a.Tb(),a.Ub(36,"clr-radio-wrapper"),a.Ub(37,"input",131),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.control_policy=t})),a.Tb(),a.Ub(38,"label"),a.Kc(39),a.hc(40,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(41,A,12,12,"clr-checkbox-container",46),a.Ic(42,G,8,6,"clr-checkbox-container",46),a.Ic(43,Y,12,12,"clr-checkbox-container",46),a.Ic(44,Q,8,6,"clr-checkbox-container",46),a.Ic(45,X,10,9,"clr-checkbox-container",46),a.Ub(46,"clr-input-container"),a.Ub(47,"label"),a.Kc(48),a.hc(49,"translate"),a.Tb(),a.Tb(),a.Ub(50,"clr-select-container"),a.Ub(51,"label",42),a.Kc(52),a.hc(53,"translate"),a.Tb(),a.Ub(54,"select",132),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.alloctype=t})),a.Ub(55,"option",133),a.Kc(56,"thin"),a.Tb(),a.Ub(57,"option",134),a.Kc(58,"thick"),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=a.gc();a.Cb(3),a.Lc(a.ic(4,23,"vmfs.basicInformation")),a.Cb(4),a.Lc(a.ic(8,25,"vmfs.storageDevice")),a.Cb(2),a.mc("ngModel",e.form.storage_id),a.Cb(1),a.mc("ngForOf",e.storageList),a.Cb(2),a.Lc(a.ic(13,27,"validations.required")),a.Cb(4),a.Lc(a.ic(17,29,"vmfs.storagePool")),a.Cb(2),a.mc("ngModel",e.form.pool_raw_id),a.Cb(1),a.mc("ngForOf",e.storagePoolList),a.Cb(2),a.Lc(a.ic(22,31,"validations.required")),a.Cb(4),a.Lc(a.ic(26,33,"vmfs.qosPolicy")),a.Cb(4),a.Lc(a.ic(30,35,"vmfs.controlPolicy")),a.Cb(3),a.mc("ngModel",e.form.control_policy),a.Cb(2),a.Lc(a.ic(35,37,"vmfs.upperLimitControl")),a.Cb(3),a.mc("ngModel",e.form.control_policy),a.Cb(2),a.Lc(a.ic(40,39,"vmfs.lowerLimitControl")),a.Cb(2),a.mc("ngIf","1"===e.form.control_policy),a.Cb(1),a.mc("ngIf","1"===e.form.control_policy),a.Cb(1),a.mc("ngIf","0"===e.form.control_policy),a.Cb(1),a.mc("ngIf","0"===e.form.control_policy),a.Cb(1),a.mc("ngIf","0"===e.form.control_policy),a.Cb(3),a.Lc(a.ic(49,41,"vmfs.resourceTuning")),a.Cb(4),a.Lc(a.ic(53,43,"vmfs.provisioningType")),a.Cb(2),a.mc("ngModel",e.form.alloctype)}}function Z(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-wizard-button",115),a.Kc(1),a.hc(2,"translate"),a.Tb(),a.Ub(3,"clr-wizard-button",115),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"clr-wizard-button",116),a.cc("click",(function(){return a.zc(e),a.gc().addVmfsHanlde()})),a.Kc(7),a.hc(8,"translate"),a.Tb()}2&e&&(a.mc("type","cancel"),a.Cb(1),a.Lc(a.ic(2,6,"menu.cancel")),a.Cb(2),a.mc("type","previous"),a.Cb(1),a.Lc(a.ic(5,8,"menu.previous")),a.Cb(2),a.mc("type","custom-finish"),a.Cb(1),a.Lc(a.ic(8,10,"menu.ok")))}function ee(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-radio-container",85),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-radio-wrapper"),a.Ub(5,"input",144),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.control_policy=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Tb(),a.Tb(),a.Ub(9,"clr-radio-wrapper"),a.Ub(10,"input",145),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.control_policy=t})),a.Tb(),a.Ub(11,"label"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,5,"vmfs.controlPolicy")),a.Cb(3),a.mc("ngModel",e.modifyForm.control_policy),a.Cb(2),a.Lc(a.ic(8,7,"vmfs.upperLimitControl")),a.Cb(3),a.mc("ngModel",e.modifyForm.control_policy),a.Cb(2),a.Lc(a.ic(13,9,"vmfs.lowerLimitControl"))}}function te(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",135),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.maxbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",146),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.maxbandwidthChoose=t)}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","max_bandwidth")}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.max_bandwidth=t})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.modifyForm.maxbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.maxbandwidthChoose)("ngModel",e.modifyForm.max_bandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function ce(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",137),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.maxiopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",147),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.maxiopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.max_iops=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","max_iops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.mc("ngModel",e.modifyForm.maxiopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.maxiopsChoose)("ngModel",e.modifyForm.max_iops)}}function oe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",139),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.minbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",148),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.minbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.min_bandwidth=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","min_bandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.modifyForm.minbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.minbandwidthChoose)("ngModel",e.modifyForm.min_bandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function ne(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",149),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.miniopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",150),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.miniopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.min_iops=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","min_iops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.mc("ngModel",e.modifyForm.miniopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.miniopsChoose)("ngModel",e.modifyForm.min_iops)}}function ie(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",142),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.latencyChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",143),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.latencyChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.latency=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","latency")})),a.Tb(),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.mc("ngModel",e.modifyForm.latencyChoose),a.Cb(2),a.Mc(" ",a.ic(6,5,"vmfs.latencyMax")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.latencyChoose)("ngModel",e.modifyForm.latency),a.Cb(1),a.Mc("",a.ic(9,7,"vmfs.latencyUnit")," ")}}function re(e,t){1&e&&a.Pb(0,"clr-icon",153)}function ae(e,t){if(1&e&&(a.Ub(0,"clr-option",110),a.Ic(1,re,1,0,"clr-icon",152),a.Kc(2),a.Tb()),2&e){const e=t.$implicit;a.mc("clrValue",e),a.Cb(1),a.mc("ngIf",""!==e.hostName),a.Cb(1),a.Mc("",e.hostName," ")}}function le(e,t){if(1&e&&(a.Ub(0,"clr-options"),a.Ic(1,ae,3,3,"clr-option",109),a.Tb()),2&e){const e=a.gc(3);a.Cb(1),a.mc("clrOptionItemsOf",e.hostList)("clrOptionItemsField","hostName")}}function se(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-combobox-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-combobox",151),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).chooseHost=t})),a.Ic(5,le,2,2,"clr-options",46),a.Tb(),a.Ub(6,"clr-control-helper"),a.Pb(7,"clr-icon",67),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(2),a.Lc(a.ic(3,4,"vmfs.mount.host")),a.Cb(2),a.mc("ngModel",e.chooseHost),a.Cb(1),a.mc("ngIf",e.mountHostData),a.Cb(3),a.Lc(a.ic(9,6,"validations.comboboxTips"))}}function be(e,t){1&e&&a.Pb(0,"clr-icon",153)}function de(e,t){if(1&e&&(a.Ub(0,"clr-option",110),a.Ic(1,be,1,0,"clr-icon",152),a.Kc(2),a.Tb()),2&e){const e=t.$implicit;a.mc("clrValue",e),a.Cb(1),a.mc("ngIf",""!==e.clusterName),a.Cb(1),a.Mc("",e.clusterName," ")}}function me(e,t){if(1&e&&(a.Ub(0,"clr-options"),a.Ic(1,de,3,3,"clr-option",109),a.Tb()),2&e){const e=a.gc(3);a.Cb(1),a.mc("clrOptionItemsOf",e.clusterList)("clrOptionItemsField","clusterName")}}function he(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-combobox-container"),a.Ub(1,"label",42),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-combobox",154),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).chooseCluster=t})),a.Ic(5,me,2,2,"clr-options",46),a.Tb(),a.Ub(6,"clr-control-helper"),a.Pb(7,"clr-icon",67),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(2),a.Lc(a.ic(3,4,"vmfs.mount.cluster")),a.Cb(2),a.mc("ngModel",e.chooseCluster),a.Cb(1),a.mc("ngIf",e.mountClusterData),a.Cb(3),a.Lc(a.ic(9,6,"validations.comboboxTips"))}}function ue(e,t){if(1&e){const e=a.Vb();a.Ub(0,"form",40),a.Ub(1,"clr-radio-container",85),a.Ub(2,"label",86),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ub(5,"clr-radio-wrapper"),a.Ub(6,"input",87),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().mountForm.mountType=t})),a.Tb(),a.Ub(7,"label"),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Ub(10,"clr-radio-wrapper"),a.Ub(11,"input",88),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().mountForm.mountType=t})),a.Tb(),a.Ub(12,"label"),a.Kc(13),a.hc(14,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(15,se,10,8,"clr-combobox-container",46),a.Ic(16,he,10,8,"clr-combobox-container",46),a.Ub(17,"div",78),a.Ub(18,"button",79),a.cc("click",(function(){return a.zc(e),a.gc().mountShow=!1})),a.Kc(19),a.hc(20,"translate"),a.Tb(),a.Ub(21,"button",83),a.cc("click",(function(){return a.zc(e),a.gc().mountSubmit()})),a.Kc(22),a.hc(23,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.Lc(a.ic(4,9,"vmfs.hostOrCluster")),a.Cb(3),a.mc("ngModel",e.mountForm.mountType),a.Cb(2),a.Lc(a.ic(9,11,"vmfs.mount.host")),a.Cb(3),a.mc("ngModel",e.mountForm.mountType),a.Cb(2),a.Lc(a.ic(14,13,"vmfs.mount.cluster")),a.Cb(2),a.mc("ngIf","1"===e.mountForm.mountType),a.Cb(1),a.mc("ngIf","2"===e.mountForm.mountType),a.Cb(3),a.Lc(a.ic(20,15,"menu.cancel")),a.Cb(3),a.Lc(a.ic(23,17,"menu.ok"))}}function ge(e,t){1&e&&(a.Ub(0,"div",120),a.Pb(1,"clr-icon",59),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.unmount.notChooseDeviceTips")))}function pe(e,t){if(1&e&&(a.Ub(0,"clr-dg-row",157),a.Ub(1,"clr-dg-cell",102),a.Kc(2),a.Tb(),a.Ub(3,"clr-dg-cell"),a.Kc(4),a.Tb(),a.Ub(5,"clr-dg-cell"),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.mc("clrDgItem",e),a.Cb(2),a.Lc(e.deviceId),a.Cb(2),a.Lc(e.deviceName),a.Cb(2),a.Lc(a.ic(7,4,"vmfs.host"))}}function fe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-datagrid",155),a.cc("clrDgSingleSelectedChange",(function(t){return a.zc(e),a.gc().chooseUnmountHost=t})),a.Pb(1,"clr-dg-column",102),a.Ub(2,"clr-dg-column",19),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ub(5,"clr-dg-column",19),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ic(8,pe,8,6,"clr-dg-row",156),a.Tb()}if(2&e){const e=a.gc();a.mc("clrDgSingleSelected",e.chooseUnmountHost)("clrDgLoading",e.isLoading),a.Cb(2),a.mc("clrDgField","name"),a.Cb(1),a.Lc(a.ic(4,7,"vmfs.name")),a.Cb(2),a.mc("clrDgField","type"),a.Cb(1),a.Lc(a.ic(7,9,"vmfs.type")),a.Cb(2),a.mc("clrDgItemsOf",e.mountedHost)}}function Ce(e,t){if(1&e&&(a.Ub(0,"clr-dg-row",157),a.Ub(1,"clr-dg-cell",102),a.Kc(2),a.Tb(),a.Ub(3,"clr-dg-cell"),a.Kc(4),a.Tb(),a.Ub(5,"clr-dg-cell"),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.mc("clrDgItem",e),a.Cb(2),a.Lc(e.deviceId),a.Cb(2),a.Lc(e.deviceName),a.Cb(2),a.Lc(a.ic(7,4,"vmfs.cluster"))}}function ve(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-datagrid",155),a.cc("clrDgSingleSelectedChange",(function(t){return a.zc(e),a.gc().chooseUnmountCluster=t})),a.Pb(1,"clr-dg-column",102),a.Ub(2,"clr-dg-column",19),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ub(5,"clr-dg-column",19),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ic(8,Ce,8,6,"clr-dg-row",156),a.Tb()}if(2&e){const e=a.gc();a.mc("clrDgSingleSelected",e.chooseUnmountCluster)("clrDgLoading",e.isLoading),a.Cb(2),a.mc("clrDgField","name"),a.Cb(1),a.Lc(a.ic(4,7,"vmfs.name")),a.Cb(2),a.mc("clrDgField","type"),a.Cb(1),a.Lc(a.ic(7,9,"vmfs.type")),a.Cb(2),a.mc("clrDgItemsOf",e.mountedCluster)}}function Te(e,t){1&e&&(a.Ub(0,"div",120),a.Pb(1,"clr-icon",59),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.serviceLevelCantBeNull")))}function ye(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," <= ",e.capabilities.qos.qosParam.maxBandWidth,"MBPS/TB")}}function Ue(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," >= ",e.capabilities.qos.qosParam.minBandWidth,"MBPS/TB")}}function we(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," <= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function Me(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," >= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function Le(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function Ie(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function xe(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Mc("Latency: ",e.capabilities.qos.qosParam.latency+e.capabilities.qos.qosParam.latencyUnit,"")}}function Se(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function Oe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-accordion-panel",122),a.Ub(1,"clr-accordion-title",158),a.Kc(2),a.Tb(),a.Ub(3,"clr-accordion-content",124),a.cc("clrIfExpandedChange",(function(c){return a.zc(e),t.$implicit.show=c})),a.Ub(4,"table",125),a.Ub(5,"tbody"),a.Ub(6,"tr"),a.Pb(7,"th",102),a.Ub(8,"th"),a.Kc(9),a.Tb(),a.Tb(),a.Ub(10,"tr"),a.Pb(11,"th",102),a.Ub(12,"td"),a.Kc(13),a.hc(14,"translate"),a.Tb(),a.Ub(15,"td"),a.Kc(16),a.hc(17,"translate"),a.Tb(),a.Ub(18,"td"),a.Kc(19),a.hc(20,"translate"),a.Tb(),a.Tb(),a.Ub(21,"tr"),a.Pb(22,"th",102),a.Ub(23,"th"),a.Pb(24,"clr-progress-bar",103),a.Tb(),a.Ic(25,ye,3,4,"th",46),a.Ic(26,Ue,3,4,"th",46),a.Ic(27,we,3,4,"th",46),a.Ic(28,Me,3,4,"th",46),a.Ic(29,Le,2,0,"th",46),a.Ic(30,Ie,2,0,"th",46),a.Tb(),a.Ub(31,"tr"),a.Pb(32,"th",102),a.Ub(33,"th"),a.Kc(34),a.Tb(),a.Ic(35,xe,2,1,"th",46),a.Ic(36,Se,2,0,"th",46),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(37,"img",126),a.Tb()}if(2&e){const e=t.$implicit,c=a.gc(2);a.Cb(2),a.Lc(e.name),a.Cb(1),a.mc("clrIfExpanded",e.show),a.Cb(6),a.Mc(" ",e.name," "),a.Cb(4),a.Lc(a.ic(14,17,"vmfs.capacityUsage")),a.Cb(3),a.Lc(a.ic(17,19,"vmfs.qos")),a.Cb(3),a.Lc(a.ic(20,21,"vmfs.protection")),a.Cb(5),a.nc("clrValue",(e.usedCapacity/e.totalCapacity*100||0).toFixed(2)),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxIOPS),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minIOPS),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.maxBandWidth&&0===e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.minIOPS&&0===e.capabilities.qos.qosParam.maxIOPS),a.Cb(4),a.Nc("",c.formatCapacity(e.usedCapacity,!1)," /",c.formatCapacity(e.totalCapacity,!1),""),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.latency),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.latency)}}function Pe(e,t){if(1&e&&(a.Ub(0,"form",40,41),a.Ic(2,Te,4,3,"div",72),a.Sb(3),a.Ub(4,"clr-accordion"),a.Ic(5,Oe,38,23,"clr-accordion-panel",121),a.Tb(),a.Rb(),a.Tb()),2&e){const e=a.gc();a.Cb(2),a.mc("ngIf",e.serviceLevelIsNull),a.Cb(3),a.mc("ngForOf",e.serviceLevelList)}}const Fe=function(){return[5,10,50,100]};let ke=(()=>{class e{constructor(e,t,c,o){this.remoteSrv=e,this.cdr=t,this.gs=c,this.router=o,this.expendActive=!1,this.list=[],this.radioCheck="list",this.levelCheck="level",this.total=0,this.isLoading=!0,this.rowSelected=[],this.wwns=[],this.query={q:"user:VMware",sort:"stars",order:"desc",page:0,per_page:5},this.modifyShow=!1,this.popShow=!1,this.form=(new i.a).getAddForm(),this.modifyForm=(new i.a).getEditForm(),this.expandForm=(new i.a).getExpandForm(),this.changeServiceLevelForm=(new i.a).getChangeLevelForm(),this.storageList=[],this.storagePoolList=[],this.blockSizeOptions=[],this.srgOptions=[],this.deviceList=[],this.serviceLevelList=[],this.mountShow=!1,this.delShow=!1,this.unmountShow=!1,this.unmountTipsShow=!1,this.reclaimShow=!1,this.changeServiceLevelShow=!1,this.expandShow=!1,this.hostList=[],this.clusterList=[],this.mountForm=(new i.a).getMountForm(),this.chooseUnmountHost=null,this.chooseUnmountCluster=null,this.mountedHost=[],this.mountedCluster=[],this.storageType="vmfs",this.unmountForm=(new i.a).getUnmountForm(),this.notChooseUnmountDevice=!1,this.isServiceLevelData=!0,this.mountHostData=!0,this.mountClusterData=!0,this.serviceLevelIsNull=!1,this.modalLoading=!0,this.isOperationErr=!1}get params(){return Object.assign({},this.query)}ngOnInit(){this.refresh()}modifyBtnClick(){console.log("this.rowSelected[0]",this.rowSelected[0]),this.modifyForm=(new i.a).getEditForm(),1===this.rowSelected.length&&(this.modifyForm.name=this.rowSelected[0].name,this.modifyForm.oldDsName=this.rowSelected[0].name,this.modifyForm.volumeId=this.rowSelected[0].volumeId,this.modifyForm.dataStoreObjectId=this.rowSelected[0].objectid,this.modifyForm.service_level_name=this.rowSelected[0].serviceLevelName,this.rowSelected[0].serviceLevelName?(this.isServiceLevelData=!1,this.modifyForm.control_policy=""):(this.isServiceLevelData=!0,this.modifyForm.max_iops=this.rowSelected[0].maxIops,this.modifyForm.max_bandwidth=this.rowSelected[0].maxBandwidth,this.modifyForm.min_iops=this.rowSelected[0].minIops,this.modifyForm.min_bandwidth=this.rowSelected[0].minBandwidth,this.modifyForm.control_policy="0"!==this.modifyForm.max_iops?"1":"0"),this.modifyShow=!0)}modifyHandleFunc(){this.modifyForm.newVoName=this.modifyForm.isSameName?this.modifyForm.name:this.rowSelected[0].volumeName,this.isServiceLevelData&&null===this.modifyForm.max_bandwidth&&null===this.modifyForm.max_iops&&null===this.modifyForm.min_bandwidth&&null===this.modifyForm.min_iops&&null===this.modifyForm.latency&&(this.modifyForm.control_policy=null),this.modifyForm.newDsName=this.modifyForm.name,console.log("this.modifyForm:",this.modifyForm),this.remoteSrv.updateVmfs(this.modifyForm.volumeId,this.modifyForm).subscribe(e=>{"200"===e.code?(console.log("modify success:"+this.modifyForm.oldDsName),this.scanDataStore()):console.log("modify faild\uff1a"+this.modifyForm.oldDsName+e.description),this.modifyShow=!1})}refresh(){this.isLoading=!0,this.remoteSrv.getData().subscribe(e=>{if(console.log("result:",e),"200"===e.code&&null!=e.data){if(this.list=e.data,null!==this.list){this.total=this.list.length;const e=[];this.list.forEach(t=>{e.push(t.wwn)}),this.wwns=e,this.wwns.length>0&&this.remoteSrv.getChartData(this.wwns).subscribe(e=>{if(console.log("chartResult",e),"200"===e.code&&null!=e.data){const t=e.data;this.list.forEach(e=>{t.forEach(t=>{e.wwn===t.volumeId&&(e.iops=t.iops,e.bandwidth=t.bandwidth,e.readResponseTime=t.readResponseTime,e.writeResponseTime=t.writeResponseTime)})}),this.cdr.detectChanges()}else console.log(e.description)})}}else console.log(e.description);this.isLoading=!1,this.cdr.detectChanges()})}scanDataStore(){this.remoteSrv.scanVMFS(this.storageType).subscribe(e=>{console.log("res"),console.log(e),"200"===e.code?(this.refresh(),console.log("Scan success")):console.log("Scan faild"),this.cdr.detectChanges()})}getStorageList(){this.remoteSrv.getStorages().subscribe(e=>{console.log(e),"200"===e.code&&null!==e.data&&(this.storageList=e.data,this.getStoragePoolsByStorId()),this.modalLoading=!1,this.cdr.detectChanges()})}getStoragePoolsByStorId(){this.form.pool_raw_id=void 0,console.log("selectSotrageId"+this.form.storage_id),null!==this.form.storage_id&&""!==this.form.storage_id&&this.remoteSrv.getStoragePoolsByStorId(this.form.storage_id,"block").subscribe(e=>{console.log("storagePools",e),"200"===e.code&&null!==e.data&&(this.storagePoolList=e.data,console.log("this.storagePoolList",this.storagePoolList),this.cdr.detectChanges())})}setBlockSizeOptions(){const e=[],t=this.form.version+"";console.log("versionVal"+t),"6"===t?(e.push({key:1024,value:"1MB"}),e.push({key:64,value:"64KB"})):"5"===t&&e.push({key:1024,value:"1MB"}),this.blockSizeOptions=e,this.form.blockSize=this.blockSizeOptions[0].key,this.setSrgOptions()}setSrgOptions(){const e=[],t=this.form.blockSize+"";"1024"===t?(e.push({key:1024,value:"1MB"}),e.push({key:8,value:"8KB"})):"64"===t&&(e.push({key:64,value:"64KB"}),e.push({key:8,value:"8KB"})),this.srgOptions=e,this.form.spaceReclamationGranularity=this.srgOptions[0].key,console.log("this.form.blockSize:"+this.form.blockSize),console.log("this.form.spaceReclamationGranularity:"+this.form.spaceReclamationGranularity),this.capacityOnblur()}setDeviceList(){this.deviceList=[],this.chooseDevice=void 0,console.log("this.chooseDevice",this.chooseDevice),this.setHostDatas().then(e=>{this.cdr.detectChanges()}),this.setClusterDatas().then(e=>{this.cdr.detectChanges()})}setHostDatas(){return new Promise((e,t)=>{this.remoteSrv.getHostList().subscribe(t=>{let c=[];console.log("host",t),"200"===t.code&&null!==t.data&&(c=t.data,c.forEach(e=>{this.deviceList.push({deviceId:e.hostId,deviceName:e.hostName,deviceType:"host"})})),this.form.hostDataloadSuccess=!0,e(this.deviceList),this.cdr.detectChanges()})})}setClusterDatas(){return new Promise((e,t)=>{this.remoteSrv.getClusterList().subscribe(t=>{let c=[];console.log("cluster",t),console.log("cluster",null!==t.data),"200"===t.code&&null!==t.data&&(c=t.data,c.forEach(e=>{this.deviceList.push({deviceId:e.clusterId,deviceName:e.clusterName,deviceType:"cluster"})})),e(this.deviceList),this.form.culDataloadSuccess=!0,this.cdr.detectChanges(),console.log("cluster",null!==t.data)})})}addBtnClickFunc(){this.modalLoading=!0,this.isOperationErr=!1,this.form=(new i.a).getAddForm(),this.popShow=!0,this.jumpTo(this.addPageOne),this.setBlockSizeOptions(),this.setDeviceList(),this.levelCheck="level",this.setServiceLevelList(),this.storagePoolList=[]}jumpTo(e){e&&e.completed?this.wizard.navService.currentPage=e:this.wizard.navService.setLastEnabledPageCurrent(),this.wizard.open()}setServiceLevelList(){this.serviceLevelIsNull=!1,this.remoteSrv.getServiceLevelList().subscribe(e=>{console.log(e),"200"===e.code&&null!==e.data&&(this.serviceLevelList=e.data.filter(e=>0!==e.totalCapacity),console.log("this.serviceLevelList",this.serviceLevelList)),this.modalLoading=!1,this.cdr.detectChanges()})}addVmfsHanlde(){const e=this.serviceLevelList.find(e=>!0===e.show);if(console.log("selectResult","level"===this.levelCheck&&e),"level"===this.levelCheck&&e&&0!==e.totalCapacity||"level"!==this.levelCheck){switch(e&&(this.form.service_level_id=e.id,this.form.service_level_name=e.name),this.form.isSameName&&(this.form.volumeName=this.form.name),this.form.capacityUnit){case"TB":this.form.capacity=1024*this.form.capacity;break;case"MB":this.form.capacity=this.form.capacity/1024;break;case"KB":this.form.capacity=this.form.capacity/1048576}"host"===this.chooseDevice.deviceType?(this.form.host=this.chooseDevice.deviceName,this.form.hostId=this.chooseDevice.deviceId):(this.form.cluster=this.chooseDevice.deviceName,this.form.clusterId=this.chooseDevice.deviceId),"customer"===this.levelCheck&&(this.form.service_level_id=null,this.form.service_level_name=null),null===this.form.maxbandwidth&&null===this.form.maxiops&&null===this.form.minbandwidth&&null===this.form.miniops&&null===this.form.latency&&(this.form.control_policy=null),console.log("addFrom",this.form),this.modalLoading=!0,this.remoteSrv.createVmfs(this.form).subscribe(e=>{this.modalLoading=!1,"200"===e.code?(console.log("\u521b\u5efa\u6210\u529f"),this.wizard.close(),this.scanDataStore()):(console.log("\u521b\u5efa\u5931\u8d25\uff1a"+e.description),this.isOperationErr=!0),this.cdr.detectChanges()})}else this.serviceLevelIsNull=!0}capacityChange(e){console.log("event","1"===e.value);const t=e.value.match(/\d+(\.\d{0,2})?/)?e.value.match(/\d+(\.\d{0,2})?/)[0]:"";if(""!==t){let c;switch(this.form.capacityUnit){case"TB":c=1024*t;break;case"MB":c=t/1024;break;case"KB":c=t/1048576;break;default:c=t}switch(c<1&&"5"===this.form.version?c=1:c<2&&"6"===this.form.version&&(c=2),this.form.capacityUnit){case"TB":c/=1024;break;case"MB":c*=1024;break;case"KB":c*=1048576;break;default:c=c}e.value=c}else e.value=t}customerClickFunc(){this.levelCheck="customer",this.serviceLevelIsNull=!1,this.storageList=null,this.storagePoolList=null,this.modalLoading=!0,this.getStorageList()}serviceLevelBtnFunc(){this.levelCheck="level",this.serviceLevelIsNull=!1,this.setServiceLevelList()}navigateTo(e){console.log("\u9875\u9762\u8df3\u8f6c\u4e86"),console.log(e),this.gs.getClientSdk().app.navigateTo({targetViewId:"vsphere.core.datastore.summary",objectId:e})}delHandleFunc(){const e=this.rowSelected.map(e=>e.objectid);console.log("del vmfs objectIds:"+e),this.remoteSrv.delVmfs({dataStoreObjectIds:e}).subscribe(e=>{this.delShow=!1,"200"===e.code?(console.log("DEL success"+this.rowSelected[0].name+" success"),this.scanDataStore()):console.log("DEL faild: "+e.description),this.delShow=!1,this.cdr.detectChanges()})}mountBtnFunc(){if(1===this.rowSelected.length){this.mountForm=(new i.a).getMountForm();const e=[];e.push(this.rowSelected[0].objectid),this.mountForm.dataStoreObjectIds=e,this.mountHostData=!1,this.hostList=[],this.hostList.push({hostId:"",hostName:""}),this.initMountHost().then(e=>{this.cdr.detectChanges()}),this.mountClusterData=!1,this.clusterList=[],this.clusterList.push({clusterId:"",clusterName:""}),this.initMountCluster().then(e=>{this.cdr.detectChanges()}),this.mountShow=!0}}jumpPage(e,t){this.router.navigate([t],{queryParams:{objectId:e,resource:"list"}})}initMountCluster(){return new Promise((e,t)=>{this.remoteSrv.getClusterListByObjectId(this.rowSelected[0].objectid).subscribe(t=>{"200"===t.code&&t.data.forEach(e=>{this.clusterList.push(e)}),this.chooseCluster=this.clusterList[0],this.mountClusterData=!0,e(this.deviceList),this.cdr.detectChanges()})})}initMountHost(){return new Promise((e,t)=>{this.remoteSrv.getHostListByObjectId(this.rowSelected[0].objectid).subscribe(t=>{"200"===t.code&&null!==t.data&&t.data.forEach(e=>{this.hostList.push(e)}),this.chooseHost=this.hostList[0],this.mountHostData=!0,e(this.deviceList),this.cdr.detectChanges()})})}mountSubmit(){"1"===this.mountForm.mountType?(this.mountForm.hostId=this.chooseHost.hostId,this.mountForm.host=this.chooseHost.hostName):"2"===this.mountForm.mountType&&(this.mountForm.cluster=this.chooseCluster.clusterName,this.mountForm.clusterId=this.chooseCluster.clusterId),this.remoteSrv.mountVmfs(this.mountForm).subscribe(e=>{"200"===e.code?(console.log("\u6302\u8f7d\u6210\u529f"),this.scanDataStore()):console.log("\u6302\u8f7d\u5f02\u5e38\uff1a"+e.description),this.mountShow=!1,this.cdr.detectChanges()})}unmountBtnFunc(){1===this.rowSelected.length&&(this.notChooseUnmountDevice=!1,this.chooseUnmountCluster=null,this.chooseUnmountHost=null,this.unmountForm=(new i.a).getUnmountForm(),this.unmountForm.name=this.rowSelected[0].name,this.remoteSrv.getMountHost(this.rowSelected[0].objectid).subscribe(e=>{if(console.log(e),"200"===e.code&&null!==e.data&&e.data.length>=1){this.unmountForm.mountType="1";const t=[];e.data.forEach(e=>{t.push({deviceId:e.hostId,deviceName:e.hostName,deviceType:"host"})}),this.mountedHost=t,console.log("this.serviceLevelList",this.serviceLevelList)}this.cdr.detectChanges()}),this.remoteSrv.getMountCluster(this.rowSelected[0].objectid).subscribe(e=>{if(console.log(e),"200"===e.code&&null!==e.data&&e.data.length>=1){this.unmountForm.mountType="2";const t=[];e.data.forEach(e=>{t.push({deviceId:e.hostId,deviceName:e.hostName,deviceType:"host"})}),this.mountedCluster=t}this.cdr.detectChanges()}),this.unmountShow=!0)}unMountConfirm(){this.unmountTipsShow=!0}unmountHandleFunc(){this.unmountTipsShow=!1,console.log("this.chooseUnmountHost",this.chooseUnmountHost),console.log("this.chooseUnmountCluster",this.chooseUnmountCluster),console.log("this.flag",!this.chooseUnmountHost&&"1"===this.unmountForm.mountType||!this.chooseUnmountCluster&&"2"===this.unmountForm.mountType),!this.chooseUnmountHost&&"1"===this.unmountForm.mountType||!this.chooseUnmountCluster&&"2"===this.unmountForm.mountType?this.notChooseUnmountDevice=!0:(this.unmountForm.dataStoreObjectIds.push(this.rowSelected[0].objectid),"1"===this.unmountForm.mountType?this.unmountForm.hostId=this.chooseUnmountHost.deviceId:this.unmountForm.clusterId=this.chooseUnmountCluster.deviceId,console.log("this.unmountForm",this.unmountForm),this.notChooseUnmountDevice=!1,this.remoteSrv.unmountVMFS(this.unmountForm).subscribe(e=>{"200"===e.code?(console.log("unmount "+this.rowSelected[0].name+" success"),this.scanDataStore()):console.log("unmount "+this.rowSelected[0].name+" fail\uff1a"+e.description),this.unmountShow=!1,this.cdr.detectChanges()}))}reclaimHandleFunc(){const e=this.rowSelected[0].name;console.log("reclaim:"+e);const t=this.rowSelected.map(e=>e.name);this.remoteSrv.reclaimVmfs(t).subscribe(t=>{"200"===t.code?(console.log("Reclaim "+e+" success"),this.scanDataStore()):console.log("Reclaim "+e+" fail\uff1a"+t.description),this.reclaimShow=!1,this.cdr.detectChanges()})}changeServiceLevelBtnFunc(){if(1===this.rowSelected.length){this.changeServiceLevelForm=(new i.a).getChangeLevelForm();const e=[];e.push(this.rowSelected[0].volumeId),this.changeServiceLevelForm.volume_ids=e,this.changeServiceLevelForm.ds_name=this.rowSelected[0].name,this.changeServiceLevelShow=!0,this.setServiceLevelList()}}changeSLDataClickFunc(e,t){this.changeServiceLevelForm.service_level_id=e,this.changeServiceLevelForm.service_level_name=t}changeSLHandleFunc(){const e=this.serviceLevelList.find(e=>!0===e.show);console.log("selectResult",e),e&&0!==e.totalCapacity?(this.serviceLevelIsNull=!1,this.changeServiceLevelForm.service_level_id=e.id,this.changeServiceLevelForm.service_level_name=e.name,this.remoteSrv.changeServiceLevel(this.changeServiceLevelForm).subscribe(e=>{"200"===e.code?(console.log("change service level success:"+name),this.scanDataStore()):console.log("change service level faild: "+name+" Reason:"+e.description),this.changeServiceLevelShow=!1,this.cdr.detectChanges()})):(this.serviceLevelIsNull=!0,console.log("\u670d\u52a1\u7b49\u7ea7\u4e0d\u80fd\u4e3a\u7a7a\uff01"))}expandBtnFunc(){1===this.rowSelected.length&&(this.expandForm=(new i.a).getExpandForm(),this.expandShow=!0,console.log(this.rowSelected[0]),this.expandForm.volume_id=this.rowSelected[0].volumeId,this.expandForm.ds_name=this.rowSelected[0].name,this.expandForm.obj_id=this.rowSelected[0].objectid)}expandHandleFunc(){switch(this.expandForm.capacityUnit){case"TB":this.expandForm.vo_add_capacity=1024*this.expandForm.vo_add_capacity;break;case"MB":this.expandForm.vo_add_capacity=this.expandForm.vo_add_capacity/1024;break;case"KB":this.expandForm.vo_add_capacity=this.expandForm.vo_add_capacity/1048576}this.remoteSrv.expandVMFS(this.expandForm).subscribe(e=>{"200"===e.code?(console.log("expand success:"+name),this.scanDataStore()):console.log("expand: "+name+" Reason:"+e.description),this.expandShow=!1,this.cdr.detectChanges()})}reclaimBtnClick(){this.rowSelected.length>=1&&(this.reclaimShow=!0)}delBtnClickFUnc(){this.rowSelected.length>=1&&(this.delShow=!0)}formatCapacity(e,t){let c;return e<1024?c=t?e.toFixed(3)+"GB":e.toFixed(3)+"MB":e>=1024&&e<1048576?c=t?(e/1024).toFixed(3)+"TB":(e/1024).toFixed(3)+"GB":e>=1048576&&(c=t?(e/1024/1024).toFixed(3)+"PB":(e/1024/1024).toFixed(3)+"TB"),c}capacityOnblur(){let e=this.form.capacity;e&&(e="TB"===this.form.capacityUnit?e.toString().match(/\d+(\.\d{0,2})?/)?e.toString().match(/\d+(\.\d{0,2})?/)[0]:"":1==e.length?e.toString().replace(/[^1-9]/g,""):e.toString().replace(/\D/g,""),""!==e&&("TB"===this.form.capacityUnit?"5"===this.form.version?e<1/1024&&(e=""):e<2/1024&&(e=""):"MB"===this.form.capacityUnit?"5"===this.form.version?e<1024&&(e=""):e<2048&&(e=""):"5"===this.form.version?e<1&&(e=""):e<2&&(e="")),""!==e&&(e=Number(e)),this.form.capacity=e),console.log("this.form.capacityUnit",this.form.capacityUnit),console.log("this.form.capacity",this.form.capacity),console.log("this.form.count",this.form.count)}countBlur(){let e=this.form.count;e=1==e.length?e.toString().replace(/[^1-9]/g,""):e.toString().replace(/\D/g,""),""!==e&&(e=Number(e)),this.form.count=e}addNextPage(){""!==this.form.capacity&&""!==this.form.count&&this.form.capacity>0&&this.form.count>0&&this.wizard.next()}qosBlur(e,t){let c;if("add"===e)switch(t){case"maxbandwidth":c=this.form.maxbandwidth;break;case"maxiops":c=this.form.maxiops;break;case"minbandwidth":c=this.form.minbandwidth;break;case"miniops":c=this.form.miniops;break;default:c=this.form.latency}else switch(t){case"max_bandwidth":c=this.modifyForm.max_bandwidth;break;case"max_iops":c=this.modifyForm.max_iops;break;case"min_bandwidth":c=this.modifyForm.min_bandwidth;break;case"min_iops":c=this.modifyForm.min_iops;break;default:c=this.modifyForm.latency}if(c&&""!==c&&(c=c.toString().match(/\d+(\.\d{0,2})?/)?c.toString().match(/\d+(\.\d{0,2})?/)[0]:""),"add"===e)switch(t){case"maxbandwidth":this.form.maxbandwidth=c;break;case"maxiops":this.form.maxiops=c;break;case"minbandwidth":this.form.minbandwidth=c;break;case"miniops":this.form.miniops=c;break;default:this.form.latency=c}else switch(t){case"max_bandwidth":this.modifyForm.max_bandwidth=c;break;case"max_iops":this.modifyForm.max_iops=c;break;case"min_bandwidth":this.modifyForm.min_bandwidth=c;break;case"min_iops":this.modifyForm.min_iops=c;break;default:this.modifyForm.latency=c}}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(i.b),a.Ob(a.h),a.Ob(r.b),a.Ob(n.f))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],viewQuery:function(e,t){var c;1&e&&(a.Pc(h,!0),a.Pc(u,!0),a.Pc(g,!0)),2&e&&(a.vc(c=a.dc())&&(t.wizard=c.first),a.vc(c=a.dc())&&(t.addPageOne=c.first),a.vc(c=a.dc())&&(t.addPageTwo=c.first))},features:[a.Bb([i.b])],decls:403,vars:353,consts:[[1,"gh-btngroup-header"],[1,"gh-btngroup-left"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"clrCloseMenuOnItemClick"],["clrDropdownTrigger","","aria-label","Dropdown demo button",1,"btn","btn-primary"],["shape","caret down"],[4,"clrIfOpen"],[1,"btn-group","btn-icon"],[1,"radio","btn"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-1","checked","",3,"click"],["for","btn-demo-radio-1"],["shape","list","size","20"],["type","radio","name","btn-group-demo-radios","id","btn-demo-radio-2",3,"click"],["for","btn-demo-radio-2"],["shape","dashboard","size","20"],[1,"radio","btn","merginLeft"],["shape","refresh","size","20",3,"click"],[3,"clrDgSelected","clrDgLoading","clrDgSelectedChange"],[3,"clrDgField"],["hidden","",3,"clrDgField"],[3,"hidden","clrDgField"],[3,"clrDgFilter"],[2,"margin-top","0"],["myFilter",""],["type","checkbox","clrCheckbox","","value","normal","name","options"],["type","checkbox","clrCheckbox","","value","abnormal","name","options"],[3,"hidden","clrDgField","clrDgSortOrder"],[3,"hidden"],[3,"clrDgSelectable","clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[3,"clrWizardOpen","clrWizardClosable","clrWizardOpenChange"],["wizard",""],[2,"font-weight","bolder"],["class","loadingDiv",4,"ngIf"],[3,"clrWizardPageNextDisabled"],["addPageOne",""],["clrPageTitle",""],["clrForm",""],["formPageOne","ngForm"],[2,"color","#9F9F9F"],["clrInput","","name","name","required","",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["name","ngModel"],["type","checkbox","clrCheckbox","","name","isSameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["clrSelect","","name","version","required","",3,"ngModel","change","ngModelChange"],["value","5"],["value","6"],["clrInput","",2,"float","left","width","54%","position","relative"],["clrInput","","type","number","name","capacity","required","",2,"width","60%","border-bottom","none",3,"ngModel","blur","ngModelChange"],["number","ngModel"],["clrInput","","name","capacityUnit",1,"capacity",2,"width","40%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","change","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["clrInput","","readonly","",2,"width","19%","text-align","center",3,"value"],["clrInput","","type","number","name","count","required","",2,"width","27%",3,"ngModel","blur","ngModelChange"],["shape","exclamation-circle",1,"is-solid"],["clrSelect","","name","blockSize","required","",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["clrSelect","","name","spaceReclamationGranularity","required","",3,"ngModel","ngModelOptions","ngModelChange"],["clrSelect","","name","spaceReclamationPriority","required","",3,"ngModel","ngModelChange"],["value","low"],["value","none"],["name","chooseDevice","required","",3,"ngModel","ngModelChange",4,"ngIf"],["shape","info-circle",1,"is-solid"],["clrPageButtons",""],["addPageTwo",""],["clrPageNavTitle",""],["formPageTwo","ngForm"],["class","errorTips","readonly","",4,"ngIf"],[3,"clrModalOpen","clrModalClosable","clrModalOpenChange"],[1,"modal-title","modelTile"],[1,"modal-body"],["clrInput","","name","name","required","",3,"ngModel","ngModelChange"],["clrInline","",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],["clrForm","",4,"ngIf"],[3,"clrModalOpen","clrModalSize","clrModalClosable","clrModalOpenChange"],["type","button",1,"btn","btn-primary",3,"click"],["clrInput","","readonly","","name","name","required","",3,"ngModel","ngModelChange"],["clrInline",""],[1,"floatleft",2,"color","#9F9F9F"],["type","radio","clrRadio","","name","controlPolicy","value","1","ng-checked","true",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","value","2",3,"ngModel","ngModelChange"],[3,"clrDgSingleSelected","clrDgLoading","clrDgSingleSelectedChange",4,"ngIf"],[2,"height","4rem"],["clrInput","",2,"float","left","position","relative"],["clrInput","","type","number","name","vo_add_capacity","onkeyup","if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}","required","",2,"width","70%","border-bottom","none",3,"ngModel","ngModelChange"],["clrInput","","name","capacityUnit",1,"capacity",2,"width","30%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","ngModelChange"],[2,"position","absolute"],["aria-label","Dropdown header Action 1","clrDropdownItem","",3,"disabled","click"],["role","separator","aria-hidden","true",1,"dropdown-divider"],["aria-label","Dropdown header Action 2","clrDropdownItem","",3,"click",4,"ngIf"],["aria-label","Dropdown header Action 2","clrDropdownItem","",3,"disabled","click"],["aria-label","Dropdown header Action 2","clrDropdownItem","",3,"click"],[3,"clrDgSelectable","clrDgItem"],[3,"click"],["hidden",""],["clrSuccess","","clrLabeled","",3,"clrValue"],[1,"loadingDiv"],["src","./assets/images/loading.gif","width","20px","height","20px",2,"margin-left","20px"],["clrInput","","name","volumeName","required","",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],[3,"value"],["name","chooseDevice","required","",3,"ngModel","ngModelChange"],[3,"clrValue",4,"clrOptionItems","clrOptionItemsOf","clrOptionItemsField"],[3,"clrValue"],["shape","host","role","img","aria-label","World is turning",4,"ngIf"],["shape","host-group","role","img","aria-label","World is turning",4,"ngIf"],["shape","host","role","img","aria-label","World is turning"],["shape","host-group","role","img","aria-label","World is turning"],[3,"type"],[3,"type","click"],[1,"page-title"],[1,"tabs-btn-wrap"],[1,"tabs-btn",3,"ngClass","click"],["readonly","",1,"errorTips"],["style","margin-top: 20px;",4,"ngFor","ngForOf"],[2,"margin-top","20px"],["class","","style","height: 50px; line-height: 50px;color: #333;font-size:16px;",3,"click",4,"ngIf"],[3,"clrIfExpanded","clrIfExpandedChange"],[1,"table","table-vertical","table-noborder","table-compact"],["src","./assets/images/selectDown.svg","width","40px","height","40px",2,"position","absolute","right","0px","bottom","0px"],[1,"",2,"height","50px","line-height","50px","color","#333","font-size","16px",3,"click"],["clrSelect","","name","storage_id","required","",3,"ngModel","ngModelChange"],["clrSelect","","name","pool_raw_id","required","",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policy","checked","checked","value","1","required","",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policy","value","0","required","",3,"ngModel","ngModelChange"],["clrSelect","","name","alloctype",3,"ngModel","ngModelChange"],["value","thin"],["value","thick"],["type","checkbox","name","maxbandwidthChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","maxbandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","maxiopsChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","maxiops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","minbandwidthChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","minbandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","number","name","miniops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","latencyChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","latency",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","radio","clrRadio","","name","control_policy","checked","checked","value","1",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policy","value","0",3,"ngModel","ngModelChange"],["type","number","name","max_bandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","blur","ngModelChange"],["type","number","name","max_iops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","number","name","min_bandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","miniopsChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","min_iops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["name","chooseHost","required","",3,"ngModel","ngModelChange"],["shape","sun","role","img","aria-label","Sun is shining",4,"ngIf"],["shape","sun","role","img","aria-label","Sun is shining"],["name","chooseCluster","required","",3,"ngModel","ngModelChange"],[3,"clrDgSingleSelected","clrDgLoading","clrDgSingleSelectedChange"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgItem"],[1,"accordion-title",2,"height","50px","line-height","50px","color","#333","font-size","16px"]],template:function(e,t){if(1&e&&(a.Ub(0,"div"),a.Ub(1,"div",0),a.Ub(2,"div",1),a.Ub(3,"button",2),a.cc("click",(function(){return t.addBtnClickFunc()})),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"button",3),a.cc("click",(function(){return t.modifyBtnClick()})),a.Kc(7),a.hc(8,"translate"),a.Tb(),a.Ub(9,"button",3),a.cc("click",(function(){return t.expandBtnFunc()})),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Ub(12,"clr-dropdown",4),a.Ub(13,"button",5),a.Kc(14),a.hc(15,"translate"),a.Pb(16,"clr-icon",6),a.Tb(),a.Ic(17,f,17,17,"clr-dropdown-menu",7),a.Tb(),a.Tb(),a.Ub(18,"div",8),a.Ub(19,"div",9),a.Ub(20,"input",10),a.cc("click",(function(){return t.radioCheck="list"})),a.Tb(),a.Ub(21,"label",11),a.Pb(22,"clr-icon",12),a.Tb(),a.Tb(),a.Ub(23,"div",9),a.Ub(24,"input",13),a.cc("click",(function(){return t.radioCheck="chart"})),a.Tb(),a.Ub(25,"label",14),a.Pb(26,"clr-icon",15),a.Tb(),a.Tb(),a.Ub(27,"div",16),a.Ub(28,"label"),a.Ub(29,"clr-icon",17),a.cc("click",(function(){return t.scanDataStore()})),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(30,"clr-datagrid",18),a.cc("clrDgSelectedChange",(function(e){return t.rowSelected=e})),a.Ub(31,"clr-dg-column",19),a.Kc(32),a.hc(33,"translate"),a.Tb(),a.Ub(34,"clr-dg-column",20),a.Kc(35,"volumeId"),a.Tb(),a.Ub(36,"clr-dg-column",20),a.Kc(37,"wwn"),a.Tb(),a.Ub(38,"clr-dg-column",20),a.Kc(39,"volumeName"),a.Tb(),a.Ub(40,"clr-dg-column",20),a.Kc(41,"objectid"),a.Tb(),a.Ub(42,"clr-dg-column",21),a.Kc(43),a.hc(44,"translate"),a.Ub(45,"clr-dg-filter",22),a.Ub(46,"clr-checkbox-container",23,24),a.Ub(48,"clr-checkbox-wrapper"),a.Pb(49,"input",25),a.Ub(50,"label"),a.Kc(51,"normal"),a.Tb(),a.Tb(),a.Ub(52,"clr-checkbox-wrapper"),a.Pb(53,"input",26),a.Ub(54,"label"),a.Kc(55,"abnormal"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(56,"clr-dg-column",27),a.Kc(57),a.hc(58,"translate"),a.Tb(),a.Ub(59,"clr-dg-column",27),a.Kc(60),a.hc(61,"translate"),a.Tb(),a.Ub(62,"clr-dg-column",27),a.Kc(63),a.hc(64,"translate"),a.Tb(),a.Ub(65,"clr-dg-column",27),a.Kc(66),a.hc(67,"translate"),a.Tb(),a.Ub(68,"clr-dg-column",27),a.Kc(69),a.hc(70,"translate"),a.Tb(),a.Ub(71,"clr-dg-column",21),a.Kc(72),a.hc(73,"translate"),a.Tb(),a.Ub(74,"clr-dg-column",21),a.Kc(75),a.hc(76,"translate"),a.Tb(),a.Ub(77,"clr-dg-column",21),a.Kc(78),a.hc(79,"translate"),a.Tb(),a.Ub(80,"clr-dg-column",21),a.Kc(81),a.hc(82,"translate"),a.Tb(),a.Ub(83,"clr-dg-column",28),a.Kc(84),a.hc(85,"translate"),a.Tb(),a.Ub(86,"clr-dg-column",21),a.Kc(87),a.hc(88,"translate"),a.Tb(),a.Ub(89,"clr-dg-column",28),a.Kc(90),a.hc(91,"translate"),a.Tb(),a.Ub(92,"clr-dg-column",21),a.Kc(93),a.hc(94,"translate"),a.Tb(),a.Ub(95,"clr-dg-column",21),a.Kc(96),a.hc(97,"translate"),a.Tb(),a.Ub(98,"clr-dg-column",21),a.Kc(99),a.hc(100,"translate"),a.Tb(),a.Ub(101,"clr-dg-column",28),a.Kc(102),a.hc(103,"translate"),a.Tb(),a.Ic(104,C,50,51,"clr-dg-row",29),a.Ub(105,"clr-dg-footer"),a.Ub(106,"clr-dg-pagination",30,31),a.Ub(108,"clr-dg-page-size",32),a.Kc(109,"per page"),a.Tb(),a.Kc(110),a.Tb(),a.Tb(),a.Tb(),a.Ub(111,"clr-wizard",33,34),a.cc("clrWizardOpenChange",(function(e){return t.popShow=e})),a.Ub(113,"clr-wizard-title",35),a.Kc(114),a.hc(115,"translate"),a.Tb(),a.Ic(116,v,5,3,"div",36),a.Ub(117,"clr-wizard-page",37,38),a.Ic(119,T,2,3,"ng-template",39),a.Ub(120,"form",40,41),a.Ub(122,"clr-input-container"),a.Ub(123,"label",42),a.Kc(124),a.hc(125,"translate"),a.Tb(),a.Ub(126,"input",43,44),a.cc("ngModelChange",(function(e){return t.form.name=e})),a.Tb(),a.Ub(128,"clr-control-error"),a.Kc(129),a.hc(130,"translate"),a.Tb(),a.Tb(),a.Ub(131,"clr-checkbox-container"),a.Pb(132,"label"),a.Ub(133,"clr-checkbox-wrapper"),a.Ub(134,"input",45),a.cc("ngModelChange",(function(e){return t.form.isSameName=e})),a.Tb(),a.Ub(135,"label"),a.Kc(136),a.hc(137,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(138,y,8,7,"clr-input-container",46),a.Ub(139,"clr-select-container"),a.Ub(140,"label",42),a.Kc(141),a.hc(142,"translate"),a.Tb(),a.Ub(143,"select",47),a.cc("change",(function(){return t.setBlockSizeOptions()}))("ngModelChange",(function(e){return t.form.version=e})),a.Ub(144,"option",48),a.Kc(145,"VMFS 5"),a.Tb(),a.Ub(146,"option",49),a.Kc(147,"VMFS 6"),a.Tb(),a.Tb(),a.Ub(148,"clr-control-error"),a.Kc(149),a.hc(150,"translate"),a.Tb(),a.Tb(),a.Ub(151,"clr-input-container"),a.Ub(152,"label",42),a.Kc(153),a.hc(154,"translate"),a.Tb(),a.Ub(155,"div",50),a.Ub(156,"input",51,52),a.cc("blur",(function(){return t.capacityOnblur()}))("ngModelChange",(function(e){return t.form.capacity=e})),a.Tb(),a.Ub(158,"select",53),a.cc("change",(function(){return t.form.capacity=null}))("ngModelChange",(function(e){return t.form.capacityUnit=e})),a.Ub(159,"option",54),a.Kc(160,"TB"),a.Tb(),a.Ub(161,"option",55),a.Kc(162,"GB"),a.Tb(),a.Ub(163,"option",56),a.Kc(164,"MB"),a.Tb(),a.Tb(),a.Tb(),a.Pb(165,"input",57),a.hc(166,"translate"),a.Ub(167,"input",58,52),a.cc("blur",(function(){return t.countBlur()}))("ngModelChange",(function(e){return t.form.count=e})),a.Tb(),a.Ub(169,"clr-control-helper"),a.Pb(170,"clr-icon",59),a.Kc(171),a.hc(172,"translate"),a.Tb(),a.Ub(173,"clr-control-error"),a.Kc(174),a.hc(175,"translate"),a.hc(176,"translate"),a.Tb(),a.Tb(),a.Ub(177,"clr-select-container"),a.Ub(178,"label",42),a.Kc(179),a.hc(180,"translate"),a.Tb(),a.Ub(181,"select",60),a.cc("ngModelChange",(function(e){return t.form.blockSize=e}))("change",(function(){return t.setSrgOptions()})),a.Ic(182,U,2,2,"option",61),a.Tb(),a.Ub(183,"clr-control-error"),a.Kc(184),a.hc(185,"translate"),a.Tb(),a.Tb(),a.Ub(186,"clr-select-container"),a.Ub(187,"label",42),a.Kc(188),a.hc(189,"translate"),a.Tb(),a.Ub(190,"select",62),a.cc("ngModelOptions",(function(){return t.srgOptions}))("ngModelChange",(function(e){return t.form.spaceReclamationGranularity=e})),a.Ic(191,w,2,2,"option",61),a.Tb(),a.Ub(192,"clr-control-error"),a.Kc(193),a.hc(194,"translate"),a.Tb(),a.Tb(),a.Ub(195,"clr-select-container"),a.Ub(196,"label",42),a.Kc(197),a.hc(198,"translate"),a.Tb(),a.Ub(199,"select",63),a.cc("ngModelChange",(function(e){return t.form.spaceReclamationPriority=e})),a.Ub(200,"option",64),a.Kc(201),a.hc(202,"translate"),a.Tb(),a.Ub(203,"option",65),a.Kc(204),a.hc(205,"translate"),a.Tb(),a.Tb(),a.Ub(206,"clr-control-error"),a.Kc(207),a.hc(208,"translate"),a.Tb(),a.Tb(),a.Ub(209,"clr-combobox-container"),a.Ub(210,"label",42),a.Kc(211),a.hc(212,"translate"),a.Tb(),a.Ic(213,x,3,3,"clr-combobox",66),a.Ub(214,"clr-control-helper"),a.Pb(215,"clr-icon",67),a.Kc(216),a.hc(217,"translate"),a.Tb(),a.Ub(218,"clr-control-error"),a.Kc(219),a.hc(220,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(221,S,6,8,"ng-template",68),a.Tb(),a.Ub(222,"clr-wizard-page",37,69),a.Ic(224,O,2,3,"ng-template",70),a.Ic(225,F,11,15,"ng-template",39),a.Ub(226,"form",40,71),a.Ic(228,k,4,3,"div",72),a.Ic(229,K,4,3,"div",72),a.Ic(230,E,3,1,"ng-container",46),a.Ic(231,J,59,45,"ng-container",46),a.Tb(),a.Ic(232,Z,9,12,"ng-template",68),a.Tb(),a.Tb(),a.Ub(233,"clr-modal",73),a.cc("clrModalOpenChange",(function(e){return t.modifyShow=e})),a.Ub(234,"h3",74),a.Kc(235),a.hc(236,"translate"),a.Tb(),a.Ub(237,"div",75),a.Ub(238,"form",40),a.Ub(239,"clr-input-container"),a.Ub(240,"label",42),a.Kc(241),a.hc(242,"translate"),a.Tb(),a.Ub(243,"input",76,44),a.cc("ngModelChange",(function(e){return t.modifyForm.name=e})),a.Tb(),a.Pb(245,"br"),a.Ub(246,"clr-control-error"),a.Kc(247),a.hc(248,"translate"),a.Tb(),a.Tb(),a.Ub(249,"clr-checkbox-container"),a.Pb(250,"label"),a.Ub(251,"clr-checkbox-wrapper"),a.Ub(252,"input",45),a.cc("ngModelChange",(function(e){return t.modifyForm.isSameName=e})),a.Tb(),a.Ub(253,"label"),a.Kc(254),a.hc(255,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(256,ee,14,11,"clr-radio-container",77),a.Ic(257,te,12,12,"clr-checkbox-container",46),a.Ic(258,ce,8,6,"clr-checkbox-container",46),a.Ic(259,oe,12,12,"clr-checkbox-container",46),a.Ic(260,ne,8,6,"clr-checkbox-container",46),a.Ic(261,ie,10,9,"clr-checkbox-container",46),a.Tb(),a.Tb(),a.Ub(262,"div",78),a.Ub(263,"button",79),a.cc("click",(function(){return t.modifyShow=!1})),a.Kc(264),a.hc(265,"translate"),a.Tb(),a.Ub(266,"button",80),a.cc("click",(function(){return t.modifyHandleFunc()})),a.Kc(267),a.hc(268,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ub(269,"clr-modal",73),a.cc("clrModalOpenChange",(function(e){return t.mountShow=e})),a.Ub(270,"h3",74),a.Kc(271),a.hc(272,"translate"),a.Tb(),a.Ub(273,"div",75),a.Ic(274,ue,24,19,"form",81),a.Tb(),a.Tb(),a.Ub(275,"clr-modal",82),a.cc("clrModalOpenChange",(function(e){return t.delShow=e})),a.Ub(276,"h3",74),a.Kc(277),a.hc(278,"translate"),a.Tb(),a.Ub(279,"div",75),a.Ub(280,"p"),a.Kc(281),a.hc(282,"translate"),a.Tb(),a.Tb(),a.Ub(283,"div",78),a.Ub(284,"button",79),a.cc("click",(function(){return t.delShow=!1})),a.Kc(285),a.hc(286,"translate"),a.Tb(),a.Ub(287,"button",83),a.cc("click",(function(){return t.delHandleFunc()})),a.Kc(288),a.hc(289,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ub(290,"clr-modal",82),a.cc("clrModalOpenChange",(function(e){return t.unmountShow=e})),a.Ub(291,"h3",74),a.Kc(292),a.hc(293,"translate"),a.Tb(),a.Ub(294,"div",75),a.Ub(295,"form",40),a.Ic(296,ge,4,3,"div",72),a.Ub(297,"clr-input-container"),a.Ub(298,"label",42),a.Kc(299),a.hc(300,"translate"),a.Tb(),a.Ub(301,"input",84,44),a.cc("ngModelChange",(function(e){return t.unmountForm.name=e})),a.Tb(),a.Pb(303,"br"),a.Ub(304,"clr-control-error"),a.Kc(305),a.hc(306,"translate"),a.Tb(),a.Tb(),a.Ub(307,"clr-radio-container",85),a.Ub(308,"label",86),a.Kc(309),a.hc(310,"translate"),a.Tb(),a.Ub(311,"clr-radio-wrapper"),a.Ub(312,"input",87),a.cc("ngModelChange",(function(e){return t.unmountForm.mountType=e})),a.Tb(),a.Ub(313,"label"),a.Kc(314),a.hc(315,"translate"),a.Tb(),a.Tb(),a.Ub(316,"clr-radio-wrapper"),a.Ub(317,"input",88),a.cc("ngModelChange",(function(e){return t.unmountForm.mountType=e})),a.Tb(),a.Ub(318,"label"),a.Kc(319),a.hc(320,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(321,fe,9,11,"clr-datagrid",89),a.Ic(322,ve,9,11,"clr-datagrid",89),a.Tb(),a.Tb(),a.Ub(323,"div",78),a.Ub(324,"button",79),a.cc("click",(function(){return t.unmountShow=!1})),a.Kc(325),a.hc(326,"translate"),a.Tb(),a.Ub(327,"button",83),a.cc("click",(function(){return t.unMountConfirm()})),a.Kc(328),a.hc(329,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ub(330,"clr-modal",82),a.cc("clrModalOpenChange",(function(e){return t.unmountTipsShow=e})),a.Ub(331,"h3",74),a.Kc(332),a.hc(333,"translate"),a.Tb(),a.Ub(334,"div",75),a.Ub(335,"p"),a.Kc(336),a.hc(337,"translate"),a.Tb(),a.Tb(),a.Ub(338,"div",78),a.Ub(339,"button",79),a.cc("click",(function(){return t.unmountTipsShow=!1,t.unmountShow=!1})),a.Kc(340),a.hc(341,"translate"),a.Tb(),a.Ub(342,"button",83),a.cc("click",(function(){return t.unmountHandleFunc()})),a.Kc(343),a.hc(344,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ub(345,"clr-modal",82),a.cc("clrModalOpenChange",(function(e){return t.reclaimShow=e})),a.Ub(346,"h3",74),a.Kc(347),a.hc(348,"translate"),a.Tb(),a.Ub(349,"div",75),a.Ub(350,"p"),a.Kc(351),a.hc(352,"translate"),a.Tb(),a.Tb(),a.Ub(353,"div",78),a.Ub(354,"button",79),a.cc("click",(function(){return t.reclaimShow=!1})),a.Kc(355),a.hc(356,"translate"),a.Tb(),a.Ub(357,"button",83),a.cc("click",(function(){return t.reclaimHandleFunc()})),a.Kc(358),a.hc(359,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ub(360,"clr-modal",82),a.cc("clrModalOpenChange",(function(e){return t.changeServiceLevelShow=e})),a.Ub(361,"h3",74),a.Kc(362),a.hc(363,"translate"),a.Tb(),a.Ub(364,"div",75),a.Ic(365,Pe,6,2,"form",81),a.Tb(),a.Ub(366,"div",78),a.Ub(367,"button",79),a.cc("click",(function(){return t.changeServiceLevelShow=!1})),a.Kc(368),a.hc(369,"translate"),a.Tb(),a.Ub(370,"button",83),a.cc("click",(function(){return t.changeSLHandleFunc()})),a.Kc(371),a.hc(372,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ub(373,"clr-modal",73),a.cc("clrModalOpenChange",(function(e){return t.expandShow=e})),a.Ub(374,"h3",74),a.Kc(375),a.hc(376,"translate"),a.Tb(),a.Ub(377,"div",75),a.Ub(378,"form",40,41),a.Ub(380,"clr-input-container",90),a.Ub(381,"label",42),a.Kc(382),a.hc(383,"translate"),a.Tb(),a.Ub(384,"div",91),a.Ub(385,"input",92,52),a.cc("ngModelChange",(function(e){return t.expandForm.vo_add_capacity=e})),a.Tb(),a.Ub(387,"select",93),a.cc("ngModelChange",(function(e){return t.expandForm.capacityUnit=e})),a.Ub(388,"option",54),a.Kc(389,"TB"),a.Tb(),a.Ub(390,"option",55),a.Kc(391,"GB"),a.Tb(),a.Tb(),a.Ub(392,"clr-control-helper",94),a.Pb(393,"clr-icon",59),a.Kc(394),a.hc(395,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(396,"div",78),a.Ub(397,"button",79),a.cc("click",(function(){return t.expandShow=!1})),a.Kc(398),a.hc(399,"translate"),a.Tb(),a.Ub(400,"button",83),a.cc("click",(function(){return t.expandHandleFunc()})),a.Kc(401),a.hc(402,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e){const e=a.wc(47),c=a.wc(107),o=a.wc(121),n=a.wc(127),i=a.wc(157),r=a.wc(227);a.Cb(4),a.Lc(a.ic(5,194,"menu.add")),a.Cb(2),a.mc("disabled",1!==t.rowSelected.length),a.Cb(1),a.Lc(a.ic(8,196,"menu.edit")),a.Cb(2),a.mc("disabled",1!==t.rowSelected.length),a.Cb(1),a.Lc(a.ic(11,198,"menu.expand")),a.Cb(2),a.mc("clrCloseMenuOnItemClick",!1),a.Cb(2),a.Mc(" ",a.ic(15,200,"menu.more")," "),a.Cb(16),a.mc("clrDgSelected",t.rowSelected)("clrDgLoading",t.isLoading),a.Cb(1),a.mc("clrDgField","name"),a.Cb(1),a.Lc(a.ic(33,202,"vmfs.name")),a.Cb(2),a.mc("clrDgField","volumeId"),a.Cb(2),a.mc("clrDgField","wwn"),a.Cb(2),a.mc("clrDgField","volumeName"),a.Cb(2),a.mc("clrDgField","objectid"),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","status"),a.Cb(1),a.Mc(" ",a.ic(44,204,"vmfs.status")," "),a.Cb(2),a.mc("clrDgFilter",e),a.Cb(11),a.mc("hidden","list"!==t.radioCheck)("clrDgField","capacity")("clrDgSortOrder","capacity"),a.Cb(1),a.Lc(a.ic(58,206,"vmfs.capacity")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","usedCapacity")("clrDgSortOrder","usedCapacity"),a.Cb(1),a.Lc(a.ic(61,208,"vmfs.usedCapacity")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","capacityUsage")("clrDgSortOrder","capacityUsage"),a.Cb(1),a.Lc(a.ic(64,210,"vmfs.capacityUsage")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","freeSpace")("clrDgSortOrder","freeSpace"),a.Cb(1),a.Lc(a.ic(67,212,"vmfs.freeSpace")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","reserveCapacity")("clrDgSortOrder","reserveCapacity"),a.Cb(1),a.Lc(a.ic(70,214,"vmfs.reserveCapacity")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","device"),a.Cb(1),a.Lc(a.ic(73,216,"vmfs.device")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","serviceLevelName"),a.Cb(1),a.Lc(a.ic(76,218,"vmfs.serviceLevelName")),a.Cb(2),a.mc("hidden","list"!==t.radioCheck)("clrDgField","protectionStatus"),a.Cb(1),a.Lc(a.ic(79,220,"vmfs.protectionStatus")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck)("clrDgField","iops"),a.Cb(1),a.Lc(a.ic(82,222,"vmfs.iops")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck),a.Cb(1),a.Lc(a.ic(85,224,"vmfs.iopsQoSTarget")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck)("clrDgField","bandwidth"),a.Cb(1),a.Mc("",a.ic(88,226,"vmfs.bandwidth"),"(MB/s)"),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck),a.Cb(1),a.Lc(a.ic(91,228,"vmfs.bandwidthQoSTarget")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck)("clrDgField","readResponseTime"),a.Cb(1),a.Lc(a.ic(94,230,"vmfs.readResponseTime")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck)("clrDgField","writeResponseTime"),a.Cb(1),a.Lc(a.ic(97,232,"vmfs.writeResponseTime")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck)("clrDgField","latency"),a.Cb(1),a.Lc(a.ic(100,234,"vmfs.latency")),a.Cb(2),a.mc("hidden","chart"!==t.radioCheck),a.Cb(1),a.Lc(a.ic(103,236,"vmfs.latencyQoSTarget")),a.Cb(2),a.mc("clrDgItemsOf",t.list),a.Cb(2),a.mc("clrDgPageSize",5)("clrDgTotalItems",t.total),a.Cb(2),a.mc("clrPageSizeOptions",a.pc(352,Fe)),a.Cb(2),a.Oc(" ",c.firstItem+1," - ",c.lastItem+1," of ",c.totalItems," "),a.Cb(1),a.mc("clrWizardOpen",t.popShow)("clrWizardClosable",!1),a.Cb(3),a.Lc(a.ic(115,238,"vmfs.addTitle")),a.Cb(2),a.mc("ngIf",t.modalLoading),a.Cb(1),a.mc("clrWizardPageNextDisabled",n.pristine||!o.valid),a.Cb(7),a.Lc(a.ic(125,240,"vmfs.name")),a.Cb(2),a.mc("ngModel",t.form.name),a.Cb(3),a.Lc(a.ic(130,242,"validations.required")),a.Cb(5),a.mc("ngModel",t.form.isSameName),a.Cb(2),a.Lc(a.ic(137,244,"vmfs.vmfsAddNameDesc")),a.Cb(2),a.mc("ngIf",!t.form.isSameName),a.Cb(3),a.Lc(a.ic(142,246,"vmfs.version")),a.Cb(2),a.mc("ngModel",t.form.version),a.Cb(6),a.Lc(a.ic(150,248,"validations.required")),a.Cb(4),a.Lc(a.ic(154,250,"vmfs.capacity")),a.Cb(3),a.mc("ngModel",t.form.capacity),a.Cb(2),a.mc("ngModel",t.form.capacityUnit),a.Cb(7),a.nc("value",a.ic(166,252,"vmfs.multiply")),a.Cb(2),a.mc("ngModel",t.form.count),a.Cb(4),a.Lc(a.ic(172,254,"vmfs.capacityTips")),a.Cb(3),a.Nc("",a.ic(175,256,"validations.required"),"\uff1a",a.ic(176,258,"vmfs.capacityTips"),""),a.Cb(5),a.Lc(a.ic(180,260,"vmfs.blockSize")),a.Cb(2),a.mc("ngModel",t.form.blockSize),a.Cb(1),a.mc("ngForOf",t.blockSizeOptions),a.Cb(2),a.Lc(a.ic(185,262,"validations.required")),a.Cb(4),a.Lc(a.ic(189,264,"vmfs.spaceReclamationGranularity")),a.Cb(2),a.mc("ngModel",t.form.spaceReclamationGranularity),a.Cb(1),a.mc("ngForOf",t.srgOptions),a.Cb(2),a.Lc(a.ic(194,266,"validations.required")),a.Cb(4),a.Lc(a.ic(198,268,"vmfs.spaceReclamationPriority")),a.Cb(2),a.mc("ngModel",t.form.spaceReclamationPriority),a.Cb(2),a.Lc(a.ic(202,270,"vmfs.low")),a.Cb(3),a.Lc(a.ic(205,272,"vmfs.none")),a.Cb(3),a.Lc(a.ic(208,274,"validations.required")),a.Cb(4),a.Lc(a.ic(212,276,"vmfs.hostOrCluster")),a.Cb(2),a.mc("ngIf",t.form.hostDataloadSuccess&&t.form.culDataloadSuccess),a.Cb(3),a.Lc(a.ic(217,278,"validations.comboboxTips")),a.Cb(3),a.Lc(a.ic(220,280,"validations.required")),a.Cb(3),a.mc("clrWizardPageNextDisabled",i.pristine||!r.valid),a.Cb(6),a.mc("ngIf",t.serviceLevelIsNull),a.Cb(1),a.mc("ngIf",t.isOperationErr),a.Cb(1),a.mc("ngIf","level"===t.levelCheck),a.Cb(1),a.mc("ngIf","customer"===t.levelCheck),a.Cb(2),a.mc("clrModalOpen",t.modifyShow)("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(236,282,"menu.edit")),a.Cb(6),a.Lc(a.ic(242,284,"vmfs.name")),a.Cb(2),a.mc("ngModel",t.modifyForm.name),a.Cb(4),a.Lc(a.ic(248,286,"validations.required")),a.Cb(5),a.mc("ngModel",t.modifyForm.isSameName),a.Cb(2),a.Lc(a.ic(255,288,"vmfs.modifyNameDesc")),a.Cb(2),a.mc("ngIf",t.isServiceLevelData),a.Cb(1),a.mc("ngIf","1"===t.modifyForm.control_policy&&t.isServiceLevelData),a.Cb(1),a.mc("ngIf","1"===t.modifyForm.control_policy&&t.isServiceLevelData),a.Cb(1),a.mc("ngIf","0"===t.modifyForm.control_policy&&t.isServiceLevelData),a.Cb(1),a.mc("ngIf","0"===t.modifyForm.control_policy&&t.isServiceLevelData),a.Cb(1),a.mc("ngIf","0"===t.modifyForm.control_policy&&t.isServiceLevelData),a.Cb(3),a.Lc(a.ic(265,290,"menu.cancel")),a.Cb(3),a.Lc(a.ic(268,292,"menu.ok")),a.Cb(2),a.mc("clrModalOpen",t.mountShow)("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(272,294,"vmfs.mount.mount")),a.Cb(3),a.mc("ngIf",1===t.rowSelected.length),a.Cb(1),a.mc("clrModalOpen",t.delShow)("clrModalSize","sm")("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(278,296,"vmfs.del.title")),a.Cb(4),a.Lc(a.ic(282,298,"vmfs.del.content")),a.Cb(4),a.Lc(a.ic(286,300,"menu.cancel")),a.Cb(3),a.Lc(a.ic(289,302,"menu.ok")),a.Cb(2),a.mc("clrModalOpen",t.unmountShow)("clrModalSize","lg")("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(293,304,"vmfs.unmount.title")),a.Cb(4),a.mc("ngIf",t.notChooseUnmountDevice),a.Cb(3),a.Lc(a.ic(300,306,"vmfs.name")),a.Cb(2),a.mc("ngModel",t.unmountForm.name),a.Cb(4),a.Lc(a.ic(306,308,"validations.required")),a.Cb(4),a.Lc(a.ic(310,310,"vmfs.hostOrCluster")),a.Cb(3),a.mc("ngModel",t.unmountForm.mountType),a.Cb(2),a.Lc(a.ic(315,312,"vmfs.mount.host")),a.Cb(3),a.mc("ngModel",t.unmountForm.mountType),a.Cb(2),a.Lc(a.ic(320,314,"vmfs.mount.cluster")),a.Cb(2),a.mc("ngIf","1"===t.unmountForm.mountType),a.Cb(1),a.mc("ngIf","2"===t.unmountForm.mountType),a.Cb(3),a.Lc(a.ic(326,316,"menu.cancel")),a.Cb(3),a.Lc(a.ic(329,318,"menu.ok")),a.Cb(2),a.mc("clrModalOpen",t.unmountTipsShow)("clrModalSize","sm")("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(333,320,"vmfs.reclaim.title")),a.Cb(4),a.Lc(a.ic(337,322,"vmfs.unmount.tips")),a.Cb(4),a.Lc(a.ic(341,324,"menu.cancel")),a.Cb(3),a.Lc(a.ic(344,326,"menu.ok")),a.Cb(2),a.mc("clrModalOpen",t.reclaimShow)("clrModalSize","sm")("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(348,328,"vmfs.reclaim.title")),a.Cb(4),a.Lc(a.ic(352,330,"vmfs.reclaim.content")),a.Cb(4),a.Lc(a.ic(356,332,"menu.cancel")),a.Cb(3),a.Lc(a.ic(359,334,"menu.ok")),a.Cb(2),a.mc("clrModalOpen",t.changeServiceLevelShow)("clrModalSize","lg")("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(363,336,"vmfs.changeServiceLevel")),a.Cb(3),a.mc("ngIf",1===t.rowSelected.length),a.Cb(3),a.Lc(a.ic(369,338,"menu.cancel")),a.Cb(3),a.Lc(a.ic(372,340,"menu.ok")),a.Cb(2),a.mc("clrModalOpen",t.expandShow)("clrModalClosable",!1),a.Cb(2),a.Lc(a.ic(376,342,"menu.expand")),a.Cb(7),a.Lc(a.ic(383,344,"vmfs.expandSize")),a.Cb(3),a.mc("ngModel",t.expandForm.vo_add_capacity),a.Cb(2),a.mc("ngModel",t.expandForm.capacityUnit),a.Cb(7),a.Mc("",a.ic(395,346,"vmfs.expandTips")," "),a.Cb(4),a.Lc(a.ic(399,348,"menu.cancel")),a.Cb(3),a.Lc(a.ic(402,350,"menu.ok"))}},directives:[l.w,l.z,l.B,l.E,l.H,l.m,l.qb,l.sb,l.lb,l.tb,l.o,l.pb,l.p,l.g,l.h,l.f,l.r,l.q,l.u,l.t,l.cb,l.eb,s.n,l.fb,l.ib,b.E,b.r,b.s,l.A,l.G,b.e,l.F,b.z,b.q,b.t,l.k,b.b,l.V,b.A,l.U,b.v,b.D,b.w,l.l,s.m,l.j,l.gb,l.hb,l.J,l.K,l.S,l.T,b.x,l.R,l.y,l.x,l.v,l.rb,l.n,l.nb,l.Q,l.i,l.N,l.M,l.L,l.db,s.l,d.a,l.b,l.kb,l.d,l.jb,l.c,l.ob,l.D,l.e],pipes:[m.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.loadingDiv[_ngcontent-%COMP%]{height:100%;z-index:100000;top:0;background:rgba(0,0,0,.3)}.loadingDiv[_ngcontent-%COMP%], .loadingDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;position:absolute;left:0}.loadingDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;text-align:center;top:15%;vertical-align:middle;font-size:.8rem;color:#fff;font-weight:bolder}"],changeDetection:0}),e})();var Ke=c("tk/3");let _e=(()=>{class e{constructor(e){this.http=e}getData(e){return this.http.get("accessvmfs/volume/"+e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();class De{}function qe(e,t){if(1&e&&(a.Ub(0,"option",5),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e),a.Cb(1),a.Lc(e)}}let ze=(()=>{class e{constructor(e,t,c){this.attribute=e,this.cdr=t,this.gs=c,this.selectVolume=new De,this.volNames=[]}ngOnInit(){const e=this.gs.getClientSdk().app.getContextObjects()[0].id;console.log("objectId:",e),this.getVolumeInfoByVolID(e)}getVolumeInfoByVolID(e){console.log("objectId: "+e),this.attribute.getData(e).subscribe(e=>{console.log(e),"200"===e.code?(this.volumeInfoList=e.data,this.volumeInfoList.forEach(e=>{this.volNames.push(e.name)}),this.selectVolName=this.volNames[0],this.selectVolume=this.getVolByName(this.selectVolName),this.cdr.detectChanges()):console.log(e.description),console.log("this.selectVolName",this.selectVolume)})}getVolByName(e){return this.volumeInfoList.filter(t=>t.name===e)[0]}changeVolFunc(){console.log(this.selectVolName),this.selectVolume=this.getVolByName(this.selectVolName)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(_e),a.Ob(a.h),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-attribute"]],features:[a.Bb([_e])],decls:96,vars:62,consts:[["clrSelect","","name","defaultSelect",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"table","table-vertical","table-noborder","table-compact"],["hidden",""],[1,"left"],[3,"value"]],template:function(e,t){1&e&&(a.Ub(0,"div"),a.Ub(1,"clr-select-container"),a.Ub(2,"select",0),a.cc("ngModelOptions",(function(){return t.volNames}))("ngModelChange",(function(e){return t.selectVolName=e}))("change",(function(){return t.changeVolFunc()})),a.Ic(3,qe,2,2,"option",1),a.Tb(),a.Tb(),a.Ub(4,"table",2),a.Ub(5,"tbody"),a.Ub(6,"tr"),a.Ub(7,"th"),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Ub(10,"tr"),a.Pb(11,"th",3),a.Ub(12,"td",4),a.Kc(13),a.hc(14,"translate"),a.Tb(),a.Ub(15,"td",4),a.Kc(16),a.Tb(),a.Ub(17,"td",4),a.Kc(18),a.hc(19,"translate"),a.Tb(),a.Ub(20,"td",4),a.Kc(21),a.Tb(),a.Tb(),a.Ub(22,"tr"),a.Pb(23,"th",3),a.Ub(24,"td",4),a.Kc(25),a.hc(26,"translate"),a.Tb(),a.Ub(27,"td",4),a.Kc(28),a.Tb(),a.Ub(29,"td",4),a.Kc(30),a.hc(31,"translate"),a.Tb(),a.Ub(32,"td",4),a.Kc(33),a.Tb(),a.Tb(),a.Ub(34,"tr"),a.Pb(35,"th",3),a.Ub(36,"td",4),a.Kc(37),a.hc(38,"translate"),a.Tb(),a.Ub(39,"td",4),a.Kc(40),a.Tb(),a.Tb(),a.Ub(41,"tr"),a.Ub(42,"th"),a.Kc(43),a.hc(44,"translate"),a.Tb(),a.Tb(),a.Ub(45,"tr"),a.Pb(46,"th",3),a.Ub(47,"td",4),a.Kc(48),a.hc(49,"translate"),a.Tb(),a.Ub(50,"td",4),a.Kc(51),a.Tb(),a.Ub(52,"td",4),a.Kc(53),a.hc(54,"translate"),a.Tb(),a.Ub(55,"td",4),a.Kc(56),a.Tb(),a.Tb(),a.Ub(57,"tr"),a.Ub(58,"th"),a.Kc(59),a.hc(60,"translate"),a.Tb(),a.Tb(),a.Ub(61,"tr"),a.Pb(62,"th",3),a.Ub(63,"td",4),a.Kc(64),a.hc(65,"translate"),a.Tb(),a.Ub(66,"td",4),a.Kc(67),a.Tb(),a.Tb(),a.Ub(68,"tr"),a.Ub(69,"th"),a.Kc(70),a.hc(71,"translate"),a.Tb(),a.Tb(),a.Ub(72,"tr"),a.Pb(73,"th",3),a.Ub(74,"td",4),a.Kc(75),a.hc(76,"translate"),a.Tb(),a.Ub(77,"td",4),a.Kc(78),a.Tb(),a.Ub(79,"td",4),a.Kc(80),a.hc(81,"translate"),a.Tb(),a.Ub(82,"td",4),a.Kc(83),a.Tb(),a.Tb(),a.Ub(84,"tr"),a.Pb(85,"th",3),a.Ub(86,"td",4),a.Kc(87),a.hc(88,"translate"),a.Tb(),a.Ub(89,"td",4),a.Kc(90),a.Tb(),a.Ub(91,"td",4),a.Kc(92),a.hc(93,"translate"),a.Tb(),a.Ub(94,"td",4),a.Kc(95),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.mc("ngModel",t.selectVolName),a.Cb(1),a.mc("ngForOf",t.volNames),a.Cb(5),a.Lc(a.ic(9,30,"vmfs.basicInformation")),a.Cb(5),a.Lc(a.ic(14,32,"vmfs.name")),a.Cb(3),a.Lc(t.selectVolume.name),a.Cb(2),a.Lc(a.ic(19,34,"vmfs.wwn")),a.Cb(3),a.Lc(t.selectVolume.wwn),a.Cb(4),a.Lc(a.ic(26,36,"vmfs.storage")),a.Cb(3),a.Lc(t.selectVolume.storage),a.Cb(2),a.Lc(a.ic(31,38,"vmfs.storagePool")),a.Cb(3),a.Lc(t.selectVolume.storagePool),a.Cb(4),a.Lc(a.ic(38,40,"vmfs.serviceLevelName")),a.Cb(3),a.Lc(t.selectVolume.serviceLevel),a.Cb(3),a.Lc(a.ic(44,42,"vmfs.qosPolicy")),a.Cb(5),a.Lc(a.ic(49,44,"vmfs.controlPolicy")),a.Cb(3),a.Lc(t.selectVolume.controlPolicy),a.Cb(2),a.Lc(a.ic(54,46,"vmfs.trafficControlObject")),a.Cb(3),a.Lc(t.selectVolume.trafficControl),a.Cb(3),a.Lc(a.ic(60,48,"vmfs.smartTier")),a.Cb(5),a.Lc(a.ic(65,50,"vmfs.smartTierPolicy")),a.Cb(3),a.Lc(t.selectVolume.smartTier),a.Cb(3),a.Lc(a.ic(71,52,"vmfs.applicationType")),a.Cb(5),a.Lc(a.ic(76,54,"vmfs.applicationType")),a.Cb(3),a.Lc(t.selectVolume.provisionType),a.Cb(2),a.Lc(a.ic(81,56,"vmfs.provisioningType")),a.Cb(3),a.Lc(t.selectVolume.provisionType),a.Cb(4),a.Lc(a.ic(88,58,"vmfs.deduplication")),a.Cb(3),a.Lc(t.selectVolume.dudeplication),a.Cb(2),a.Lc(a.ic(93,60,"vmfs.compression")),a.Cb(3),a.Lc(t.selectVolume.compression))},directives:[l.V,b.A,l.U,b.q,b.t,s.m,b.v,b.D],pipes:[m.c],styles:[""]}),e})(),Be=(()=>{class e{constructor(e){this.http=e,this.iopsChart={height:300,title:{text:"IOPS",subtext:"IO/s",textStyle:{fontStyle:"normal"},textAlign:"bottom"},xAxis:{type:"category",data:[]},yAxis:{type:"value",max:8,min:0,splitNumber:2,boundaryGap:["50%","50%"],axisLine:{show:!1}},tooltip:{trigger:"axis",formatter:"{b} <br/> {a0}: {c0}<br/>{a1}: {c1}<br/>{a2}: {c2}<br/>{a3}: {c3}",axisPointer:{type:"line",axis:"x",snap:!0}},legend:{data:[{name:"Upper Limit"},{name:"Lower Limit"},{name:"Read",icon:"triangle"},{name:"Write",icon:"triangle"}],y:"top",x:"right"},dataZoom:[{type:"slider",xAxisIndex:0,start:10,end:60},{type:"inside",xAxisIndex:0,start:10,end:60},{type:"slider",yAxisIndex:0,start:10,end:80},{type:"inside",yAxisIndex:0,start:30,end:80}],series:[{name:"Upper Limit",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"dotted",color:"#DB2000"}}},label:{show:!0,formatter:"This is a normal label."}},{name:"Lower Limit",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"dotted",color:"#F8E082"}}}},{name:"Read",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"solid",color:"#6870c4"}}}},{name:"Write",data:[],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{width:2,type:"solid",color:"#01bfa8"}}}}]}}getData(e){return this.http.get("accessvmfs/volume/"+e)}getIopsChart(e,t,c,o,n,i,r,a,l){return new Promise((c,i)=>{this.http.post("datastorestatistichistrory/vmfs",{indicator_ids:o,obj_ids:n,range:r}).subscribe(i=>{if("200"===i.code&&null!==i.data){this.resData=i.data;const r=this.resData[n[0]][o[0]];console.log("upperData"),console.log(r);const a=this.resData[n[0]][o[1]];let l,s;for(const e of Object.keys(r.max))l=Number(r.max[e]),console.log(l);for(const e of Object.keys(a.max))s=Number(a.max[e]),console.log(l);const b=r.avg,d=a.avg,m=r.series,h=a.series;this.setXAxisData2(m,this.iopsChart),this.iopsChart.title.text=e,this.iopsChart.title.subtext=t,this.iopsChart.yAxis.max=(l>s?l:s)+2,console.log("this.iopsChart.yAxis.max"+this.iopsChart.yAxis.max),m.forEach(e=>{for(const t of Object.keys(e))this.iopsChart.series[2].data.push({value:Number(e[t]),symbol:"none"});for(const t of Object.keys(b))this.iopsChart.series[0].data.push({value:Number(b[t]),symbol:"none"})}),h.forEach(e=>{for(const t of Object.keys(e))this.iopsChart.series[3].data.push({value:Number(e[t]),symbol:"none"});for(const t of Object.keys(d))this.iopsChart.series[1].data.push({value:Number(d[t]),symbol:"none"})}),c(this.iopsChart)}},e=>{console.error("ERROR",e)})})}setXAxisData2(e,t){console.log("data",e),e.forEach(e=>{for(const c of Object.keys(e)){const e=new Date(+c),o=e.getFullYear()+"-"+e.getMonth()+"-"+e.getDay()+" "+e.getHours()+":"+e.getMinutes();t.xAxis.data.push(o)}})}setXAxisData(e,t,c,o){let n,i;switch(e){case"LAST_1_HOUR":n=1;break;case"LAST_4_HOUR":n=4;break;case"LAST_12_HOUR":n=12;break;default:n=24}switch(o){case"ONE_MINUTE":case"MINUTE":i=60;break;case"HALF_HOUR":i=2;break;default:i=1}const r=new Date(t),a=new Date(c);console.log("--------------"),console.log(t),console.log("type of beginTime:",typeof t),console.log(c),console.log("startDate",r),console.log("endDate",a),console.log(i),console.log(n);for(let l=0;l<n*i;l++){const e=r;switch(o){case"ONE_MINUTE":case"MINUTE":e.setMinutes(r.getMinutes()+l);break;case"HALF_HOUR":e.setMinutes(r.getMinutes()+30*l);break;default:e.setHours(r.getHours()+l)}const t=e.getHours()+":"+e.getMinutes();this.iopsChart.xAxis.data.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();var Ne=c("tMGR"),Ve=c("FKr1"),je=c("DKVz"),He=c("kmnG"),Re=c("iadO");function Ee(e,t){if(1&e&&(a.Ub(0,"option",10),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e),a.Cb(1),a.Lc(e)}}function We(e,t){1&e&&(a.Ub(0,"mat-error"),a.Kc(1,"Invalid start date"),a.Tb())}function $e(e,t){1&e&&(a.Ub(0,"mat-error"),a.Kc(1,"Invalid end date"),a.Tb())}function Ae(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td"),a.Ub(1,"mat-form-field",11),a.Ub(2,"mat-label"),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ub(5,"mat-date-range-input",12),a.Ub(6,"input",13),a.cc("dateChange",(function(){return a.zc(e),a.gc().changeDate()})),a.Tb(),a.Ub(7,"input",14),a.cc("dateChange",(function(){return a.zc(e),a.gc().changeDate()})),a.Tb(),a.Tb(),a.Pb(8,"mat-datepicker-toggle",15),a.Pb(9,"mat-date-range-picker",null,16),a.Ic(11,We,2,0,"mat-error",5),a.Ic(12,$e,2,0,"mat-error",5),a.Tb(),a.Tb()}if(2&e){const e=a.wc(10),t=a.gc();a.Cb(3),a.Lc(a.ic(4,6,"vmfs.timeInputTips")),a.Cb(2),a.mc("formGroup",t.rangeTime)("rangePicker",e),a.Cb(3),a.mc("for",e),a.Cb(3),a.mc("ngIf",t.rangeTime.controls.start.hasError("matStartDateInvalid")),a.Cb(1),a.mc("ngIf",t.rangeTime.controls.end.hasError("matEndDateInvalid"))}}function Ge(e,t){if(1&e&&(a.Ub(0,"option",10),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.key),a.Cb(1),a.Lc(e.value)}}let Ye=(()=>{class e{constructor(e,t,c,o,n,i){this.nfsService=e,this.makePerformance=t,this.perService=c,this.ngZone=o,this.cdr=n,this.gs=i,this.rangeTime=new b.j({start:new b.g,end:new b.g}),this.iopsChart={},this.bandwidthChart={},this.latencyChart={},this.range="LAST_1_DAY",this.timeInterval=36e5,this.volNames=[],this.ranges=Ne.g.perRanges,this.startTime="LAST_1_DAY",this.endTime=null}ngOnInit(){const e=this.gs.getClientSdk().app.getContextObjects();this.getVolumeInfoByVolID(e[0].id),this.selectRange="LAST_1_DAY"}initChart(){console.log("this.rang",this.range);const e=[];e.push(this.selectVolume.wwn),this.makePerformance.setChart(300,"IOPS","IO/s",Ne.g.vmfsIOPS,e,this.selectRange,Ne.g.vmfsUrl,this.startTime,this.endTime).then(e=>{this.iopsChart=e,this.cdr.detectChanges()}),this.makePerformance.setChart(300,"Bandwidth","MB/s",Ne.g.vmfsBDWT,e,this.selectRange,Ne.g.vmfsUrl,this.startTime,this.endTime).then(e=>{this.bandwidthChart=e,this.cdr.detectChanges()}),this.makePerformance.setChart(300,"Latency","ms",Ne.g.vmfsLatency,e,this.selectRange,Ne.g.vmfsUrl,this.startTime,this.endTime).then(e=>{this.latencyChart=e,this.cdr.detectChanges()})}changeVolFunc(){if(console.log(this.selectVolName&&this.selectRange),"BEGIN_END_TIME"===this.selectRange){if(null===this.startTime||null===this.endTime)return void console.log("\u5f00\u59cb\u7ed3\u675f\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a")}else this.startTime=null,this.endTime=null;this.selectRange?(console.log("this.selectVolName+this.selectRange",this.selectVolName,this.selectRange),this.selectVolume=this.makePerformance.getVolByName(this.selectVolName,this.volumeInfoList),this.initChart()):console.log("\u672a\u9009\u62e9\u5377\u6216range")}changeDate(){this.rangeTime.controls.start.hasError("matStartDateInvalid")||this.rangeTime.controls.end.hasError("matEndDateInvalid")||null===this.rangeTime.controls.start.value||null===this.rangeTime.controls.end.value||(this.startTime=this.rangeTime.controls.start.value._d.getTime(),this.endTime=this.rangeTime.controls.end.value._d.getTime(),console.log("startTime",this.startTime),console.log("endTime",this.endTime),this.changeVolFunc())}getVolumeInfoByVolID(e){console.log("objectId: "+e),this.perService.getData(e).subscribe(e=>{console.log("volumns:",e),"200"===e.code?(this.volumeInfoList=e.data,this.volumeInfoList.forEach(e=>{this.volNames.push(e.name)}),this.selectVolName=this.volNames[0],this.selectVolume=this.getVolByName(this.selectVolName),this.initChart()):console.log(e.description),this.cdr.detectChanges()})}getVolByName(e){return this.volumeInfoList.filter(t=>t.name===e)[0]}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Ne.g),a.Ob(Ne.f),a.Ob(Be),a.Ob(a.B),a.Ob(a.h),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-performance"]],features:[a.Bb([Be,Ne.f,Ne.g,{provide:Ve.f,useValue:"en-GB"}])],decls:17,vars:8,consts:[["clrForm",""],["simpleForm","ngForm"],["cellpadding","5",1,"searchtable"],["clrSelect","","name","defaultSelect",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["clrSelect","","name","selectRange","required","",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],["echarts","","id","iopsChart",2,"height","600px",3,"options"],["echarts","","id","bandwidthChart",2,"height","600px",3,"options"],["echarts","","id","latencyChart",2,"height","600px",3,"options"],[3,"value"],["appearance","fill"],[3,"formGroup","rangePicker"],["required","","matStartDate","","formControlName","start","placeholder","Start date",3,"dateChange"],["required","","matEndDate","","formControlName","end","placeholder","End date",3,"dateChange"],["matSuffix","",3,"for"],["picker",""]],template:function(e,t){1&e&&(a.Ub(0,"div"),a.Ub(1,"form",0,1),a.Ub(3,"table",2),a.Ub(4,"tr"),a.Ub(5,"td"),a.Ub(6,"clr-select-container"),a.Ub(7,"select",3),a.cc("ngModelOptions",(function(){return t.volNames}))("ngModelChange",(function(e){return t.selectVolName=e}))("change",(function(){return t.changeVolFunc()})),a.Ic(8,Ee,2,2,"option",4),a.Tb(),a.Tb(),a.Tb(),a.Ic(9,Ae,13,8,"td",5),a.Ub(10,"td"),a.Ub(11,"clr-select-container"),a.Ub(12,"select",6),a.cc("ngModelOptions",(function(){return t.ranges}))("ngModelChange",(function(e){return t.selectRange=e}))("change",(function(){return t.changeVolFunc()})),a.Ic(13,Ge,2,2,"option",4),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(14,"div",7),a.Pb(15,"div",8),a.Pb(16,"div",9),a.Tb()),2&e&&(a.Cb(7),a.mc("ngModel",t.selectVolName),a.Cb(1),a.mc("ngForOf",t.volNames),a.Cb(1),a.mc("ngIf","BEGIN_END_TIME"===t.selectRange),a.Cb(3),a.mc("ngModel",t.selectRange),a.Cb(1),a.mc("ngForOf",t.ranges),a.Cb(1),a.mc("options",t.iopsChart),a.Cb(1),a.mc("options",t.bandwidthChart),a.Cb(1),a.mc("options",t.latencyChart))},directives:[b.E,b.r,b.s,l.A,l.V,b.A,l.U,b.q,b.t,s.m,s.n,b.z,je.b,b.v,b.D,He.c,He.g,Re.b,b.k,Re.h,b.e,b.i,Re.g,Re.f,He.i,Re.c,He.b],pipes:[m.c],styles:["table.searchtable[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;border:0;border-collapse:collapse;font-size:13px}table.searchtable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:35px;text-align:right;font-weight:400;padding-right:5px;width:8%}table.searchtable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding-right:30px;padding-left:3px;width:15%}table.searchtable[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:26px}"]}),e})(),Qe=(()=>{class e{constructor(e){this.http=e}getDataStoreByHostId(e,t){return this.http.get("accessvmware/getdatastoresbyhostobjectid?hostObjectId="+e+"&dataStoreType="+t)}getDataStoreByClusterId(e,t){return this.http.get("accessvmware/getdatastoresbyhostobjectid?clusterObjectId="+e+"&dataStoreType="+t)}mountVmfs(e={}){return this.http.post("accessvmfs/mountvmfs",e)}getHostListByObjectId(e){return this.http.get("accessvmware/gethostsbydsobjectid?dataStoreObjectId="+e)}getClusterListByObjectId(e){return this.http.get("accessvmware/getclustersbydsobjectid?dataStoreObjectId="+e)}unmountVMFS(e={}){return this.http.post("accessvmfs/ummountvmfs",e)}getMountHost(e){return this.http.get("accessvmfs/gethostsbystorageid/"+e)}getMountCluster(e){return this.http.get("accessvmfs/gethostgroupsbystorageid/"+e)}getMountedByHostObjId(e,t){return this.http.get("accessvmware/getmountdatastoresbyhostobjectid?hostObjectId="+e+"&dataStoreType="+t)}getMountedByClusterObjId(e,t){return this.http.get("accessvmware/getmountdatastoresbyclusterobjectid?clusterObjectId="+e+"&dataStoreType="+t)}getVmfsById(e){return this.http.get("accessvmfs/queryvmfs?dataStoreObjectId="+e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();function Xe(e,t){1&e&&(a.Ub(0,"div",12),a.Pb(1,"clr-icon",13),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.mount.notChooseDataStoreTips")))}function Je(e,t){1&e&&(a.Ub(0,"div",12),a.Pb(1,"clr-icon",13),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.unmount.notChooseDataStoreTips")))}function Ze(e,t){if(1&e&&(a.Ub(0,"clr-dg-row",14),a.Ub(1,"clr-dg-cell",9),a.Kc(2),a.Tb(),a.Ub(3,"clr-dg-cell",9),a.Kc(4),a.Tb(),a.Ub(5,"clr-dg-cell"),a.Kc(6),a.Tb(),a.Ub(7,"clr-dg-cell"),a.Kc(8),a.Tb(),a.Ub(9,"clr-dg-cell"),a.Kc(10),a.Tb(),a.Ub(11,"clr-dg-cell"),a.Kc(12),a.Tb(),a.Ub(13,"clr-dg-cell"),a.Kc(14),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.mc("clrDgItem",e),a.Cb(2),a.Lc(e.id),a.Cb(2),a.Lc(e.objectId),a.Cb(2),a.Lc(e.name),a.Cb(2),a.Lc(e.type),a.Cb(2),a.Lc(e.status),a.Cb(2),a.Lc(e.capacity),a.Cb(2),a.Lc(e.freeSpace)}}function et(e,t){if(1&e){const e=a.Vb();a.Ub(0,"form",6),a.Ic(1,Xe,4,3,"div",7),a.Ic(2,Je,4,3,"div",7),a.Ub(3,"clr-datagrid",8),a.cc("clrDgSelectedChange",(function(t){return a.zc(e),a.gc(2).chooseMountDataStore=t})),a.Ub(4,"clr-dg-column",9),a.Kc(5,"ID"),a.Tb(),a.Ub(6,"clr-dg-column",9),a.Kc(7,"objectId"),a.Tb(),a.Ub(8,"clr-dg-column",10),a.Kc(9),a.hc(10,"translate"),a.Tb(),a.Ub(11,"clr-dg-column",10),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Ub(14,"clr-dg-column",10),a.Kc(15),a.hc(16,"translate"),a.Tb(),a.Ub(17,"clr-dg-column",10),a.Kc(18),a.hc(19,"translate"),a.Tb(),a.Ub(20,"clr-dg-column",10),a.Kc(21),a.hc(22,"translate"),a.Tb(),a.Ic(23,Ze,15,8,"clr-dg-row",11),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(1),a.mc("ngIf",e.notChooseMountDevice),a.Cb(1),a.mc("ngIf",e.notChooseUnmountDevice),a.Cb(1),a.mc("clrDgSelected",e.chooseMountDataStore)("clrDgLoading",e.isLoading),a.Cb(5),a.mc("clrDgField","name"),a.Cb(1),a.Lc(a.ic(10,15,"vmfs.name")),a.Cb(2),a.mc("clrDgField","type"),a.Cb(1),a.Lc(a.ic(13,17,"vmfs.type")),a.Cb(2),a.mc("clrDgField","status"),a.Cb(1),a.Lc(a.ic(16,19,"vmfs.status")),a.Cb(2),a.mc("clrDgField","capacity"),a.Cb(1),a.Lc(a.ic(19,21,"vmfs.capacity")),a.Cb(2),a.mc("clrDgField","freeSpace"),a.Cb(1),a.Lc(a.ic(22,23,"vmfs.freeSpace")),a.Cb(2),a.mc("clrDgItemsOf",e.dataStores)}}function tt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",1),a.Ic(2,et,24,25,"form",2),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"button",4),a.cc("click",(function(){return a.zc(e),a.gc().cancel()})),a.Kc(5),a.hc(6,"translate"),a.Tb(),a.Ub(7,"button",5),a.cc("click",(function(){return a.zc(e),a.gc().mountOrUnmountFunc()})),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.mc("ngIf","others"===e.resource),a.Cb(3),a.Lc(a.ic(6,3,"menu.cancel")),a.Cb(3),a.Lc(a.ic(9,5,"menu.ok"))}}function ct(e,t){1&e&&a.Pb(0,"clr-icon",28)}function ot(e,t){if(1&e&&(a.Ub(0,"clr-option",26),a.Ic(1,ct,1,0,"clr-icon",27),a.Kc(2),a.Tb()),2&e){const e=t.$implicit;a.mc("clrValue",e),a.Cb(1),a.mc("ngIf",""!==e.hostName),a.Cb(1),a.Mc("",e.hostName," ")}}function nt(e,t){if(1&e&&(a.Ub(0,"clr-options"),a.Ic(1,ot,3,3,"clr-option",25),a.Tb()),2&e){const e=a.gc(4);a.Cb(1),a.mc("clrOptionItemsOf",e.hostList)("clrOptionItemsField","hostName")}}function it(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-combobox-container"),a.Ub(1,"label",16),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-combobox",23),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(3).chooseHost=t})),a.Ic(5,nt,2,2,"clr-options",0),a.Tb(),a.Ub(6,"clr-control-helper"),a.Pb(7,"clr-icon",24),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc(3);a.Cb(2),a.Lc(a.ic(3,4,"vmfs.mount.host")),a.Cb(2),a.mc("ngModel",e.chooseHost),a.Cb(1),a.mc("ngIf",e.mountHostData),a.Cb(3),a.Lc(a.ic(9,6,"validations.comboboxTips"))}}function rt(e,t){1&e&&a.Pb(0,"clr-icon",28)}function at(e,t){if(1&e&&(a.Ub(0,"clr-option",26),a.Ic(1,rt,1,0,"clr-icon",27),a.Kc(2),a.Tb()),2&e){const e=t.$implicit;a.mc("clrValue",e),a.Cb(1),a.mc("ngIf",""!==e.clusterName),a.Cb(1),a.Mc("",e.clusterName," ")}}function lt(e,t){if(1&e&&(a.Ub(0,"clr-options"),a.Ic(1,at,3,3,"clr-option",25),a.Tb()),2&e){const e=a.gc(4);a.Cb(1),a.mc("clrOptionItemsOf",e.clusterList)("clrOptionItemsField","clusterName")}}function st(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-combobox-container"),a.Ub(1,"label",16),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-combobox",29),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(3).chooseCluster=t})),a.Ic(5,lt,2,2,"clr-options",0),a.Tb(),a.Ub(6,"clr-control-helper"),a.Pb(7,"clr-icon",24),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc(3);a.Cb(2),a.Lc(a.ic(3,4,"vmfs.mount.cluster")),a.Cb(2),a.mc("ngModel",e.chooseCluster),a.Cb(1),a.mc("ngIf",e.mountClusterData),a.Cb(3),a.Lc(a.ic(9,6,"validations.comboboxTips"))}}function bt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",1),a.Ub(1,"form",6),a.Ub(2,"clr-input-container"),a.Ub(3,"label",16),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"input",17,18),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).vmfsInfo.name=t})),a.Tb(),a.Pb(8,"br"),a.Ub(9,"clr-control-error"),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Ub(12,"clr-radio-container",19),a.Ub(13,"label",20),a.Kc(14),a.hc(15,"translate"),a.Tb(),a.Ub(16,"clr-radio-wrapper"),a.Ub(17,"input",21),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).mountForm.mountType=t})),a.Tb(),a.Ub(18,"label"),a.Kc(19),a.hc(20,"translate"),a.Tb(),a.Tb(),a.Ub(21,"clr-radio-wrapper"),a.Ub(22,"input",22),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).mountForm.mountType=t})),a.Tb(),a.Ub(23,"label"),a.Kc(24),a.hc(25,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(26,it,10,8,"clr-combobox-container",0),a.Ic(27,st,10,8,"clr-combobox-container",0),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(4),a.Lc(a.ic(5,10,"vmfs.name")),a.Cb(2),a.mc("ngModel",e.vmfsInfo.name),a.Cb(4),a.Lc(a.ic(11,12,"validations.required")),a.Cb(4),a.Lc(a.ic(15,14,"vmfs.hostOrCluster")),a.Cb(3),a.mc("ngModel",e.mountForm.mountType),a.Cb(2),a.Lc(a.ic(20,16,"vmfs.mount.host")),a.Cb(3),a.mc("ngModel",e.mountForm.mountType),a.Cb(2),a.Lc(a.ic(25,18,"vmfs.mount.cluster")),a.Cb(2),a.mc("ngIf","1"===e.mountForm.mountType),a.Cb(1),a.mc("ngIf","2"===e.mountForm.mountType)}}function dt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ic(1,bt,28,20,"div",15),a.Ub(2,"div",3),a.Ub(3,"button",4),a.cc("click",(function(){return a.zc(e),a.gc().cancel()})),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"button",5),a.cc("click",(function(){return a.zc(e),a.gc().mountOrUnmountFunc()})),a.Kc(7),a.hc(8,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(1),a.mc("ngIf",e.mountShow),a.Cb(3),a.Lc(a.ic(5,3,"menu.cancel")),a.Cb(3),a.Lc(a.ic(8,5,"menu.ok"))}}function mt(e,t){1&e&&(a.Ub(0,"div",12),a.Pb(1,"clr-icon",13),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.unmount.notChooseDeviceTips")))}function ht(e,t){if(1&e&&(a.Ub(0,"clr-dg-row",14),a.Ub(1,"clr-dg-cell",9),a.Kc(2),a.Tb(),a.Ub(3,"clr-dg-cell"),a.Kc(4),a.Tb(),a.Ub(5,"clr-dg-cell"),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.mc("clrDgItem",e),a.Cb(2),a.Lc(e.deviceId),a.Cb(2),a.Lc(e.deviceName),a.Cb(2),a.Lc(a.ic(7,4,"vmfs.host"))}}function ut(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-datagrid",33),a.cc("clrDgSingleSelectedChange",(function(t){return a.zc(e),a.gc(2).chooseUnmountHost=t})),a.Pb(1,"clr-dg-column",9),a.Ub(2,"clr-dg-column",10),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ub(5,"clr-dg-column",10),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ic(8,ht,8,6,"clr-dg-row",11),a.Tb()}if(2&e){const e=a.gc(2);a.mc("clrDgSingleSelected",e.chooseUnmountHost)("clrDgLoading",e.isLoading),a.Cb(2),a.mc("clrDgField","name"),a.Cb(1),a.Lc(a.ic(4,7,"vmfs.name")),a.Cb(2),a.mc("clrDgField","type"),a.Cb(1),a.Lc(a.ic(7,9,"vmfs.type")),a.Cb(2),a.mc("clrDgItemsOf",e.mountedHost)}}function gt(e,t){if(1&e&&(a.Ub(0,"clr-dg-row",14),a.Ub(1,"clr-dg-cell",9),a.Kc(2),a.Tb(),a.Ub(3,"clr-dg-cell"),a.Kc(4),a.Tb(),a.Ub(5,"clr-dg-cell"),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.mc("clrDgItem",e),a.Cb(2),a.Lc(e.deviceId),a.Cb(2),a.Lc(e.deviceName),a.Cb(2),a.Lc(a.ic(7,4,"vmfs.cluster"))}}function pt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-datagrid",33),a.cc("clrDgSingleSelectedChange",(function(t){return a.zc(e),a.gc(2).chooseUnmountCluster=t})),a.Pb(1,"clr-dg-column",9),a.Ub(2,"clr-dg-column",10),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ub(5,"clr-dg-column",10),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ic(8,gt,8,6,"clr-dg-row",11),a.Tb()}if(2&e){const e=a.gc(2);a.mc("clrDgSingleSelected",e.chooseUnmountCluster)("clrDgLoading",e.isLoading),a.Cb(2),a.mc("clrDgField","name"),a.Cb(1),a.Lc(a.ic(4,7,"vmfs.name")),a.Cb(2),a.mc("clrDgField","type"),a.Cb(1),a.Lc(a.ic(7,9,"vmfs.type")),a.Cb(2),a.mc("clrDgItemsOf",e.mountedCluster)}}function ft(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",1),a.Ub(2,"form",6),a.Ic(3,mt,4,3,"div",7),a.Ub(4,"clr-input-container"),a.Ub(5,"label",16),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ub(8,"input",17,18),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().vmfsInfo.name=t})),a.Tb(),a.Pb(10,"br"),a.Ub(11,"clr-control-error"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Tb(),a.Ub(14,"clr-radio-container",19),a.Ub(15,"label",20),a.Kc(16),a.hc(17,"translate"),a.Tb(),a.Ub(18,"clr-radio-wrapper"),a.Ub(19,"input",30),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().unmountForm.mountType=t})),a.Tb(),a.Ub(20,"label"),a.Kc(21),a.hc(22,"translate"),a.Tb(),a.Tb(),a.Ub(23,"clr-radio-wrapper"),a.Ub(24,"input",31),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().unmountForm.mountType=t})),a.Tb(),a.Ub(25,"label"),a.Kc(26),a.hc(27,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(28,ut,9,11,"clr-datagrid",32),a.Ic(29,pt,9,11,"clr-datagrid",32),a.Tb(),a.Tb(),a.Ub(30,"div",3),a.Ub(31,"button",4),a.cc("click",(function(){return a.zc(e),a.gc().cancel()})),a.Kc(32),a.hc(33,"translate"),a.Tb(),a.Ub(34,"button",5),a.cc("click",(function(){return a.zc(e),a.gc().mountOrUnmountFunc()})),a.Kc(35),a.hc(36,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.mc("ngIf",e.notChooseUnmountDevice),a.Cb(3),a.Lc(a.ic(7,13,"vmfs.name")),a.Cb(2),a.mc("ngModel",e.vmfsInfo.name),a.Cb(4),a.Lc(a.ic(13,15,"validations.required")),a.Cb(4),a.Lc(a.ic(17,17,"vmfs.hostOrCluster")),a.Cb(3),a.mc("ngModel",e.unmountForm.mountType),a.Cb(2),a.Lc(a.ic(22,19,"vmfs.mount.host")),a.Cb(3),a.mc("ngModel",e.unmountForm.mountType),a.Cb(2),a.Lc(a.ic(27,21,"vmfs.mount.cluster")),a.Cb(2),a.mc("ngIf","1"===e.unmountForm.mountType),a.Cb(1),a.mc("ngIf","2"===e.unmountForm.mountType),a.Cb(3),a.Lc(a.ic(33,23,"menu.cancel")),a.Cb(3),a.Lc(a.ic(36,25,"menu.ok"))}}let Ct=(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.activatedRoute=t,this.cdr=c,this.router=o,this.globalsService=n,this.dataStores=[],this.chooseMountDataStore=[],this.isLoading=!0,this.notChooseMountDevice=!1,this.notChooseUnmountDevice=!1,this.mountForm=(new i.a).getMountForm(),this.mountShow=!1,this.hostMountShow=!1,this.mountHostData=!0,this.hostList=[],this.mountClusterData=!0,this.clusterList=[],this.unmountShow=!1,this.unmountForm=(new i.a).getUnmountForm(),this.chooseUnmountHost=null,this.chooseUnmountCluster=null,this.mountedHost=[],this.mountedCluster=[],this.vmfsInfo={name:""}}ngOnInit(){this.unmountShow=!1,this.mountShow=!1,this.hostMountShow=!1,this.initData()}initData(){this.activatedRoute.url.subscribe(e=>{console.log("url",e),e.length>1?(this.dataType=e[0]+"",this.operationType=e[1]+""):this.operationType=e[0]+"",this.activatedRoute.queryParams.subscribe(e=>{this.resource=e.resource;const t=this.globalsService.getClientSdk().app.getContextObjects();"others"!==this.resource?(this.objectId="list"===this.resource?e.objectId:t[0].id,this.remoteSrv.getVmfsById(this.objectId).subscribe(e=>{console.log("result:",e),"200"===e.code&&null!=e.data&&(this.vmfsInfo=e.data.filter(e=>e.objectid===this.objectId)[0]),console.log("this.vmfsInfo ",this.vmfsInfo),"mount"===this.operationType?this.mountShow=!0:this.unmountShow=!0,this.cdr.detectChanges()})):(this.hostOrClusterId=t[0].id,this.hostMountShow=!0),this.cdr.detectChanges()})}),console.log("this.objectId",this.objectId),console.log("this.hostOrClusterId",this.hostOrClusterId),this.getDataStore()}getDataStore(){this.dataStores=[],console.log("this.dataType","host"===this.dataType),console.log("this.operationType","unmount"===this.operationType),console.log("this.resource","others"===this.resource),"mount"===this.operationType?(this.mountForm=(new i.a).getMountForm(),this.mountForm.mountType="host"===this.dataType?"1":"2"):(this.unmountForm=(new i.a).getUnmountForm(),this.unmountForm.mountType="host"===this.dataType?"1":"2"),"others"===this.resource?(this.mountShow=!1,this.unmountShow=!1,"mount"===this.operationType?this.mountDataStore():this.unmountDataStore()):"mount"===this.operationType?(this.mountHostData=!1,this.hostList=[],this.hostList.push({hostId:"",hostName:""}),this.initMountHost(),this.mountClusterData=!1,this.clusterList=[],this.clusterList.push({clusterId:"",clusterName:""}),this.initMountCluster().then(e=>{this.cdr.detectChanges()})):(this.isLoading=!0,console.log("this.unmountShow",this.unmountShow),this.notChooseUnmountDevice=!1,this.chooseUnmountCluster=null,this.chooseUnmountHost=null,this.remoteSrv.getMountHost(this.objectId).subscribe(e=>{if(console.log(e),"200"===e.code&&null!==e.data&&e.data.length>=1){this.unmountForm.mountType="1";const t=[];e.data.forEach(e=>{t.push({deviceId:e.hostId,deviceName:e.hostName,deviceType:"host"})}),this.mountedHost=t}this.cdr.detectChanges()}),this.remoteSrv.getMountCluster(this.objectId).subscribe(e=>{if(console.log(e),"200"===e.code&&null!==e.data&&e.data.length>=1){this.unmountForm.mountType="2";const t=[];e.data.forEach(e=>{t.push({deviceId:e.hostId,deviceName:e.hostName,deviceType:"host"})}),this.mountedCluster=t}this.cdr.detectChanges()}),this.isLoading=!1)}mountDataStore(){switch(this.dataType){case"host":this.mountForm.hostId=this.hostOrClusterId,this.remoteSrv.getDataStoreByHostId(this.hostOrClusterId,"VMFS").subscribe(e=>{console.log("mountHostData:",e),"200"===e.code&&null!=e.data&&(this.dataStores=e.data),this.isLoading=!1,this.cdr.detectChanges()});break;case"cluster":this.mountForm.clusterId=this.hostOrClusterId,this.remoteSrv.getDataStoreByClusterId(this.hostOrClusterId,"VMFS").subscribe(e=>{console.log("mountHostData:",e),"200"===e.code&&null!=e.data&&(this.dataStores=e.data),this.isLoading=!1,this.cdr.detectChanges()})}}unmountDataStore(){switch(this.dataType){case"host":this.isLoading=!1,this.remoteSrv.getMountedByHostObjId(this.hostOrClusterId,"VMFS").subscribe(e=>{console.log("mountedHostData:",e),"200"===e.code&&null!=e.data&&(this.dataStores=e.data),this.isLoading=!1,this.cdr.detectChanges()});break;case"cluster":this.isLoading=!1,this.remoteSrv.getMountedByClusterObjId(this.hostOrClusterId,"VMFS").subscribe(e=>{console.log("mountedClusterData:",e),"200"===e.code&&null!=e.data&&(this.dataStores=e.data),this.isLoading=!1,this.cdr.detectChanges()})}}mountOrUnmountFunc(){"others"===this.resource?"unmount"===this.operationType?this.unMountHandleFunc():this.mountHandleFunc():"unmount"===this.operationType?this.unmountHandleFunc():this.mountSubmit(),this.cancel()}cancel(){"others"!==this.resource&&("mount"===this.operationType?this.mountShow=!1:this.unmountShow=!1),"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}mountHandleFunc(){if(this.chooseMountDataStore.length<1)this.notChooseMountDevice=!0;else{this.notChooseMountDevice=!1;const e=[];this.chooseMountDataStore.forEach(t=>{e.push(t.objectId)}),this.mountForm.dataStoreObjectIds=e,this.remoteSrv.mountVmfs(this.mountForm).subscribe(e=>{"200"===e.code?console.log("\u6302\u8f7d\u6210\u529f"):console.log("\u6302\u8f7d\u5f02\u5e38\uff1a"+e.description),this.mountShow=!1,this.cdr.detectChanges()})}}unMountHandleFunc(){if(this.chooseMountDataStore.length<1)this.notChooseUnmountDevice=!0;else{this.notChooseUnmountDevice=!1,"1"===this.unmountForm.mountType?this.unmountForm.hostId=this.hostOrClusterId:this.unmountForm.clusterId=this.hostOrClusterId;const e=this.chooseMountDataStore.map(e=>e.objectId);this.unmountForm.dataStoreObjectIds=e,this.remoteSrv.unmountVMFS(this.unmountForm).subscribe(e=>{"200"===e.code?console.log("unmount  success"):console.log("unmount  fail\uff1a"+e.description),this.unmountShow=!1,this.cdr.detectChanges()})}}initMountHost(){return new Promise((e,t)=>{this.remoteSrv.getHostListByObjectId(this.objectId).subscribe(e=>{"200"===e.code&&null!==e.data&&e.data.forEach(e=>{this.hostList.push(e)}),this.chooseHost=this.hostList[0],this.mountHostData=!0,this.cdr.detectChanges()})})}initMountCluster(){return new Promise((e,t)=>{this.remoteSrv.getClusterListByObjectId(this.objectId).subscribe(e=>{"200"===e.code&&e.data.forEach(e=>{this.clusterList.push(e)}),this.chooseCluster=this.clusterList[0],this.mountClusterData=!0,this.cdr.detectChanges()})})}mountSubmit(){"1"===this.mountForm.mountType?(this.mountForm.hostId=this.chooseHost.hostId,this.mountForm.host=this.chooseHost.hostName):"2"===this.mountForm.mountType&&(this.mountForm.cluster=this.chooseCluster.clusterName,this.mountForm.clusterId=this.chooseCluster.clusterId);const e=[];e.push(this.objectId),this.mountForm.dataStoreObjectIds=e,this.remoteSrv.mountVmfs(this.mountForm).subscribe(e=>{"200"===e.code?console.log("\u6302\u8f7d\u6210\u529f"):console.log("\u6302\u8f7d\u5f02\u5e38\uff1a"+e.description),this.mountShow=!1,this.cdr.detectChanges()})}unmountHandleFunc(){console.log("this.chooseUnmountHost",this.chooseUnmountHost),console.log("this.chooseUnmountCluster",this.chooseUnmountCluster),console.log("this.flag",!this.chooseUnmountHost&&"1"===this.unmountForm.mountType||!this.chooseUnmountCluster&&"2"===this.unmountForm.mountType),!this.chooseUnmountHost&&"1"===this.unmountForm.mountType||!this.chooseUnmountCluster&&"2"===this.unmountForm.mountType?this.notChooseUnmountDevice=!0:(this.unmountForm.dataStoreObjectIds.push(this.objectId),"1"===this.unmountForm.mountType?this.unmountForm.hostId=this.chooseUnmountHost.deviceId:this.unmountForm.clusterId=this.chooseUnmountCluster.deviceId,console.log("this.unmountForm",this.unmountForm),this.notChooseUnmountDevice=!1,this.remoteSrv.unmountVMFS(this.unmountForm).subscribe(e=>{"200"===e.code?console.log("unmount  success"):console.log("unmount  fail\uff1a"+e.description),this.unmountShow=!1,this.cdr.detectChanges()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Qe),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],features:[a.Bb([Qe])],decls:4,vars:3,consts:[[4,"ngIf"],[1,"modal-body"],["clrForm","",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["clrForm",""],["class","errorTips","readonly","",4,"ngIf"],[3,"clrDgSelected","clrDgLoading","clrDgSelectedChange"],["hidden",""],[3,"clrDgField"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],["readonly","",1,"errorTips"],["shape","exclamation-circle",1,"is-solid"],[3,"clrDgItem"],["class","modal-body",4,"ngIf"],[2,"color","#9F9F9F"],["clrInput","","readonly","","name","name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["clrInline",""],[1,"floatleft",2,"color","#9F9F9F"],["type","radio","clrRadio","","name","controlPolicy","value","1","ng-checked","true",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","controlPolicy","value","2",3,"ngModel","ngModelChange"],["name","chooseHost","required","",3,"ngModel","ngModelChange"],["shape","info-circle",1,"is-solid"],[3,"clrValue",4,"clrOptionItems","clrOptionItemsOf","clrOptionItemsField"],[3,"clrValue"],["shape","sun","role","img","aria-label","Sun is shining",4,"ngIf"],["shape","sun","role","img","aria-label","Sun is shining"],["name","chooseCluster","required","",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","hostControlPolicy","value","1","ng-checked","true",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","clusterControlPolicy","value","2",3,"ngModel","ngModelChange"],[3,"clrDgSingleSelected","clrDgLoading","clrDgSingleSelectedChange",4,"ngIf"],[3,"clrDgSingleSelected","clrDgLoading","clrDgSingleSelectedChange"]],template:function(e,t){1&e&&(a.Ub(0,"div"),a.Ic(1,tt,10,7,"div",0),a.Ic(2,dt,9,7,"div",0),a.Ic(3,ft,37,27,"div",0),a.Tb()),2&e&&(a.Cb(1),a.mc("ngIf",t.hostMountShow),a.Cb(1),a.mc("ngIf",t.mountShow),a.Cb(1),a.mc("ngIf",t.unmountShow))},directives:[s.n,l.K,b.E,b.r,b.s,l.A,l.m,l.qb,l.sb,l.lb,l.tb,l.o,l.pb,l.r,l.B,l.v,l.rb,l.n,l.nb,l.G,l.H,b.e,l.F,b.z,b.q,b.t,l.k,l.S,l.T,b.x,l.R,l.j,l.i,l.l,l.N,l.M,l.L],pipes:[m.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}"],changeDetection:0}),e})(),vt=(()=>{class e{constructor(e){this.http=e}getHostList(){return this.http.get("accessvmware/listhost")}getClusterList(){return this.http.get("accessvmware/listcluster")}createVmfs(e={}){return this.http.post("accessvmfs/createvmfs",e)}getStorages(){return this.http.get("dmestorage/storages")}getStoragePoolsByStorId(e,t){return this.http.get("dmestorage/storagepools?storageId="+e+"&media_type="+t)}getServiceLevelList(e={}){return this.http.post("servicelevel/listservicelevel",e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();const Tt=["wizard"],yt=["addPageOne"],Ut=["addPageTwo"];function wt(e,t){1&e&&(a.Ub(0,"div",40),a.Ub(1,"span"),a.Kc(2),a.hc(3,"translate"),a.Pb(4,"img",41),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Mc(" ",a.ic(3,1,"vmfs.loadingTips"),""))}function Mt(e,t){1&e&&(a.Kc(0),a.hc(1,"translate")),2&e&&a.Lc(a.ic(1,1,"vmfs.datastoreSetting"))}function Lt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-input-container"),a.Ub(1,"label",9),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"input",42),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.volumeName=t})),a.Tb(),a.Ub(5,"clr-control-error"),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,3,"vmfs.volumeName")),a.Cb(2),a.mc("ngModel",e.form.volumeName),a.Cb(2),a.Lc(a.ic(7,5,"validations.required"))}}function It(e,t){if(1&e&&(a.Ub(0,"option",43),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.key),a.Cb(1),a.Lc(e.value)}}function xt(e,t){if(1&e&&(a.Ub(0,"option",43),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.key),a.Cb(1),a.Lc(e.value)}}function St(e,t){1&e&&a.Pb(0,"clr-icon",49)}function Ot(e,t){1&e&&a.Pb(0,"clr-icon",50)}function Pt(e,t){if(1&e&&(a.Ub(0,"clr-option",46),a.Ic(1,St,1,0,"clr-icon",47),a.Ic(2,Ot,1,0,"clr-icon",48),a.Kc(3),a.Tb()),2&e){const e=t.$implicit;a.mc("clrValue",e),a.Cb(1),a.mc("ngIf",""!==e.deviceName&&"host"===e.deviceType),a.Cb(1),a.mc("ngIf",""!==e.deviceName&&"host"!==e.deviceType),a.Cb(1),a.Mc(" ",e.deviceName," ")}}function Ft(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-combobox",44),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().chooseDevice=t})),a.Ub(1,"clr-options"),a.Ic(2,Pt,4,4,"clr-option",45),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.mc("ngModel",e.chooseDevice),a.Cb(2),a.mc("clrOptionItemsOf",e.deviceList)("clrOptionItemsField","deviceName")}}function kt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-wizard-button",51),a.Kc(1),a.hc(2,"translate"),a.Tb(),a.Ub(3,"clr-wizard-button",52),a.cc("click",(function(){return a.zc(e),a.gc().addNextPage()})),a.Kc(4),a.hc(5,"translate"),a.Tb()}2&e&&(a.mc("type","cancel"),a.Cb(1),a.Lc(a.ic(2,4,"menu.cancel")),a.Cb(2),a.mc("type","custom-next"),a.Cb(1),a.Lc(a.ic(5,6,"menu.next")))}function Kt(e,t){1&e&&(a.Kc(0),a.hc(1,"translate")),2&e&&a.Mc(" ",a.ic(1,1,"vmfs.storageSetting")," ")}const _t=function(e){return{"tabs-btn_active":e}};function Dt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div",53),a.Ub(1,"span"),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"span",54),a.Ub(5,"span",55),a.cc("click",(function(){return a.zc(e),a.gc().serviceLevelBtnFunc()})),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ub(8,"span",55),a.cc("click",(function(){return a.zc(e),a.gc().customerClickFunc()})),a.Kc(9),a.hc(10,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,5,"vmfs.storageSetting")),a.Cb(3),a.mc("ngClass",a.qc(11,_t,"level"===e.levelCheck)),a.Cb(1),a.Lc(a.ic(7,7,"vmfs.byServiceLevel")),a.Cb(2),a.mc("ngClass",a.qc(13,_t,"customer"===e.levelCheck)),a.Cb(1),a.Lc(a.ic(10,9,"vmfs.customer"))}}function qt(e,t){1&e&&(a.Ub(0,"div",56),a.Pb(1,"clr-icon",57),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.serviceLevelCantBeNull")))}function zt(e,t){1&e&&(a.Ub(0,"div",56),a.Pb(1,"clr-icon",57),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.add.errorTips")))}function Bt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-accordion-title",66),a.cc("click",(function(){a.zc(e);const t=a.gc().$implicit,c=a.gc(2);return t.show?c.hidden:c.show})),a.Kc(1),a.Tb()}if(2&e){const e=a.gc().$implicit;a.Cb(1),a.Lc(e.name)}}function Nt(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," <= ",e.capabilities.qos.qosParam.maxBandWidth,"MBPS/TB")}}function Vt(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," >= ",e.capabilities.qos.qosParam.minBandWidth,"MBPS/TB")}}function jt(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," <= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function Ht(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," >= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function Rt(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function Et(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function Wt(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Mc("Latency: ",e.capabilities.qos.qosParam.latency+e.capabilities.qos.qosParam.latencyUnit,"")}}function $t(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function At(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-accordion-panel",59),a.Ic(1,Bt,2,1,"clr-accordion-title",60),a.Ub(2,"clr-accordion-content",61),a.cc("clrIfExpandedChange",(function(c){return a.zc(e),t.$implicit.show=c})),a.Ub(3,"table",62),a.Ub(4,"tbody"),a.Ub(5,"tr"),a.Pb(6,"th",63),a.Ub(7,"th"),a.Kc(8),a.Tb(),a.Tb(),a.Ub(9,"tr"),a.Pb(10,"th",63),a.Ub(11,"td"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Ub(14,"td"),a.Kc(15),a.hc(16,"translate"),a.Tb(),a.Ub(17,"td"),a.Kc(18),a.hc(19,"translate"),a.Tb(),a.Tb(),a.Ub(20,"tr"),a.Pb(21,"th",63),a.Ub(22,"th"),a.Pb(23,"clr-progress-bar",64),a.Tb(),a.Ic(24,Nt,3,4,"th",13),a.Ic(25,Vt,3,4,"th",13),a.Ic(26,jt,3,4,"th",13),a.Ic(27,Ht,3,4,"th",13),a.Ic(28,Rt,2,0,"th",13),a.Ic(29,Et,2,0,"th",13),a.Tb(),a.Ub(30,"tr"),a.Pb(31,"th",63),a.Ub(32,"th"),a.Kc(33),a.Tb(),a.Ic(34,Wt,2,1,"th",13),a.Ic(35,$t,2,0,"th",13),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(36,"img",65),a.Tb()}if(2&e){const e=t.$implicit,c=a.gc(2);a.Cb(1),a.mc("ngIf",!e.show),a.Cb(1),a.mc("clrIfExpanded",e.show),a.Cb(6),a.Mc(" ",e.name," "),a.Cb(4),a.Lc(a.ic(13,17,"vmfs.capacityUsage")),a.Cb(3),a.Lc(a.ic(16,19,"vmfs.qos")),a.Cb(3),a.Lc(a.ic(19,21,"vmfs.protection")),a.Cb(5),a.nc("clrValue",(e.usedCapacity/e.totalCapacity*100||0).toFixed(2)),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxIOPS),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minIOPS),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.maxBandWidth&&0===e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.minIOPS&&0===e.capabilities.qos.qosParam.maxIOPS),a.Cb(4),a.Nc("",c.formatCapacity(e.usedCapacity,!1)," /",c.formatCapacity(e.totalCapacity,!1),""),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.latency),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.latency)}}function Gt(e,t){if(1&e&&(a.Sb(0),a.Ub(1,"clr-accordion"),a.Ic(2,At,37,23,"clr-accordion-panel",58),a.Tb(),a.Rb()),2&e){const e=a.gc();a.Cb(2),a.mc("ngForOf",e.serviceLevelList)}}function Yt(e,t){if(1&e&&(a.Ub(0,"option",43),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.id),a.Cb(1),a.Lc(e.name)}}function Qt(e,t){if(1&e&&(a.Ub(0,"option",43),a.Kc(1),a.Tb()),2&e){const e=t.$implicit;a.nc("value",e.poolId),a.Cb(1),a.Lc(e.name)}}function Xt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",9),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",75),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",76),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.maxbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxbandwidth=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","maxbandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.form.maxbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.form.maxbandwidthChoose)("ngModel",e.form.maxbandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function Jt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",77),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxiopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",78),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.maxiopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.maxiops=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","maxiops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(3),a.mc("ngModel",e.form.maxiopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.form.maxiopsChoose)("ngModel",e.form.maxiops)}}function Zt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",9),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",79),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.minbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",80),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.minbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.minbandwidth=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","minbandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.form.minbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.form.minbandwidthChoose)("ngModel",e.form.minbandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function ec(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",79),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.miniopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",81),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.miniopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.miniops=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","miniops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(3),a.mc("ngModel",e.form.miniopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.form.miniopsChoose)("ngModel",e.form.miniops)}}function tc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",82),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.latencyChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",83),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc(2).form.latencyChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc(2).form.latency=t}))("blur",(function(){return a.zc(e),a.gc(2).qosBlur("add","latency")})),a.Tb(),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc(2);a.Cb(3),a.mc("ngModel",e.form.latencyChoose),a.Cb(2),a.Mc(" ",a.ic(6,5,"vmfs.latencyMax")," "),a.Cb(2),a.mc("readOnly",!e.form.latencyChoose)("ngModel",e.form.latency),a.Cb(1),a.Mc("",a.ic(9,7,"vmfs.latencyUnit")," ")}}function cc(e,t){if(1&e){const e=a.Vb();a.Sb(0),a.Ub(1,"clr-input-container"),a.Ub(2,"label"),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Tb(),a.Ub(5,"clr-select-container"),a.Ub(6,"label",9),a.Kc(7),a.hc(8,"translate"),a.Tb(),a.Ub(9,"select",67),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.storage_id=t}))("ngModelChange",(function(){return a.zc(e),a.gc().getStoragePoolsByStorId()})),a.Ic(10,Yt,2,2,"option",28),a.Tb(),a.Ub(11,"clr-control-error"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Tb(),a.Ub(14,"clr-select-container"),a.Ub(15,"label",9),a.Kc(16),a.hc(17,"translate"),a.Tb(),a.Ub(18,"select",68),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.pool_raw_id=t})),a.Ic(19,Qt,2,2,"option",28),a.Tb(),a.Ub(20,"clr-control-error"),a.Kc(21),a.hc(22,"translate"),a.Tb(),a.Tb(),a.Ub(23,"clr-input-container"),a.Ub(24,"label"),a.Kc(25),a.hc(26,"translate"),a.Tb(),a.Tb(),a.Ub(27,"clr-radio-container",69),a.Ub(28,"label",9),a.Kc(29),a.hc(30,"translate"),a.Tb(),a.Ub(31,"clr-radio-wrapper"),a.Ub(32,"input",70),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.control_policy=t})),a.Tb(),a.Ub(33,"label"),a.Kc(34),a.hc(35,"translate"),a.Tb(),a.Tb(),a.Ub(36,"clr-radio-wrapper"),a.Ub(37,"input",71),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.control_policy=t})),a.Tb(),a.Ub(38,"label"),a.Kc(39),a.hc(40,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(41,Xt,12,12,"clr-checkbox-container",13),a.Ic(42,Jt,8,6,"clr-checkbox-container",13),a.Ic(43,Zt,12,12,"clr-checkbox-container",13),a.Ic(44,ec,8,6,"clr-checkbox-container",13),a.Ic(45,tc,10,9,"clr-checkbox-container",13),a.Ub(46,"clr-input-container"),a.Ub(47,"label"),a.Kc(48),a.hc(49,"translate"),a.Tb(),a.Tb(),a.Ub(50,"clr-select-container"),a.Ub(51,"label",9),a.Kc(52),a.hc(53,"translate"),a.Tb(),a.Ub(54,"select",72),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().form.alloctype=t})),a.Ub(55,"option",73),a.Kc(56,"thin"),a.Tb(),a.Ub(57,"option",74),a.Kc(58,"thick"),a.Tb(),a.Tb(),a.Tb(),a.Rb()}if(2&e){const e=a.gc();a.Cb(3),a.Lc(a.ic(4,23,"vmfs.basicInformation")),a.Cb(4),a.Lc(a.ic(8,25,"vmfs.storageDevice")),a.Cb(2),a.mc("ngModel",e.form.storage_id),a.Cb(1),a.mc("ngForOf",e.storageList),a.Cb(2),a.Lc(a.ic(13,27,"validations.required")),a.Cb(4),a.Lc(a.ic(17,29,"vmfs.storagePool")),a.Cb(2),a.mc("ngModel",e.form.pool_raw_id),a.Cb(1),a.mc("ngForOf",e.storagePoolList),a.Cb(2),a.Lc(a.ic(22,31,"validations.required")),a.Cb(4),a.Lc(a.ic(26,33,"vmfs.qosPolicy")),a.Cb(4),a.Lc(a.ic(30,35,"vmfs.controlPolicy")),a.Cb(3),a.mc("ngModel",e.form.control_policy),a.Cb(2),a.Lc(a.ic(35,37,"vmfs.upperLimitControl")),a.Cb(3),a.mc("ngModel",e.form.control_policy),a.Cb(2),a.Lc(a.ic(40,39,"vmfs.lowerLimitControl")),a.Cb(2),a.mc("ngIf","1"===e.form.control_policy),a.Cb(1),a.mc("ngIf","1"===e.form.control_policy),a.Cb(1),a.mc("ngIf","0"===e.form.control_policy),a.Cb(1),a.mc("ngIf","0"===e.form.control_policy),a.Cb(1),a.mc("ngIf","0"===e.form.control_policy),a.Cb(3),a.Lc(a.ic(49,41,"vmfs.resourceTuning")),a.Cb(4),a.Lc(a.ic(53,43,"vmfs.provisioningType")),a.Cb(2),a.mc("ngModel",e.form.alloctype)}}function oc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-wizard-button",51),a.Kc(1),a.hc(2,"translate"),a.Tb(),a.Ub(3,"clr-wizard-button",51),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"clr-wizard-button",52),a.cc("click",(function(){return a.zc(e),a.gc().addVmfsHanlde()})),a.Kc(7),a.hc(8,"translate"),a.Tb()}2&e&&(a.mc("type","cancel"),a.Cb(1),a.Lc(a.ic(2,6,"menu.cancel")),a.Cb(2),a.mc("type","previous"),a.Cb(1),a.Lc(a.ic(5,8,"menu.previous")),a.Cb(2),a.mc("type","custom-finish"),a.Cb(1),a.Lc(a.ic(8,10,"menu.ok")))}let nc=(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.route=t,this.cdr=c,this.router=o,this.globalsService=n,this.blockSizeOptions=[],this.srgOptions=[],this.deviceList=[],this.serviceLevelList=[],this.serviceLevelIsNull=!1,this.levelCheck="level",this.storagePoolList=[],this.storageList=[],this.modalLoading=!1,this.isOperationErr=!1}ngOnInit(){this.initData(),console.log(" this.wizard",this.wizard)}initData(){this.modalLoading=!0,this.isOperationErr=!1,this.route.url.subscribe(e=>{console.log("url",e),this.route.queryParams.subscribe(e=>{this.resource=e.resource})}),this.form=(new i.a).getAddForm(),this.setBlockSizeOptions(),this.setDeviceList(),this.setServiceLevelList(),this.storagePoolList=[],this.jumpTo(this.addPageOne),this.capacityOnblur()}jumpTo(e){e&&e.completed?this.wizard.navService.currentPage=e:this.wizard.navService.setLastEnabledPageCurrent(),this.wizard.open()}setBlockSizeOptions(){const e=[],t=this.form.version+"";console.log("versionVal"+t),"6"===t?(e.push({key:1024,value:"1MB"}),e.push({key:64,value:"64KB"})):"5"===t&&e.push({key:1024,value:"1MB"}),this.blockSizeOptions=e,this.form.blockSize=this.blockSizeOptions[0].key,this.setSrgOptions()}setSrgOptions(){const e=[],t=this.form.blockSize+"";"1024"===t?(e.push({key:1024,value:"1MB"}),e.push({key:8,value:"8KB"})):"64"===t&&(e.push({key:64,value:"64KB"}),e.push({key:8,value:"8KB"})),this.srgOptions=e,this.form.spaceReclamationGranularity=this.srgOptions[0].key,this.capacityOnblur()}setDeviceList(){this.deviceList=[],this.chooseDevice=void 0,console.log("this.chooseDevice",this.chooseDevice),this.setHostDatas().then(e=>{this.cdr.detectChanges()}),this.setClusterDatas().then(e=>{this.cdr.detectChanges()})}setHostDatas(){return new Promise((e,t)=>{this.remoteSrv.getHostList().subscribe(t=>{let c=[];console.log("host",t),"200"===t.code&&null!==t.data&&(c=t.data,c.forEach(e=>{this.deviceList.push({deviceId:e.hostId,deviceName:e.hostName,deviceType:"host"})})),this.form.hostDataloadSuccess=!0,e(this.deviceList),this.cdr.detectChanges()})})}setClusterDatas(){return new Promise((e,t)=>{this.remoteSrv.getClusterList().subscribe(t=>{let c=[];console.log("cluster",t),console.log("cluster",null!==t.data),"200"===t.code&&null!==t.data&&(c=t.data,c.forEach(e=>{this.deviceList.push({deviceId:e.clusterId,deviceName:e.clusterName,deviceType:"cluster"})})),e(this.deviceList),this.form.culDataloadSuccess=!0,this.cdr.detectChanges(),console.log("cluster",null!==t.data)})})}setServiceLevelList(){this.serviceLevelIsNull=!1,this.remoteSrv.getServiceLevelList().subscribe(e=>{console.log(e),"200"===e.code&&null!==e.data&&(this.serviceLevelList=e.data.filter(e=>0!==e.totalCapacity),console.log("this.serviceLevelList",this.serviceLevelList)),this.modalLoading=!1,this.cdr.detectChanges()})}serviceLevelBtnFunc(){this.levelCheck="level",this.serviceLevelIsNull=!1,this.setServiceLevelList()}customerClickFunc(){this.levelCheck="customer",this.serviceLevelIsNull=!1,this.storageList=null,this.storagePoolList=null,this.modalLoading=!0,this.getStorageList()}getStorageList(){this.remoteSrv.getStorages().subscribe(e=>{console.log(e),"200"===e.code&&null!==e.data&&(this.storageList=e.data,this.getStoragePoolsByStorId()),this.modalLoading=!1,this.cdr.detectChanges()})}getStoragePoolsByStorId(){this.form.pool_raw_id=void 0,console.log("selectSotrageId"+this.form.storage_id),null!==this.form.storage_id&&""!==this.form.storage_id&&this.remoteSrv.getStoragePoolsByStorId(this.form.storage_id,"block").subscribe(e=>{console.log("storagePools",e),console.log("result.code === '200' && result.data !== null","200"===e.code&&null!==e.data),"200"===e.code&&null!==e.data&&(this.storagePoolList=e.data,console.log("this.storagePoolList",this.storagePoolList),this.cdr.detectChanges())})}cancel(){this.wizard.close(),"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}addVmfsHanlde(){const e=this.serviceLevelList.find(e=>!0===e.show);if(console.log("selectResult","level"===this.levelCheck&&e),"level"===this.levelCheck&&e&&0!==e.totalCapacity||"level"!==this.levelCheck){switch(e&&(this.form.service_level_id=e.id,this.form.service_level_name=e.name),this.form.isSameName&&(this.form.volumeName=this.form.name),this.form.capacityUnit){case"TB":this.form.capacity=1024*this.form.capacity;break;case"MB":this.form.capacity=this.form.capacity/1024;break;case"KB":this.form.capacity=this.form.capacity/1048576}"host"===this.chooseDevice.deviceType?(this.form.host=this.chooseDevice.deviceName,this.form.hostId=this.chooseDevice.deviceId):(this.form.cluster=this.chooseDevice.deviceName,this.form.clusterId=this.chooseDevice.deviceId),"customer"===this.levelCheck&&(this.form.service_level_id=null,this.form.service_level_name=null),null===this.form.maxbandwidth&&null===this.form.maxiops&&null===this.form.minbandwidth&&null===this.form.miniops&&null===this.form.latency&&(this.form.control_policy=null),console.log("addFrom",this.form),this.modalLoading=!0,this.remoteSrv.createVmfs(this.form).subscribe(e=>{this.modalLoading=!1,"200"===e.code?console.log("\u521b\u5efa\u6210\u529f"):(console.log("\u521b\u5efa\u5931\u8d25\uff1a"+e.description),this.isOperationErr=!0),this.cancel(),this.cdr.detectChanges()})}else this.serviceLevelIsNull=!0}capacityChange(e){console.log("event","1"===e.value);const t=e.value.match(/\d+(\.\d{0,2})?/)?e.value.match(/\d+(\.\d{0,2})?/)[0]:"";if(""!==t){let c;switch(this.form.capacityUnit){case"TB":c=1024*t;break;case"MB":c=t/1024;break;case"KB":c=t/1048576;break;default:c=t}switch(c<1&&"5"===this.form.version?c=1:c<2&&"6"===this.form.version&&(c=2),this.form.capacityUnit){case"TB":c/=1024;break;case"MB":c*=1024;break;case"KB":c*=1048576;break;default:c=c}e.value=c}else e.value=t}formatCapacity(e,t){let c;return e<1024?c=t?e.toFixed(3)+"GB":e.toFixed(3)+"MB":e>=1024&&e<1048576?c=t?(e/1024).toFixed(3)+"TB":(e/1024).toFixed(3)+"GB":e>=1048576&&(c=t?(e/1024/1024).toFixed(3)+"PB":(e/1024/1024).toFixed(3)+"TB"),c}capacityOnblur(){let e=this.form.capacity;e&&(e="TB"===this.form.capacityUnit?e.toString().match(/\d+(\.\d{0,2})?/)?e.toString().match(/\d+(\.\d{0,2})?/)[0]:"":1==e.length?e.toString().replace(/[^1-9]/g,""):e.toString().replace(/\D/g,""),""!==e&&("TB"===this.form.capacityUnit?"5"===this.form.version?e<1/1024&&(e=""):e<2/1024&&(e=""):"MB"===this.form.capacityUnit?"5"===this.form.version?e<1024&&(e=""):e<2048&&(e=""):"5"===this.form.version?e<1&&(e=""):e<2&&(e="")),""!==e&&(e=Number(e)),this.form.capacity=e),console.log("this.form.capacityUnit",this.form.capacityUnit),console.log("this.form.capacity",this.form.capacity),console.log("this.form.count",this.form.count)}countBlur(){let e=this.form.count;e=1==e.length?e.toString().replace(/[^1-9]/g,""):e.toString().replace(/\D/g,""),""!==e&&(e=Number(e)),this.form.count=e}addNextPage(){""!==this.form.capacity&&""!==this.form.count&&this.wizard.next()}qosBlur(e,t){let c;switch(t){case"maxbandwidth":c=this.form.maxbandwidth;break;case"maxiops":c=this.form.maxiops;break;case"minbandwidth":c=this.form.minbandwidth;break;case"miniops":c=this.form.miniops;break;default:c=this.form.latency}switch(c&&""!==c&&(c=c.toString().match(/\d+(\.\d{0,2})?/)?c.toString().match(/\d+(\.\d{0,2})?/)[0]:""),t){case"maxbandwidth":this.form.maxbandwidth=c;break;case"maxiops":this.form.maxiops=c;break;case"minbandwidth":this.form.minbandwidth=c;break;case"miniops":this.form.miniops=c;break;default:this.form.latency=c}}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(vt),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],viewQuery:function(e,t){var c;1&e&&(a.Pc(Tt,!0),a.Pc(yt,!0),a.Pc(Ut,!0)),2&e&&(a.vc(c=a.dc())&&(t.wizard=c.first),a.vc(c=a.dc())&&(t.addPageOne=c.first),a.vc(c=a.dc())&&(t.addPageTwo=c.first))},features:[a.Bb([vt])],decls:121,vars:85,consts:[[1,"add-wizard-wrap",3,"clrWizardOpen","clrWizardClosable"],["wizard",""],[2,"font-weight","bolder"],["class","loadingDiv",4,"ngIf"],[3,"clrWizardPageNextDisabled"],["addPageOne",""],["clrPageTitle",""],["clrForm",""],["formPageOne","ngForm"],[2,"color","#9F9F9F"],["clrInput","","name","name","required","",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],["name","ngModel"],["type","checkbox","clrCheckbox","","name","isSameName",3,"ngModel","ngModelChange"],[4,"ngIf"],["clrSelect","","name","version","required","",3,"ngModel","change","ngModelChange"],["value","5"],["value","6"],["clrInput","",2,"float","left","width","54%","position","relative"],["clrInput","","type","number","name","capacity","required","",2,"width","60%","border-bottom","none",3,"ngModel","ngModelChange","blur"],["number","ngModel"],["clrInput","","name","capacityUnit",1,"capacity",2,"width","40%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","change","ngModelChange"],["value","TB"],["value","GB"],["value","MB"],["clrInput","","readonly","",2,"width","19%","text-align","center",3,"value"],["clrInput","","type","number","name","count","required","",2,"width","27%",3,"ngModel","blur","ngModelChange"],["shape","exclamation-circle"],["clrSelect","","name","blockSize","required","",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["clrSelect","","name","spaceReclamationGranularity","required","",3,"ngModel","ngModelOptions","ngModelChange"],["clrSelect","","name","spaceReclamationPriority","required","",3,"ngModel","ngModelChange"],["value","low"],["value","none"],["name","chooseDevice","required","",3,"ngModel","ngModelChange",4,"ngIf"],["shape","info-circle"],["clrPageButtons",""],["addPageTwo",""],["clrPageNavTitle",""],["formPageTwo","ngForm"],["class","errorTips","readonly","",4,"ngIf"],[1,"loadingDiv"],["src","./assets/images/loading.gif","width","20px","height","20px",2,"margin-left","20px"],["clrInput","","name","volumeName","required","",1,"inputWidth100Percent",3,"ngModel","ngModelChange"],[3,"value"],["name","chooseDevice","required","",3,"ngModel","ngModelChange"],[3,"clrValue",4,"clrOptionItems","clrOptionItemsOf","clrOptionItemsField"],[3,"clrValue"],["shape","host","role","img","aria-label","World is turning",4,"ngIf"],["shape","host-group","role","img","aria-label","World is turning",4,"ngIf"],["shape","host","role","img","aria-label","World is turning"],["shape","host-group","role","img","aria-label","World is turning"],[3,"type"],[3,"type","click"],[1,"page-title"],[1,"tabs-btn-wrap"],[1,"tabs-btn",3,"ngClass","click"],["readonly","",1,"errorTips"],["shape","exclamation-circle",1,"is-solid"],["style","margin-top: 20px;",4,"ngFor","ngForOf"],[2,"margin-top","20px"],["class","","style","height: 50px; line-height: 50px;color: #333;font-size:16px;",3,"click",4,"ngIf"],[3,"clrIfExpanded","clrIfExpandedChange"],[1,"table","table-vertical","table-noborder","table-compact"],["hidden",""],["clrSuccess","","clrLabeled","",3,"clrValue"],["src","./assets/images/selectDown.svg","width","40px","height","40px",2,"position","absolute","right","0px","bottom","0px"],[1,"",2,"height","50px","line-height","50px","color","#333","font-size","16px",3,"click"],["clrSelect","","name","storage_id","required","",3,"ngModel","ngModelChange"],["clrSelect","","name","pool_raw_id","required","",3,"ngModel","ngModelChange"],["clrInline",""],["type","radio","clrRadio","","name","control_policy","checked","checked","value","1","required","",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policy","value","0","required","",3,"ngModel","ngModelChange"],["clrSelect","","name","alloctype",3,"ngModel","ngModelChange"],["value","thin"],["value","thick"],["type","checkbox","name","maxbandwidthChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","maxbandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","maxiopsChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","maxiops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","minbandwidthChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","minbandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","number","name","miniops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","latencyChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","latency",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"]],template:function(e,t){if(1&e&&(a.Ub(0,"clr-wizard",0,1),a.Ub(2,"clr-wizard-title",2),a.Kc(3),a.hc(4,"translate"),a.Tb(),a.Ic(5,wt,5,3,"div",3),a.Ub(6,"clr-wizard-page",4,5),a.Ic(8,Mt,2,3,"ng-template",6),a.Ub(9,"form",7,8),a.Ub(11,"clr-input-container"),a.Ub(12,"label",9),a.Kc(13),a.hc(14,"translate"),a.Tb(),a.Ub(15,"input",10,11),a.cc("ngModelChange",(function(e){return t.form.name=e})),a.Tb(),a.Ub(17,"clr-control-error"),a.Kc(18),a.hc(19,"translate"),a.Tb(),a.Tb(),a.Ub(20,"clr-checkbox-container"),a.Pb(21,"label"),a.Ub(22,"clr-checkbox-wrapper"),a.Ub(23,"input",12),a.cc("ngModelChange",(function(e){return t.form.isSameName=e})),a.Tb(),a.Ub(24,"label"),a.Kc(25),a.hc(26,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(27,Lt,8,7,"clr-input-container",13),a.Ub(28,"clr-select-container"),a.Ub(29,"label",9),a.Kc(30),a.hc(31,"translate"),a.Tb(),a.Ub(32,"select",14),a.cc("change",(function(){return t.setBlockSizeOptions()}))("ngModelChange",(function(e){return t.form.version=e})),a.Ub(33,"option",15),a.Kc(34,"VMFS 5"),a.Tb(),a.Ub(35,"option",16),a.Kc(36,"VMFS 6"),a.Tb(),a.Tb(),a.Ub(37,"clr-control-error"),a.Kc(38),a.hc(39,"translate"),a.Tb(),a.Tb(),a.Ub(40,"clr-input-container"),a.Ub(41,"label",9),a.Kc(42),a.hc(43,"translate"),a.Tb(),a.Ub(44,"div",17),a.Ub(45,"input",18,19),a.cc("ngModelChange",(function(e){return t.form.capacity=e}))("blur",(function(){return t.capacityOnblur()})),a.Tb(),a.Ub(47,"select",20),a.cc("change",(function(){return t.form.capacity=null}))("ngModelChange",(function(e){return t.form.capacityUnit=e})),a.Ub(48,"option",21),a.Kc(49,"TB"),a.Tb(),a.Ub(50,"option",22),a.Kc(51,"GB"),a.Tb(),a.Ub(52,"option",23),a.Kc(53,"MB"),a.Tb(),a.Tb(),a.Tb(),a.Pb(54,"input",24),a.hc(55,"translate"),a.Ub(56,"input",25,19),a.cc("blur",(function(){return t.countBlur()}))("ngModelChange",(function(e){return t.form.count=e})),a.Tb(),a.Ub(58,"clr-control-helper"),a.Pb(59,"clr-icon",26),a.Kc(60),a.hc(61,"translate"),a.Tb(),a.Ub(62,"clr-control-error"),a.Kc(63),a.hc(64,"translate"),a.Tb(),a.Tb(),a.Ub(65,"clr-select-container"),a.Ub(66,"label",9),a.Kc(67),a.hc(68,"translate"),a.Tb(),a.Ub(69,"select",27),a.cc("ngModelChange",(function(e){return t.form.blockSize=e}))("change",(function(){return t.setSrgOptions()})),a.Ic(70,It,2,2,"option",28),a.Tb(),a.Ub(71,"clr-control-error"),a.Kc(72),a.hc(73,"translate"),a.Tb(),a.Tb(),a.Ub(74,"clr-select-container"),a.Ub(75,"label",9),a.Kc(76),a.hc(77,"translate"),a.Tb(),a.Ub(78,"select",29),a.cc("ngModelOptions",(function(){return t.srgOptions}))("ngModelChange",(function(e){return t.form.spaceReclamationGranularity=e})),a.Ic(79,xt,2,2,"option",28),a.Tb(),a.Ub(80,"clr-control-error"),a.Kc(81),a.hc(82,"translate"),a.Tb(),a.Tb(),a.Ub(83,"clr-select-container"),a.Ub(84,"label",9),a.Kc(85),a.hc(86,"translate"),a.Tb(),a.Ub(87,"select",30),a.cc("ngModelChange",(function(e){return t.form.spaceReclamationPriority=e})),a.Ub(88,"option",31),a.Kc(89),a.hc(90,"translate"),a.Tb(),a.Ub(91,"option",32),a.Kc(92),a.hc(93,"translate"),a.Tb(),a.Tb(),a.Ub(94,"clr-control-error"),a.Kc(95),a.hc(96,"translate"),a.Tb(),a.Tb(),a.Ub(97,"clr-combobox-container"),a.Ub(98,"label",9),a.Kc(99),a.hc(100,"translate"),a.Tb(),a.Ic(101,Ft,3,3,"clr-combobox",33),a.Ub(102,"clr-control-helper"),a.Pb(103,"clr-icon",34),a.Kc(104),a.hc(105,"translate"),a.Tb(),a.Ub(106,"clr-control-error"),a.Kc(107),a.hc(108,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(109,kt,6,8,"ng-template",35),a.Tb(),a.Ub(110,"clr-wizard-page",4,36),a.Ic(112,Kt,2,3,"ng-template",37),a.Ic(113,Dt,11,15,"ng-template",6),a.Ub(114,"form",7,38),a.Ic(116,qt,4,3,"div",39),a.Ic(117,zt,4,3,"div",39),a.Ic(118,Gt,3,1,"ng-container",13),a.Ic(119,cc,59,45,"ng-container",13),a.Tb(),a.Ic(120,oc,9,12,"ng-template",35),a.Tb(),a.Tb()),2&e){const e=a.wc(10),c=a.wc(16),o=a.wc(46),n=a.wc(115);a.mc("clrWizardOpen",!0)("clrWizardClosable",!1),a.Cb(3),a.Lc(a.ic(4,43,"vmfs.addTitle")),a.Cb(2),a.mc("ngIf",t.modalLoading),a.Cb(1),a.mc("clrWizardPageNextDisabled",c.pristine||!e.valid),a.Cb(7),a.Lc(a.ic(14,45,"vmfs.name")),a.Cb(2),a.mc("ngModel",t.form.name),a.Cb(3),a.Lc(a.ic(19,47,"validations.required")),a.Cb(5),a.mc("ngModel",t.form.isSameName),a.Cb(2),a.Lc(a.ic(26,49,"vmfs.vmfsAddNameDesc")),a.Cb(2),a.mc("ngIf",!t.form.isSameName),a.Cb(3),a.Lc(a.ic(31,51,"vmfs.version")),a.Cb(2),a.mc("ngModel",t.form.version),a.Cb(6),a.Lc(a.ic(39,53,"validations.required")),a.Cb(4),a.Lc(a.ic(43,55,"vmfs.capacity")),a.Cb(3),a.mc("ngModel",t.form.capacity),a.Cb(2),a.mc("ngModel",t.form.capacityUnit),a.Cb(7),a.nc("value",a.ic(55,57,"vmfs.multiply")),a.Cb(2),a.mc("ngModel",t.form.count),a.Cb(4),a.Lc(a.ic(61,59,"vmfs.capacityTips")),a.Cb(3),a.Lc(a.ic(64,61,"validations.required")),a.Cb(4),a.Lc(a.ic(68,63,"vmfs.blockSize")),a.Cb(2),a.mc("ngModel",t.form.blockSize),a.Cb(1),a.mc("ngForOf",t.blockSizeOptions),a.Cb(2),a.Lc(a.ic(73,65,"validations.required")),a.Cb(4),a.Lc(a.ic(77,67,"vmfs.spaceReclamationGranularity")),a.Cb(2),a.mc("ngModel",t.form.spaceReclamationGranularity),a.Cb(1),a.mc("ngForOf",t.srgOptions),a.Cb(2),a.Lc(a.ic(82,69,"validations.required")),a.Cb(4),a.Lc(a.ic(86,71,"vmfs.spaceReclamationPriority")),a.Cb(2),a.mc("ngModel",t.form.spaceReclamationPriority),a.Cb(2),a.Lc(a.ic(90,73,"vmfs.low")),a.Cb(3),a.Lc(a.ic(93,75,"vmfs.none")),a.Cb(3),a.Lc(a.ic(96,77,"validations.required")),a.Cb(4),a.Lc(a.ic(100,79,"vmfs.hostOrCluster")),a.Cb(2),a.mc("ngIf",t.form.hostDataloadSuccess&&t.form.culDataloadSuccess),a.Cb(3),a.Lc(a.ic(105,81,"validations.comboboxTips")),a.Cb(3),a.Lc(a.ic(108,83,"validations.required")),a.Cb(3),a.mc("clrWizardPageNextDisabled",o.pristine||!n.valid),a.Cb(6),a.mc("ngIf",t.serviceLevelIsNull),a.Cb(1),a.mc("ngIf",t.isOperationErr),a.Cb(1),a.mc("ngIf","level"===t.levelCheck),a.Cb(1),a.mc("ngIf","customer"===t.levelCheck)}},directives:[l.cb,l.eb,s.n,l.fb,l.ib,b.E,b.r,b.s,l.A,l.G,l.H,b.e,l.F,b.z,b.q,b.t,l.k,l.g,l.h,b.b,l.f,l.V,b.A,l.U,b.v,b.D,b.w,l.l,l.B,s.m,l.j,l.gb,l.hb,l.i,l.N,l.M,l.L,l.db,s.l,d.a,l.b,l.kb,l.d,l.jb,l.c,l.ob,l.D,l.Q,l.e,l.S,l.T,b.x,l.R],pipes:[m.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}.loadingDiv[_ngcontent-%COMP%]{height:100%;z-index:100000;top:0;background:rgba(0,0,0,.3)}.loadingDiv[_ngcontent-%COMP%], .loadingDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;position:absolute;left:0}.loadingDiv[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;text-align:center;top:15%;vertical-align:middle;font-size:.8rem;color:#fff;font-weight:bolder}"],changeDetection:0}),e})(),ic=(()=>{class e{constructor(e){this.http=e}changeServiceLevel(e={}){return this.http.post("operatevmfs/updatevmfsservicelevel",e)}getServiceLevelList(e={}){return this.http.post("servicelevel/listservicelevel",e)}getVmfsById(e){return this.http.get("accessvmfs/queryvmfs?dataStoreObjectId="+e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();function rc(e,t){1&e&&(a.Ub(0,"div",7),a.Pb(1,"clr-icon",8),a.Kc(2),a.hc(3,"translate"),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,1,"vmfs.serviceLevelCantBeNull")))}function ac(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," <= ",e.capabilities.qos.qosParam.maxBandWidth,"MBPS/TB")}}function lc(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.bandwidth")," >= ",e.capabilities.qos.qosParam.minBandWidth,"MBPS/TB")}}function sc(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," <= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function bc(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.hc(2,"translate"),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Nc("",a.ic(2,2,"vmfs.iops")," >= ",e.capabilities.qos.qosParam.minIOPS,"IOPS/TB")}}function dc(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function mc(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function hc(e,t){if(1&e&&(a.Ub(0,"th"),a.Kc(1),a.Tb()),2&e){const e=a.gc().$implicit;a.Cb(1),a.Mc("Latency: ",e.capabilities.qos.qosParam.latency+e.capabilities.qos.qosParam.latencyUnit,"")}}function uc(e,t){1&e&&(a.Ub(0,"th"),a.Kc(1,"--"),a.Tb())}function gc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-accordion-panel",9),a.Ub(1,"clr-accordion-title",10),a.Kc(2),a.Tb(),a.Ub(3,"clr-accordion-content",11),a.cc("clrIfExpandedChange",(function(c){return a.zc(e),t.$implicit.show=c})),a.Ub(4,"table",12),a.Ub(5,"tbody"),a.Ub(6,"tr"),a.Pb(7,"th",13),a.Ub(8,"th"),a.Kc(9),a.Tb(),a.Tb(),a.Ub(10,"tr"),a.Pb(11,"th",13),a.Ub(12,"td"),a.Kc(13),a.hc(14,"translate"),a.Tb(),a.Ub(15,"td"),a.Kc(16),a.hc(17,"translate"),a.Tb(),a.Ub(18,"td"),a.Kc(19),a.hc(20,"translate"),a.Tb(),a.Tb(),a.Ub(21,"tr"),a.Pb(22,"th",13),a.Ub(23,"th"),a.Pb(24,"clr-progress-bar",14),a.Tb(),a.Ic(25,ac,3,4,"th",15),a.Ic(26,lc,3,4,"th",15),a.Ic(27,sc,3,4,"th",15),a.Ic(28,bc,3,4,"th",15),a.Ic(29,dc,2,0,"th",15),a.Ic(30,mc,2,0,"th",15),a.Tb(),a.Ub(31,"tr"),a.Pb(32,"th",13),a.Ub(33,"th"),a.Kc(34),a.Tb(),a.Ic(35,hc,2,1,"th",15),a.Ic(36,uc,2,0,"th",15),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(37,"img",16),a.Tb()}if(2&e){const e=t.$implicit,c=a.gc();a.Cb(2),a.Lc(e.name),a.Cb(1),a.mc("clrIfExpanded",e.show),a.Cb(6),a.Mc(" ",e.name," "),a.Cb(4),a.Lc(a.ic(14,17,"vmfs.capacityUsage")),a.Cb(3),a.Lc(a.ic(17,19,"vmfs.qos")),a.Cb(3),a.Lc(a.ic(20,21,"vmfs.protection")),a.Cb(5),a.nc("clrValue",(e.usedCapacity/e.totalCapacity*100||0).toFixed(2)),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.maxIOPS),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.minIOPS),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.maxBandWidth&&0===e.capabilities.qos.qosParam.minBandWidth),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.minIOPS&&0===e.capabilities.qos.qosParam.maxIOPS),a.Cb(4),a.Nc("",c.formatCapacity(e.usedCapacity,!1)," /",c.formatCapacity(e.totalCapacity,!1),""),a.Cb(1),a.mc("ngIf",null!==e.capabilities&&null!==e.capabilities.qos&&null!==e.capabilities.qos.qosParam&&0!==e.capabilities.qos.qosParam.latency),a.Cb(1),a.mc("ngIf",null===e.capabilities||null===e.capabilities.qos||null===e.capabilities.qos.qosParam||0===e.capabilities.qos.qosParam.latency)}}let pc=(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.route=t,this.cdr=c,this.router=o,this.globalsService=n,this.serviceLevelIsNull=!1,this.serviceLevelList=[],this.changeServiceLevelForm=(new i.a).getChangeLevelForm()}ngOnInit(){this.changeServiceLevelForm=(new i.a).getChangeLevelForm(),this.route.url.subscribe(e=>{console.log("url",e),this.route.queryParams.subscribe(e=>{if(this.resource=e.resource,"list"===this.resource)this.objectId=e.objectId;else{const e=this.globalsService.getClientSdk().app.getContextObjects();console.log("ctx",e),this.objectId=e[0].id}this.remoteSrv.getVmfsById(this.objectId).subscribe(e=>{if("200"===e.code&&null!=e.data){this.vmfsInfo=e.data.filter(e=>e.objectid===this.objectId)[0];const t=[];t.push(this.vmfsInfo.volumeId),this.changeServiceLevelForm.volume_ids=t,this.changeServiceLevelForm.ds_name=this.vmfsInfo.name}})})}),this.getServiceLevels()}getServiceLevels(){this.serviceLevelIsNull=!1,this.remoteSrv.getServiceLevelList().subscribe(e=>{console.log(e),"200"===e.code&&null!==e.data&&(this.serviceLevelList=e.data.filter(e=>0!==e.totalCapacity),console.log("this.serviceLevelList",this.serviceLevelList)),this.cdr.detectChanges()})}cancel(){"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}changeSLHandleFunc(){const e=this.serviceLevelList.find(e=>!0===e.show);console.log("selectResult",e),e&&0!==e.totalCapacity?(this.serviceLevelIsNull=!1,this.changeServiceLevelForm.service_level_id=e.id,this.changeServiceLevelForm.service_level_name=e.name,this.remoteSrv.changeServiceLevel(this.changeServiceLevelForm).subscribe(e=>{"200"===e.code?console.log("change service level success:"+name):console.log("change service level faild: "+name+" Reason:"+e.description),this.cdr.detectChanges()})):(this.serviceLevelIsNull=!0,console.log("\u670d\u52a1\u7b49\u7ea7\u4e0d\u80fd\u4e3a\u7a7a\uff01"))}formatCapacity(e,t){let c;return e<1024?c=t?e.toFixed(3)+"GB":e.toFixed(3)+"MB":e>=1024&&e<1048576?c=t?(e/1024).toFixed(3)+"TB":(e/1024).toFixed(3)+"GB":e>=1048576&&(c=t?(e/1024/1024).toFixed(3)+"PB":(e/1024/1024).toFixed(3)+"TB"),c}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(ic),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],features:[a.Bb([ic])],decls:13,vars:8,consts:[[1,"modal-body"],["clrForm",""],["class","errorTips","readonly","",4,"ngIf"],["style","margin-top: 20px;",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["readonly","",1,"errorTips"],["shape","exclamation-circle",1,"is-solid"],[2,"margin-top","20px"],[1,"accordion-title",2,"height","50px","line-height","50px","color","#333","font-size","16px"],[3,"clrIfExpanded","clrIfExpandedChange"],[1,"table","table-vertical","table-noborder","table-compact"],["hidden",""],["clrSuccess","","clrLabeled","",3,"clrValue"],[4,"ngIf"],["src","./assets/images/selectDown.svg","width","40px","height","40px",2,"position","absolute","right","0px","bottom","0px"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"form",1),a.Ic(2,rc,4,3,"div",2),a.Sb(3),a.Ub(4,"clr-accordion"),a.Ic(5,gc,38,23,"clr-accordion-panel",3),a.Tb(),a.Rb(),a.Tb(),a.Tb(),a.Ub(6,"div",4),a.Ub(7,"button",5),a.cc("click",(function(){return t.cancel()})),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Ub(10,"button",6),a.cc("click",(function(){return t.changeSLHandleFunc()})),a.Kc(11),a.hc(12,"translate"),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.mc("ngIf",t.serviceLevelIsNull),a.Cb(3),a.mc("ngForOf",t.serviceLevelList),a.Cb(3),a.Lc(a.ic(9,4,"menu.cancel")),a.Cb(3),a.Lc(a.ic(12,6,"menu.ok")))},directives:[l.K,b.E,b.r,b.s,l.A,s.n,l.b,l.kb,s.m,l.B,l.d,l.jb,l.e,l.c,l.ob,l.D,l.Q],pipes:[m.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}"],changeDetection:0}),e})(),fc=(()=>{class e{constructor(e){this.http=e}expandVMFS(e={}){return this.http.post("operatevmfs/expandvmfs",e)}getVmfsById(e){return this.http.get("accessvmfs/listvmfs?objectId="+e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})(),Cc=(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.route=t,this.cdr=c,this.router=o,this.globalsService=n,this.expandForm=(new i.a).getExpandForm()}ngOnInit(){this.initData()}initData(){this.route.url.subscribe(e=>{console.log("url",e),this.route.queryParams.subscribe(e=>{if(this.resource=e.resource,"list"===this.resource)this.objectId=e.objectId;else{const e=this.globalsService.getClientSdk().app.getContextObjects();this.objectId=e[0].id}this.remoteSrv.getVmfsById(this.objectId).subscribe(e=>{console.log("VmfsInfo:",e),"200"===e.code&&null!=e.data&&(this.vmfsInfo=e.data[0],this.expandForm.volume_id=this.vmfsInfo.volumeId,this.expandForm.ds_name=this.vmfsInfo.name),this.cdr.detectChanges()})})}),this.expandForm=(new i.a).getExpandForm()}cancel(){"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}expandHandleFunc(){switch(this.expandForm.capacityUnit){case"TB":this.expandForm.vo_add_capacity=1024*this.expandForm.vo_add_capacity;break;case"MB":this.expandForm.vo_add_capacity=this.expandForm.vo_add_capacity/1024;break;case"KB":this.expandForm.vo_add_capacity=this.expandForm.vo_add_capacity/1048576}this.expandForm.obj_id=this.objectId,this.remoteSrv.expandVMFS(this.expandForm).subscribe(e=>{"200"===e.code?console.log("expand success:"+name):console.log("expand: "+name+" Reason:"+e.description),this.cdr.detectChanges(),this.cancel()})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(fc),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],features:[a.Bb([fc])],decls:25,vars:14,consts:[[1,"modal-body"],["clrForm",""],[2,"height","4rem"],[2,"color","#9F9F9F"],["clrInput","",2,"float","left","position","relative"],["clrInput","","type","number","name","vo_add_capacity","onkeyup","if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\\D/g,'')}","required","",2,"width","70%","border-bottom","none",3,"ngModel","ngModelChange"],["number","ngModel"],["clrInput","","name","capacityUnit",1,"capacity",2,"width","30%","border","1px solid #DDDDDD","position","absolute","bottom","3px",3,"ngModel","ngModelChange"],["value","TB"],["value","GB"],[2,"position","absolute"],["shape","exclamation-circle",1,"is-solid"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"form",1),a.Ub(2,"clr-input-container",2),a.Ub(3,"label",3),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"div",4),a.Ub(7,"input",5,6),a.cc("ngModelChange",(function(e){return t.expandForm.vo_add_capacity=e})),a.Tb(),a.Ub(9,"select",7),a.cc("ngModelChange",(function(e){return t.expandForm.capacityUnit=e})),a.Ub(10,"option",8),a.Kc(11,"TB"),a.Tb(),a.Ub(12,"option",9),a.Kc(13,"GB"),a.Tb(),a.Tb(),a.Ub(14,"clr-control-helper",10),a.Pb(15,"clr-icon",11),a.Kc(16),a.hc(17,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(18,"div",12),a.Ub(19,"button",13),a.cc("click",(function(){return t.cancel()})),a.Kc(20),a.hc(21,"translate"),a.Tb(),a.Ub(22,"button",14),a.cc("click",(function(){return t.expandHandleFunc()})),a.Kc(23),a.hc(24,"translate"),a.Tb(),a.Tb()),2&e&&(a.Cb(4),a.Lc(a.ic(5,6,"vmfs.expandSize")),a.Cb(3),a.mc("ngModel",t.expandForm.vo_add_capacity),a.Cb(2),a.mc("ngModel",t.expandForm.capacityUnit),a.Cb(7),a.Mc("",a.ic(17,8,"vmfs.expandTips")," "),a.Cb(4),a.Lc(a.ic(21,10,"menu.cancel")),a.Cb(3),a.Lc(a.ic(24,12,"menu.ok")))},directives:[l.K,b.E,b.r,b.s,l.A,l.G,l.H,l.F,b.w,b.e,b.z,b.q,b.t,b.A,b.v,b.D,l.l,l.B],pipes:[m.c],styles:[".modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}"],changeDetection:0}),e})(),vc=(()=>{class e{constructor(e){this.http=e}updateVmfs(e,t={}){return this.http.put("operatevmfs/updatevmfs?volumeId="+e,t)}getVmfsById(e){return this.http.get("accessvmfs/queryvmfs?dataStoreObjectId="+e)}getChartData(e){return this.http.get("accessvmfs/listvmfsperformance",{params:{volumeIds:e}})}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();function Tc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-radio-container",11),a.Ub(1,"label",2),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-radio-wrapper"),a.Ub(5,"input",12),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.control_policy=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Tb(),a.Tb(),a.Ub(9,"clr-radio-wrapper"),a.Ub(10,"input",13),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.control_policy=t})),a.Tb(),a.Ub(11,"label"),a.Kc(12),a.hc(13,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,5,"vmfs.controlPolicy")),a.Cb(3),a.mc("ngModel",e.modifyForm.control_policy),a.Cb(2),a.Lc(a.ic(8,7,"vmfs.upperLimitControl")),a.Cb(3),a.mc("ngModel",e.modifyForm.control_policy),a.Cb(2),a.Lc(a.ic(13,9,"vmfs.lowerLimitControl"))}}function yc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",2),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",14),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.maxbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",15),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.maxbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.max_bandwidth=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","max_bandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.modifyForm.maxbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.maxbandwidthChoose)("ngModel",e.modifyForm.max_bandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function Uc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",16),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.maxiopsChoose=t})),a.Tb(),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",17),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.maxiopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",18),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.maxiopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.max_iops=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","max_iops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(1),a.mc("ngModel",e.modifyForm.maxiopsChoose),a.Cb(2),a.mc("ngModel",e.modifyForm.maxiopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,5,"vmfs.IOPSLimitUpper")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.maxiopsChoose)("ngModel",e.modifyForm.max_iops)}}function wc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Ub(1,"label",2),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Ub(4,"clr-checkbox-wrapper"),a.Ub(5,"input",19),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.minbandwidthChoose=t})),a.Tb(),a.Ub(6,"label"),a.Kc(7),a.hc(8,"translate"),a.Ub(9,"input",20),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.minbandwidthChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.min_bandwidth=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","min_bandwidth")})),a.Tb(),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(2),a.Lc(a.ic(3,6,"vmfs.trafficControlObject")),a.Cb(3),a.mc("ngModel",e.modifyForm.minbandwidthChoose),a.Cb(2),a.Mc(" ",a.ic(8,8,"vmfs.bandwidthLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.minbandwidthChoose)("ngModel",e.modifyForm.min_bandwidth),a.Cb(1),a.Mc("",a.ic(11,10,"vmfs.unitM")," ")}}function Mc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",21),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.miniopsChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",22),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.miniopsChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.min_iops=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","min_iops")})),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.mc("ngModel",e.modifyForm.miniopsChoose),a.Cb(2),a.Mc(" ",a.ic(6,4,"vmfs.IOPSLimitLower")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.miniopsChoose)("ngModel",e.modifyForm.min_iops)}}function Lc(e,t){if(1&e){const e=a.Vb();a.Ub(0,"clr-checkbox-container"),a.Pb(1,"label"),a.Ub(2,"clr-checkbox-wrapper"),a.Ub(3,"input",23),a.cc("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.latencyChoose=t})),a.Tb(),a.Ub(4,"label"),a.Kc(5),a.hc(6,"translate"),a.Ub(7,"input",24),a.cc("readOnlyChange",(function(t){return a.zc(e),!(a.gc().modifyForm.latencyChoose=t)}))("ngModelChange",(function(t){return a.zc(e),a.gc().modifyForm.latency=t}))("blur",(function(){return a.zc(e),a.gc().qosBlur("modify","latency")})),a.Tb(),a.Kc(8),a.hc(9,"translate"),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=a.gc();a.Cb(3),a.mc("ngModel",e.modifyForm.latencyChoose),a.Cb(2),a.Mc(" ",a.ic(6,5,"vmfs.latencyMax")," "),a.Cb(2),a.mc("readOnly",!e.modifyForm.latencyChoose)("ngModel",e.modifyForm.latency),a.Cb(1),a.Mc("",a.ic(9,7,"vmfs.latencyUnit")," ")}}let Ic=(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.route=t,this.cdr=c,this.router=o,this.globalsService=n,this.modifyForm=(new i.a).getEditForm(),this.isServiceLevelData=!0,this.objectId="urn:vmomi:HostSystem:host-1034:674908e5-ab21-4079-9cb1-596358ee5dd1"}ngOnInit(){this.initData()}initData(){this.route.url.subscribe(e=>{console.log("url",e),this.route.queryParams.subscribe(e=>{if(this.resource=e.resource,"list"===this.resource)this.objectId=e.objectId;else{const e=this.globalsService.getClientSdk().app.getContextObjects();this.objectId=e[0].id}this.remoteSrv.getVmfsById(this.objectId).subscribe(e=>{if(console.log("result:",e),"200"===e.code&&null!=e.data)if(this.vmfsInfo=e.data.filter(e=>e.objectid===this.objectId)[0],this.modifyForm=(new i.a).getEditForm(),this.modifyForm.name=this.vmfsInfo.name,this.modifyForm.volumeId=this.vmfsInfo.volumeId,this.modifyForm.oldDsName=this.vmfsInfo.name,this.modifyForm.dataStoreObjectId=this.vmfsInfo.objectid,""===this.vmfsInfo.serviceLevelName){this.isServiceLevelData=!1;const e=[];e.push(this.vmfsInfo.wwn),this.remoteSrv.getChartData(e).subscribe(e=>{if(console.log("chartResult",e),console.log("chartResult","200"===e.code&&null!=e.data),"200"===e.code&&null!=e.data){const t=e.data[0];this.modifyForm.max_bandwidth=t.maxBandwidth,this.modifyForm.max_iops=t.maxIops,this.modifyForm.min_iops=t.minIops,this.modifyForm.min_bandwidth=t.minBandwidth,this.modifyForm.latency=t.latency}})}else this.isServiceLevelData=!0;console.log("this.modifyForm:",this.modifyForm),this.cdr.detectChanges()})})})}cancel(){console.log("this.resource",this.resource),"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}modifyHandleFunc(){this.modifyForm.newVoName=this.modifyForm.isSameName?this.modifyForm.name:this.vmfsInfo.volumeName,this.isServiceLevelData&&null===this.modifyForm.max_bandwidth&&null===this.modifyForm.max_iops&&null===this.modifyForm.min_bandwidth&&null===this.modifyForm.min_iops&&null===this.modifyForm.latency&&(this.modifyForm.control_policy=null),this.modifyForm.newDsName=this.modifyForm.name,console.log("this.modifyForm:",this.modifyForm),this.remoteSrv.updateVmfs(this.modifyForm.volumeId,this.modifyForm).subscribe(e=>{"200"===e.code?console.log("modify success:"+this.modifyForm.oldDsName):console.log("modify faild\uff1a"+this.modifyForm.oldDsName+e.description),this.cancel()})}qosBlur(e,t){let c;switch(t){case"max_bandwidth":c=this.modifyForm.max_bandwidth;break;case"max_iops":c=this.modifyForm.max_iops;break;case"min_bandwidth":c=this.modifyForm.min_bandwidth;break;case"min_iops":c=this.modifyForm.min_iops;break;default:c=this.modifyForm.latency}switch(c&&""!==c&&(c=c.toString().match(/\d+(\.\d{0,2})?/)?c.toString().match(/\d+(\.\d{0,2})?/)[0]:""),t){case"max_bandwidth":this.modifyForm.max_bandwidth=c;break;case"max_iops":this.modifyForm.max_iops=c;break;case"min_bandwidth":this.modifyForm.min_bandwidth=c;break;case"min_iops":this.modifyForm.min_iops=c;break;default:this.modifyForm.latency=c}}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(vc),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],features:[a.Bb([vc])],decls:32,vars:23,consts:[[1,"modal-body"],["clrForm",""],[2,"color","#9F9F9F"],["clrInput","","name","name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["type","checkbox","clrCheckbox","","name","isSameName",3,"ngModel","ngModelChange"],["clrInline","",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],["clrInline",""],["type","radio","clrRadio","","name","control_policyUpper","checked","checked","value","1",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policyLower","value","0",3,"ngModel","ngModelChange"],["type","checkbox","name","maxbandwidthChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","max_bandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["name","maxiopsChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","checkbox","name","maxiopsChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","max_iops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","minbandwidthChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","min_bandwidth",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","miniopsChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","min_iops",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"],["type","checkbox","name","latencyChoose","clrCheckbox","",3,"ngModel","ngModelChange"],["type","number","name","latency",1,"inputOneLine",3,"readOnly","ngModel","readOnlyChange","ngModelChange","blur"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"form",1),a.Ub(2,"clr-input-container"),a.Ub(3,"label",2),a.Kc(4),a.hc(5,"translate"),a.Tb(),a.Ub(6,"input",3,4),a.cc("ngModelChange",(function(e){return t.modifyForm.name=e})),a.Tb(),a.Pb(8,"br"),a.Ub(9,"clr-control-error"),a.Kc(10),a.hc(11,"translate"),a.Tb(),a.Tb(),a.Ub(12,"clr-checkbox-container"),a.Pb(13,"label"),a.Ub(14,"clr-checkbox-wrapper"),a.Ub(15,"input",5),a.cc("ngModelChange",(function(e){return t.modifyForm.isSameName=e})),a.Tb(),a.Ub(16,"label"),a.Kc(17),a.hc(18,"translate"),a.Tb(),a.Tb(),a.Tb(),a.Ic(19,Tc,14,11,"clr-radio-container",6),a.Ic(20,yc,12,12,"clr-checkbox-container",7),a.Ic(21,Uc,8,7,"clr-checkbox-container",7),a.Ic(22,wc,12,12,"clr-checkbox-container",7),a.Ic(23,Mc,8,6,"clr-checkbox-container",7),a.Ic(24,Lc,10,9,"clr-checkbox-container",7),a.Tb(),a.Tb(),a.Ub(25,"div",8),a.Ub(26,"button",9),a.cc("click",(function(){return t.cancel()})),a.Kc(27),a.hc(28,"translate"),a.Tb(),a.Ub(29,"button",10),a.cc("click",(function(){return t.modifyHandleFunc()})),a.Kc(30),a.hc(31,"translate"),a.Tb(),a.Tb()),2&e&&(a.Cb(4),a.Lc(a.ic(5,13,"vmfs.name")),a.Cb(2),a.mc("ngModel",t.modifyForm.name),a.Cb(4),a.Lc(a.ic(11,15,"validations.required")),a.Cb(5),a.mc("ngModel",t.modifyForm.isSameName),a.Cb(2),a.Lc(a.ic(18,17,"vmfs.modifyNameDesc")),a.Cb(2),a.mc("ngIf",!t.isServiceLevelData),a.Cb(1),a.mc("ngIf","1"===t.modifyForm.control_policy&&!t.isServiceLevelData),a.Cb(1),a.mc("ngIf","1"===t.modifyForm.control_policy&&!t.isServiceLevelData),a.Cb(1),a.mc("ngIf","0"===t.modifyForm.control_policy&&!t.isServiceLevelData),a.Cb(1),a.mc("ngIf","0"===t.modifyForm.control_policy&&!t.isServiceLevelData),a.Cb(1),a.mc("ngIf","0"===t.modifyForm.control_policy&&!t.isServiceLevelData),a.Cb(3),a.Lc(a.ic(28,19,"menu.cancel")),a.Cb(3),a.Lc(a.ic(31,21,"menu.ok")))},directives:[l.K,b.E,b.r,b.s,l.A,l.G,l.H,b.e,l.F,b.z,b.q,b.t,l.k,l.g,l.h,b.b,l.f,s.n,l.S,l.T,b.x,l.R,b.w],pipes:[m.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.blueBg[_ngcontent-%COMP%]{background-color:#add8e6}.merginLeft[_ngcontent-%COMP%]{margin-left:20px;border-style:solid}.expend-wrap[_ngcontent-%COMP%]{padding:0;border:1px solid #9bd8f3;box-sizing:border-box}.expend-wrap_active[_ngcontent-%COMP%]{padding:0 0 30px;border:none;background-color:#e3f5fc}.expend-wrap_active[_ngcontent-%COMP%]   .expend-title[_ngcontent-%COMP%]{padding:30px}.expend-title[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer;font-size:18px;color:var(--clr-card-title-color,#000)}.tabs-btn-wrap[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;border-radius:20px;border:1px solid #ccc;font-size:12px;line-height:12px}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]{padding:5px 20px;border-radius:20px;display:inline-block;position:relative;cursor:pointer}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn_active[_ngcontent-%COMP%]{background-color:#0072a3;border:none;color:#fff;z-index:10}.tabs-btn-wrap[_ngcontent-%COMP%]   .tabs-btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-10px}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{border-left:.05rem solid}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:2rem .3rem}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}  clr-icon{display:inline-block;margin:0;height:20px;width:20px;vertical-align:middle;fill:currentColor}.inputWidth100Percent[_ngcontent-%COMP%]{width:100%}  .clr-select-wrapper{width:35%}.clr-multiselect-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%],   .clr-select-wrapper select{width:100%}  .clr-combobox-wrapper{width:35%;background-color:#fff}  .clr-input-wrapper{width:35%}  .modal-title-text{line-height:3rem;border-bottom:1px solid #ddd;font-weight:bolder}  .clr-wizard .clr-wizard-stepnav-link{font-weight:bolder}-webkit-scrollbar[_ngcontent-%COMP%]{width:0;height:0}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center}  .clr-accordion-panel-open .clr-accordion-header{display:none}  .modal-title-wrapper{width:100%}.modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}"],changeDetection:0}),e})(),xc=(()=>{class e{constructor(e){this.http=e}delVmfs(e={}){return this.http.post("accessvmfs/deletevmfs",e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})(),Sc=(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.route=t,this.cdr=c,this.router=o,this.globalsService=n,this.objectIds=[]}ngOnInit(){this.initData()}initData(){this.route.url.subscribe(e=>{console.log("url",e),this.route.queryParams.subscribe(e=>{this.resource=e.resource;let t=[];if("list"===this.resource)t=e.objectId.split(",");else{const e=this.globalsService.getClientSdk().app.getContextObjects();t.push(e[0].id)}this.objectIds=t,console.log("del vmfs objectIds:"+t),console.log("this.resource",this.resource)})})}cancel(){"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}delHandleFunc(){this.remoteSrv.delVmfs({dataStoreObjectIds:this.objectIds}).subscribe(e=>{"200"===e.code?console.log("DEL success"):console.log("DEL faild: "+e.description),this.cdr.detectChanges(),this.cancel()})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(xc),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],features:[a.Bb([xc])],decls:11,vars:9,consts:[[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"p"),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Tb(),a.Ub(4,"div",1),a.Ub(5,"button",2),a.cc("click",(function(){return t.cancel()})),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ub(8,"button",3),a.cc("click",(function(){return t.delHandleFunc()})),a.Kc(9),a.hc(10,"translate"),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,3,"vmfs.del.content")),a.Cb(4),a.Lc(a.ic(7,5,"menu.cancel")),a.Cb(3),a.Lc(a.ic(10,7,"menu.ok")))},directives:[l.K],pipes:[m.c],styles:[".modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}"],changeDetection:0}),e})(),Oc=(()=>{class e{constructor(e){this.http=e}reclaimVmfs(e={}){return this.http.post("operatevmfs/recyclevmfsbydatastoreids",e)}}return e.\u0275fac=function(t){return new(t||e)(a.Yb(Ke.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac}),e})();const Pc=[{path:"list",component:ke,data:{title:"Vmfs List"}},{path:"attribute",component:ze,data:{title:"Vmfs volumeAttribute"}},{path:"performance",component:Ye,data:{title:"Vmfs volume-performance"}},{path:"host/mount",component:Ct,data:{title:"Vmfs host mount"}},{path:"cluster/mount",component:Ct,data:{title:"Vmfs cluster mount"}},{path:"cluster/unmount",component:Ct,data:{title:"Vmfs cluster unmount"}},{path:"host/unmount",component:Ct,data:{title:"Vmfs host unmount"}},{path:"add",component:nc,data:{title:"Vmfs ADD"}},{path:"modify",component:Ic,data:{title:"Vmfs Modify"}},{path:"expand",component:Cc,data:{title:"Vmfs expand"}},{path:"mount",component:Ct,data:{title:"Vmfs mount"}},{path:"unmount",component:Ct,data:{title:"Vmfs unmount"}},{path:"delete",component:Sc,data:{title:"Vmfs delete"}},{path:"reclaim",component:(()=>{class e{constructor(e,t,c,o,n){this.remoteSrv=e,this.route=t,this.cdr=c,this.router=o,this.globalsService=n,this.objectIds=[]}ngOnInit(){this.initData()}initData(){this.route.url.subscribe(e=>{console.log("url",e),console.log("url",e),this.route.queryParams.subscribe(e=>{this.resource=e.resource;let t=[];if("list"===this.resource)t=e.objectId.split(",");else{const e=this.globalsService.getClientSdk().app.getContextObjects();this.objectId=e[0].id,t.push(this.objectId)}this.objectIds=t,console.log("del vmfs objectIds:"+t)})})}cancel(){"list"===this.resource?this.router.navigate(["vmfs/list"]):this.globalsService.getClientSdk().modal.close()}reclaimHandleFunc(){this.remoteSrv.reclaimVmfs(this.objectIds).subscribe(e=>{"200"===e.code?console.log("Reclaim success"):console.log("Reclaim fail\uff1a"+e.description),this.cdr.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(Oc),a.Ob(n.a),a.Ob(a.h),a.Ob(n.f),a.Ob(r.b))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-list"]],features:[a.Bb([Oc])],decls:11,vars:9,consts:[[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"p"),a.Kc(2),a.hc(3,"translate"),a.Tb(),a.Tb(),a.Ub(4,"div",1),a.Ub(5,"button",2),a.cc("click",(function(){return t.cancel()})),a.Kc(6),a.hc(7,"translate"),a.Tb(),a.Ub(8,"button",3),a.cc("click",(function(){return t.reclaimHandleFunc()})),a.Kc(9),a.hc(10,"translate"),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.Lc(a.ic(3,3,"vmfs.reclaim.content")),a.Cb(4),a.Lc(a.ic(7,5,"menu.cancel")),a.Cb(3),a.Lc(a.ic(10,7,"menu.ok")))},directives:[l.K],pipes:[m.c],styles:[".modelTile[_ngcontent-%COMP%]{line-height:3rem;border-bottom:1px solid #ddd;font-weight:400}.errorTips[_ngcontent-%COMP%]{border:none;color:red}.add-wizard-wrap[_ngcontent-%COMP%]     .modal-backdrop{display:none}.add-wizard-wrap[_ngcontent-%COMP%]     .modal{padding:0;position:static}"],changeDetection:0}),e})(),data:{title:"Vmfs reclaim"}},{path:"serviceLevel",component:pc,data:{title:"Vmfs update serviceLevel"}}];let Fc=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[n.i.forChild(Pc)],n.i]}),e})(),kc=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[o.a,Fc,je.a,b.m,l.a,s.c,m.b]]}),e})()}}]);