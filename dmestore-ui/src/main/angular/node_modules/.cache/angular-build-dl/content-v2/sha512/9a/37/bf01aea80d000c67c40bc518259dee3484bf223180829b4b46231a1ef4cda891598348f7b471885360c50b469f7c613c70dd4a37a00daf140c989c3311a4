!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{FX80:function(e,a,s){"use strict";s.d(a,"b",(function(){return o})),s.d(a,"a",(function(){return u}));var r=s("fXoL"),i=s("tk/3"),o=function(){var e=function(){function e(n){t(this,e),this.http=n}return n(e,[{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("accessvmfs/listvmfs",t)}},{key:"getChartData",value:function(t){return this.http.get("accessvmfs/listvmfsperformance",{params:{volumeIds:t}})}},{key:"getStorages",value:function(){return this.http.get("dmestorage/storages")}},{key:"getStoragePoolsByStorId",value:function(t,e){return this.http.get("dmestorage/storagepools?storageId="+t+"&media_type="+e)}},{key:"getHostList",value:function(){return this.http.get("accessvmware/listhost")}},{key:"getClusterList",value:function(){return this.http.get("accessvmware/listcluster")}},{key:"getHostListByObjectId",value:function(t){return this.http.get("accessvmware/gethostsbydsobjectid?dataStoreObjectId="+t)}},{key:"getClusterListByObjectId",value:function(t){return this.http.get("accessvmware/getclustersbydsobjectid?dataStoreObjectId="+t)}},{key:"getMountHostOrCluSter",value:function(t){return this.http.get("accessvmware/getclustersbydsobjectid?dataStoreObjectId="+t)}},{key:"getServiceLevelList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.put("operatevmfs/listvmfsservicelevel",t)}},{key:"createVmfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessvmfs/createvmfs",t)}},{key:"updateVmfs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.put("operatevmfs/updatevmfs?volume_id="+t,e)}},{key:"delVmfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessvmfs/deletevmfs",t)}},{key:"getMountHost",value:function(t){return this.http.get("accessvmfs/gethostsbystorageid/"+t)}},{key:"getMountCluster",value:function(t){return this.http.get("accessvmfs/gethostgroupsbystorageid/"+t)}},{key:"unmountVMFS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("/accessvmfs/ummountvmfs",t)}},{key:"mountVmfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessvmfs/mountvmfs",t)}},{key:"reclaimVmfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatevmfs/recyclevmfs",t)}},{key:"changeServiceLevel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatevmfs/updatevmfsservicelevel",t)}},{key:"expandVMFS",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatevmfs/expandvmfs",t)}},{key:"scanVMFS",value:function(t){return this.http.get("accessdme/scandatastore",{params:{storageType:t}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Yb(i.b))},e.\u0275prov=r.Kb({token:e,factory:e.\u0275fac}),e}(),u=function(){function e(){t(this,e)}return n(e,[{key:"getAddForm",value:function(){return{name:null,volumeName:null,isSameName:!0,capacity:null,capacityUnit:"GB",count:null,service_level_id:null,service_level_name:null,version:"5",blockSize:"1024",spaceReclamationGranularity:"1024",spaceReclamationPriority:"low",host:null,hostId:null,cluster:null,clusterId:null,storage_id:null,pool_raw_id:null,workload_type_id:null,alloctype:null,control_policy:"1",latencyChoose:!1,latency:null,maxbandwidth:null,maxbandwidthChoose:!1,maxiops:null,maxiopsChoose:!1,minbandwidth:null,minbandwidthChoose:!1,miniops:null,miniopsChoose:!1,qosname:null,deviceName:null,hostDataloadSuccess:!1,culDataloadSuccess:!1}}},{key:"getEditForm",value:function(){return{name:null,isSameName:!0,volume_id:null,control_policy:"1",max_iops:null,max_bandwidth:null,newVoName:null,oldDsName:null,newDsName:null,min_iops:null,min_bandwidth:null,dataStoreObjectId:null,service_level_name:null,latency:null}}},{key:"getExpandForm",value:function(){return{vo_add_capacity:0,capacityUnit:"GB",volume_id:"",ds_name:""}}},{key:"getChangeLevelForm",value:function(){return{volume_ids:[],ds_name:"",service_level_id:"",service_level_name:""}}},{key:"getMountForm",value:function(){return{hostId:null,host:null,clusterId:null,cluster:null,dataStoreObjectIds:[],mountType:null}}},{key:"getUnmountForm",value:function(){return{name:null,hostName:null,hostId:null,hostGroupId:null,hostGroupName:null,dataStoreObjectIds:[],mountType:"1"}}}]),e}()},tMGR:function(e,a,s){"use strict";s.d(a,"e",(function(){return u})),s.d(a,"a",(function(){return l})),s.d(a,"f",(function(){return c})),s.d(a,"d",(function(){return d})),s.d(a,"c",(function(){return m})),s.d(a,"b",(function(){return C}));var r=s("/Kh9"),i=s("fXoL"),o=s("tk/3"),u=function(){var e=function(){function e(n){t(this,e),this.http=n}return n(e,[{key:"getData",value:function(){return this.http.get("accessnfs/listnfs")}},{key:"getChartData",value:function(t){return this.http.get("accessnfs/listnfsperformance",{params:{fsIds:t}})}},{key:"addNfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.log("addNfs"),console.log(t),this.http.post("operatenfs/createnfsdatastore",t)}},{key:"updateNfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatenfs/updatenfsdatastore",t)}},{key:"mountNfs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("accessnfs/mountnfs",t)}},{key:"delNfs",value:function(t){return this.http.post("accessnfs/delnfs",t)}},{key:"getHostListByObjectId",value:function(t){return this.http.get("accessvmware/gethostsbydsobjectid",{params:{dataStoreObjectId:t}})}},{key:"getHostList",value:function(){return this.http.get("accessvmware/listhost")}},{key:"getClusterListByObjectId",value:function(t){return this.http.get("accessvmware/getclustersbydsobjectid",{params:{dataStoreObjectId:t}})}},{key:"getVolsByObjId",value:function(t){return this.http.get("accessvmfs/volume/"+t)}},{key:"getVmkernelListByObjectId",value:function(t){return this.http.get("accessvmware/getvmkernelipbyhostobjectid",{params:{hostObjectId:t}})}},{key:"getNfsDetailById",value:function(t){return this.http.get("dmestorage/filesystemdetail",{params:{fileSystemId:t}})}},{key:"changeCapacity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.post("operatenfs/changenfsdatastore",t)}},{key:"getLineChartData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.post(t,e)}}]),e}();return e.vmfsIOPS=["1125921381744648","1125921381744649"],e.vmfsBDWT=["1125921381744646","1125921381744647"],e.vmfsLatency=["1125921381744656","1125921381744657"],e.vmfsUrl="datastorestatistichistrory/vmfs",e.nfsOPS=["1125921381744648","1125921381744649"],e.nfsBDWT=["1125921381744646","1125921381744647"],e.nfsLatency=["1125921381744656","1125921381744657"],e.nfsUrl="datastorestatistichistrory/nfs",e.perRanges=[{key:"LAST_5_MINUTE",value:"\u6700\u8fd15\u5206\u949f"},{key:"LAST_1_HOUR",value:"\u6700\u8fd11\u5c0f\u65f6"},{key:"LAST_1_DAY",value:"\u6700\u8fd11\u5929"},{key:"LAST_1_WEEK",value:"\u6700\u8fd11\u5468"},{key:"LAST_1_MONTH",value:"\u6700\u8fd11\u4e2a\u6708"},{key:"LAST_1_QUARTER",value:"\u6700\u8fd11\u4e2a\u5b63\u5ea6"},{key:"HALF_1_YEAR",value:"\u6700\u8fd1\u534a\u5e74"},{key:"LAST_1_YEAR",value:"\u6700\u8fd11\u5e74"},{key:"BEGIN_END_TIME",value:"\u5f00\u59cb-\u7ed3\u675f\u65f6\u95f4"},{key:"INVALID",value:"\u65e0\u6548"}],e.\u0275fac=function(t){return new(t||e)(i.Yb(o.b))},e.\u0275prov=i.Kb({token:e,factory:e.\u0275fac}),e}(),l=function e(){t(this,e),this.sameName=!0,this.advance=!1,this.qosFlag=!1,this.deduplicationEnabled=!1,this.compressionEnabled=!1,this.autoSizeEnable=!1,this.thin=!0},c=function e(){t(this,e),this.sameName=!0},h=function e(){t(this,e)},v=function e(){t(this,e)},f=function e(){t(this,e)},d=function e(){t(this,e)},m=function e(){t(this,e),this.capacity_autonegotiation=new h,this.tuning=new v,this.qos_policy=new f,this.sameName=!0,this.advance=!0,this.qosPolicy=!0},p=function e(){t(this,e)},g=function e(){t(this,e)},y=function e(){t(this,e)},b=function e(){t(this,e)},w=function e(){t(this,e)},k=function e(){t(this,e)},_=function e(){t(this,e)},S=function e(){t(this,e)},x=function e(){t(this,e)},L=function e(){t(this,e)},D=function e(){t(this,e)},N=function e(){t(this,e)},I=function e(){t(this,e)},O=function e(){t(this,e)},j=function e(){t(this,e)},A=function e(){t(this,e),this.show=!0},C=function(){var e=function(){function e(n,a,s){t(this,e),this.remoteSrv=n,this.cdr=a,this.gs=s}return n(e,[{key:"setChart",value:function(t,e,n,a,s,r,i,o,u){var l=this,c=this.getNewChart(t,e,n);return new Promise((function(t,h){l.remoteSrv.getLineChartData(i,{indicator_ids:a,obj_ids:s,range:r,begin_time:o,end_time:u}).subscribe((function(r){if(console.log("chartData: ",e,r),"200"===r.code&&null!==r.data&&null!==r.data.data){var i=r.data;c.title.text=e,c.title.subtext=n;var o=i[s[0]][a[0]],u=i[s[0]][a[1]],h=l.getUpperOrLower(o,"upper"),v=l.getUpperOrLower(u,"lower");l.getUpperOrLower(o,"lower"),l.getUpperOrLower(u,"lower");var f=o.series,d=u.series,m=o.avg,p=u.avg;l.setXAxisData(f,c),c.yAxis.max=h>v?h:v,console.log("chart.yAxis.pmaxData",h),console.log("chart.yAxis.lmaxData",v),f.forEach((function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];c.series[2].data.push({value:Number(t[a]),symbol:"none"})}for(var s=0,r=Object.keys(m);s<r.length;s++){var i=r[s];c.series[0].data.push({value:Number(m[i]),symbol:"none"})}})),d.forEach((function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];c.series[3].data.push({value:Number(t[a]),symbol:"none"})}for(var s=0,r=Object.keys(p);s<r.length;s++){var i=r[s];c.series[1].data.push({value:Number(p[i]),symbol:"none"})}})),t(c)}else console.log("get chartData fail: ",r.description)}))}))}},{key:"setChartSingle",value:function(t,e,n,a,s,r,i,o,u){var l=this,c=this.getNewChartSingle(t,e,n);return new Promise((function(t,h){l.remoteSrv.getLineChartData(i,{indicator_ids:a,obj_ids:s,range:r,begin_time:o,end_time:u}).subscribe((function(r){if(console.log("chartData: ",e,r),c.title.text=e,c.title.subtext=n,"200"===r.code&&null!==r.data&&null!==r.data.data){var i=r.data;r.data.data&&(i=r.data.data);var o=i[s[0]][a[0]].series;l.setXAxisData(o,c),o.forEach((function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var a=n[e];c.series[0].data.push({value:Number(t[a]),symbol:"none"})}}))}else console.log("get chartData fail: ",r.description);t(c)}))}))}},{key:"getNewChart",value:function(t,e,n){var a=new p;a.height=t;var s=new g;s.text=e,s.subtext=n,s.textAlign="bottom";var r=new y;r.fontStyle="normal",s.textStyle=r,a.title=s;var i=new b;i.type="category",i.boundaryGap=!1,i.data=[],a.xAxis=i;var o=new w;o.type="value",o.min=0,o.splitNumber=2,o.boundaryGap=["50%","50%"];var u=new _;u.show=!1,o.axisLine=u;var l=new k;l.show=!0;var c=new j;c.type="dashed",l.lineStyle=c,o.splitLine=l,a.yAxis=o;var h=new S;h.trigger="axis",h.formatter="{b} <br/> {a0}: {c0}<br/>{a1}: {c1}<br/>{a2}: {c2}<br/>{a3}: {c3}";var v=new x;v.axis="x",v.type="line",h.axisPointer=v,a.tooltip=h;var f=new L,d=[];d.push(this.setLengdData("Upper Limit","line")),d.push(this.setLengdData("Lower Limit","line")),d.push(this.setLengdData("Read","circle")),d.push(this.setLengdData("Write","circle")),f.x="right",f.y="top",f.selectedMode=!0,f.data=d,a.legend=f,a.color=["#DB2000","#F8E082","#6870c4","#01bfa8"];var m=[];return m.push(this.setSerieData("Upper Limit","line",!0,"dotted","#DB2000",null)),m.push(this.setSerieData("Lower Limit","line",!0,"dotted","#F8E082",null)),m.push(this.setSerieData("Read","line",!0,"solid","#6870c4",null)),m.push(this.setSerieData("Write","line",!0,"solid","#01bfa8",null)),a.series=m,a}},{key:"getNewChartSingle",value:function(t,e,n){var a=new p;a.height=t;var s=new g;s.text=e,s.subtext=n,s.textAlign="bottom";var r=new y;r.fontStyle="normal",s.textStyle=r,a.title=s;var i=new b;i.type="category",i.boundaryGap=!1,i.data=[],a.xAxis=i;var o=new w;o.type="value",o.min=0,o.splitNumber=2,o.boundaryGap=["50%","50%"];var u=new _;u.show=!1,o.axisLine=u;var l=new k;l.show=!0;var c=new j;c.type="dashed",l.lineStyle=c,o.splitLine=l,a.yAxis=o;var h=new S;h.trigger="axis",h.formatter="{b} <br/> {a0}: {c0}";var v=new x;v.axis="x",v.type="line",h.axisPointer=v,a.tooltip=h,a.color=["#DB2000"];var f=[];return f.push(this.setSerieData("\u5377\u6700\u5927I/O\u76f8\u5e94\u65f6\u95f4","line",!0,"dotted","#DB2000",null)),a.series=f,a}},{key:"setSerieData",value:function(t,e,n,a,s,r){var i=new N;i.name=t,i.type=e,i.data=[],i.smooth=n;var o=new I,u=new O,l=new j;l.color=s,l.type=a,l.width=2,u.lineStyle=l,o.normal=u,i.itemStyle=o;var c=new A;return c.formatter=r,c.show=!0,i.label=c,i}},{key:"setLengdData",value:function(t,e){var n=new D;return n.name=t,null!==e&&(n.icon=e),n}},{key:"setXAxisData",value:function(t,e){console.log("data",t),t.forEach((function(t){for(var n=0,a=Object.keys(t);n<a.length;n++){var s=a[n],r=new Date(+s),i=r.getFullYear()+"-"+r.getMonth()+"-"+r.getDay()+" "+r.getHours()+":"+r.getMinutes();e.xAxis.data.push(i)}}))}},{key:"getUpperOrLower",value:function(t,e){var n;if("lower"===e)for(var a=0,s=Object.keys(t.max);a<s.length;a++){var r=s[a];n=Number(t.max[r])}else for(var i=0,o=Object.keys(t.max);i<o.length;i++){var u=o[i];n=Number(t.min[u])}return n}},{key:"getVolsByObjId",value:function(t,e,n,a,s){var r=this;console.log("objectId: "+t),this.remoteSrv.getVolsByObjId(t).subscribe((function(t){if(console.log(t),"200"===t.code){var n=[];(e=t.data).forEach((function(t){n.push(t.name)})),r.getVolByName(n[0],e),r.cdr.detectChanges()}else console.log(t.description)}))}},{key:"getVolByName",value:function(t,e){return e.filter((function(e){return e.name===t}))[0]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Yb(u),i.Yb(i.h),i.Yb(r.b))},e.\u0275prov=i.Kb({token:e,factory:e.\u0275fac}),e}()}}])}();