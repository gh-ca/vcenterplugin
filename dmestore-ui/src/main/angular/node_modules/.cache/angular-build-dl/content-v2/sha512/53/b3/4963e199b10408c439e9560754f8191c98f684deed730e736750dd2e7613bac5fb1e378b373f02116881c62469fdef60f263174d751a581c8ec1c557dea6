!function(){function e(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){a=!0,r=e},f:function(){try{l||null==t.return||t.return()}finally{if(a)throw r}}}}function c(e,c){(null==c||c>e.length)&&(c=e.length);for(var n=0,t=new Array(c);n<c;n++)t[n]=e[n];return t}function n(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function t(e,c){for(var n=0;n<c.length;n++){var t=c[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{p5bE:function(c,o,i){"use strict";i.r(o),i.d(o,"RdmModule",(function(){return H}));var r=i("ofXK"),l=i("M0ag"),a=i("tyNb"),b=i("6rlL"),s=i("/Kh9"),d=i("8MG2"),g=i("fXoL"),u=i("tk/3"),p=i("3Pt+"),h=i("sYmb"),m=["rdmForm"];function f(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-dg-row",17),g.Ub(1,"clr-dg-cell",18),g.Ub(2,"input",19,20),g.cc("ngModelChange",(function(e){return g.zc(n),c.$implicit.name=e})),g.Tb(),g.Tb(),g.Ub(4,"clr-dg-cell",18),g.Ub(5,"input",21,22),g.cc("ngModelChange",(function(e){return g.zc(n),c.$implicit.capacity=e})),g.Tb(),g.Ub(7,"select",23),g.cc("ngModelChange",(function(e){return g.zc(n),c.$implicit.unit=e})),g.Ub(8,"option",24),g.Kc(9,"GB"),g.Tb(),g.Ub(10,"option",25),g.Kc(11,"TB"),g.Tb(),g.Tb(),g.Tb(),g.Ub(12,"clr-dg-cell",18),g.Ub(13,"input",26,22),g.cc("ngModelChange",(function(e){return g.zc(n),c.$implicit.count=e})),g.Tb(),g.Tb(),g.Ub(15,"clr-dg-cell",27),g.Ub(16,"span",28),g.cc("click",(function(){g.zc(n);var e=c.$implicit;return g.gc().basRemove(e)})),g.Kc(17),g.hc(18,"translate"),g.Tb(),g.Tb(),g.Pb(19,"clr-dg-cell",27),g.Tb()}if(2&e){var t=c.$implicit,o=g.gc();g.mc("clrDgItem",t),g.Cb(2),g.mc("ngModel",t.name),g.Cb(3),g.mc("ngModel",t.capacity),g.Cb(2),g.mc("ngModel",t.unit),g.Cb(6),g.mc("ngModel",t.count),g.Cb(2),g.mc("hidden",1===o.configModel.volume_specs.length),g.Cb(2),g.Lc(g.ic(18,8,"rdm.remove")),g.Cb(2),g.mc("hidden",1!==o.configModel.volume_specs.length)}}function v(e,c){if(1&e&&(g.Ub(0,"option",29),g.Kc(1),g.Tb()),2&e){var n=c.$implicit;g.nc("value",n.id),g.Cb(1),g.Nc("",n.ip,"(",n.name,")")}}function T(e,c){if(1&e&&(g.Ub(0,"option",29),g.Kc(1),g.Tb()),2&e){var n=c.$implicit;g.nc("value",n.name),g.Cb(1),g.Lc(n.name)}}function C(e,c){if(1&e&&(g.Ub(0,"th"),g.Kc(1),g.Tb()),2&e){var n=g.gc().$implicit;g.Cb(1),g.Mc(" IOPS <= ",n.capabilities.qos.qosParam.maxIOPS," IOPS/TB ")}}function M(e,c){if(1&e&&(g.Ub(0,"th"),g.Kc(1),g.Tb()),2&e){var n=g.gc().$implicit;g.Cb(1),g.Mc(" IOPS >= ",n.capabilities.qos.qosParam.minIOPS," IOPS/TB ")}}function U(e,c){if(1&e&&(g.Ub(0,"th"),g.Kc(1),g.hc(2,"translate"),g.Tb()),2&e){var n=g.gc().$implicit;g.Cb(1),g.Nc(" ",g.ic(2,2,"tier.bandwidth")," >= ",n.capabilities.qos.qosParam.minBandWidth," Mbps/s ")}}function y(e,c){if(1&e&&(g.Ub(0,"th"),g.Kc(1),g.hc(2,"translate"),g.Tb()),2&e){var n=g.gc().$implicit;g.Cb(1),g.Nc(" ",g.ic(2,2,"tier.bandwidth")," <= ",n.capabilities.qos.qosParam.maxBandWidth," Mbps/s ")}}function K(e,c){if(1&e&&(g.Ub(0,"th"),g.Kc(1),g.Tb()),2&e){var n=g.gc().$implicit;g.Cb(1),g.Nc(" Latency= ",n.capabilities.qos.qosParam.latency," ",n.capabilities.qos.qosParam.latencyUnit," ")}}function L(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-accordion-panel",32),g.cc("click",(function(){g.zc(n);var e=c.$implicit;return g.gc(2).serviceLevelClick(e.id,e.name)})),g.Ub(1,"clr-accordion-title",33),g.Kc(2),g.Tb(),g.Ub(3,"clr-accordion-content"),g.Ub(4,"table",34),g.Ub(5,"tbody"),g.Ub(6,"tr"),g.Pb(7,"th",35),g.Ub(8,"th"),g.Kc(9),g.Tb(),g.Tb(),g.Ub(10,"tr"),g.Pb(11,"th",35),g.Ub(12,"td"),g.Kc(13),g.hc(14,"translate"),g.Tb(),g.Ub(15,"td"),g.Kc(16),g.hc(17,"translate"),g.Tb(),g.Tb(),g.Ub(18,"tr"),g.Pb(19,"th",35),g.Ub(20,"th"),g.Pb(21,"clr-progress-bar",36),g.Tb(),g.Ic(22,C,2,1,"th",37),g.Ic(23,M,2,1,"th",37),g.Tb(),g.Ub(24,"tr"),g.Pb(25,"th",35),g.Pb(26,"th"),g.Ic(27,U,3,4,"th",37),g.Ic(28,y,3,4,"th",37),g.Tb(),g.Ub(29,"tr"),g.Pb(30,"th",35),g.Ub(31,"th"),g.Kc(32),g.Tb(),g.Ic(33,K,2,2,"th",37),g.Tb(),g.Tb(),g.Tb(),g.Tb(),g.Pb(34,"img",38),g.Tb()}if(2&e){var t=c.$implicit;g.Cb(2),g.Lc(t.name),g.Cb(7),g.Mc(" ",t.name," "),g.Cb(4),g.Lc(g.ic(14,12,"vmfs.capacityUsage")),g.Cb(3),g.Lc(g.ic(17,14,"vmfs.qos")),g.Cb(5),g.nc("clrValue",t.usedRate),g.Cb(1),g.mc("ngIf",null!=t.capabilities.qos&&null!=t.capabilities.qos.qosParam.maxIOPS),g.Cb(1),g.mc("ngIf",null!=t.capabilities.qos&&null!=t.capabilities.qos.qosParam.minIOPS),g.Cb(4),g.mc("ngIf",null!=t.capabilities.qos&&1==t.capabilities.qos.enabled&&null!=t.capabilities.qos.qosParam.minBandWidth),g.Cb(1),g.mc("ngIf",null!=t.capabilities.qos&&1==t.capabilities.qos.enabled&&null!=t.capabilities.qos.qosParam.maxBandWidth),g.Cb(4),g.Nc("",t.used_capacity," GB/",t.total_capacity,"GB"),g.Cb(1),g.mc("ngIf",null!=t.capabilities.qos&&1==t.capabilities.qos.enabled&&null!=t.capabilities.qos.qosParam.latency)}}function _(e,c){if(1&e&&(g.Ub(0,"div",30),g.Ub(1,"clr-accordion"),g.Ic(2,L,35,16,"clr-accordion-panel",31),g.Tb(),g.Tb()),2&e){var n=g.gc();g.mc("hidden","level"!==n.levelCheck),g.Cb(2),g.mc("ngForOf",n.serviceLevels)}}function q(e,c){if(1&e&&(g.Ub(0,"option",29),g.Kc(1),g.Tb()),2&e){var n=c.$implicit;g.nc("value",n.id),g.Cb(1),g.Lc(n.name)}}function w(e,c){if(1&e&&(g.Ub(0,"option",29),g.Kc(1),g.Tb()),2&e){var n=c.$implicit;g.nc("value",n.id),g.Cb(1),g.Lc(n.name)}}function I(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-select-container"),g.Ub(1,"label"),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Kc(6,": "),g.Ub(7,"select",51),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(2).configModel.tuning.smarttier=e})),g.Ub(8,"option",43),g.Kc(9),g.hc(10,"translate"),g.Tb(),g.Ub(11,"option",44),g.Kc(12),g.hc(13,"translate"),g.Tb(),g.Ub(14,"option",45),g.Kc(15),g.hc(16,"translate"),g.Tb(),g.Ub(17,"option",47),g.Kc(18),g.hc(19,"translate"),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(2);g.Cb(2),g.Lc(g.ic(3,6,"rdm.smartTierP")),g.Cb(5),g.mc("ngModel",t.configModel.tuning.smarttier),g.Cb(2),g.Lc(g.ic(10,8,"rdm.notMove")),g.Cb(3),g.Lc(g.ic(13,10,"rdm.autoMove")),g.Cb(3),g.Lc(g.ic(16,12,"rdm.highPMove")),g.Cb(3),g.Lc(g.ic(19,14,"rdm.lowPMove"))}}function P(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-radio-container",11),g.Ub(1,"label",52),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Ub(6,"clr-radio-wrapper"),g.Ub(7,"input",53),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(2).configModel.tuning.smartqos.control_policy=e})),g.Tb(),g.Ub(8,"label"),g.Kc(9),g.hc(10,"translate"),g.Tb(),g.Tb(),g.Ub(11,"clr-radio-wrapper"),g.Ub(12,"input",54),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(2).configModel.tuning.smartqos.control_policy=e})),g.Tb(),g.Ub(13,"label"),g.Kc(14),g.hc(15,"translate"),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(2);g.Cb(2),g.Lc(g.ic(3,5,"rdm.controlP")),g.Cb(5),g.mc("ngModel",t.configModel.tuning.smartqos.control_policy),g.Cb(2),g.Lc(g.ic(10,7,"rdm.uLimit")),g.Cb(3),g.mc("ngModel",t.configModel.tuning.smartqos.control_policy),g.Cb(2),g.Lc(g.ic(15,9,"rdm.lLimit"))}}function S(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-checkbox-container"),g.Ub(1,"label"),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Ub(6,"clr-checkbox-wrapper"),g.Pb(7,"input",55),g.Ub(8,"label"),g.Kc(9),g.hc(10,"translate"),g.Ub(11,"input",56),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(3).configModel.tuning.smartqos.maxbandwidth=e})),g.Tb(),g.Kc(12," MB/s "),g.Tb(),g.Tb(),g.Ub(13,"clr-checkbox-wrapper"),g.Pb(14,"input",55),g.Ub(15,"label"),g.Kc(16,"IOPS <= "),g.Ub(17,"input",57),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(3).configModel.tuning.smartqos.maxiops=e})),g.Tb(),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(3);g.Cb(2),g.Lc(g.ic(3,4,"rdm.trafficC")),g.Cb(7),g.Mc("",g.ic(10,6,"rdm.bandwidth")," <= "),g.Cb(2),g.mc("ngModel",t.configModel.tuning.smartqos.maxbandwidth),g.Cb(6),g.mc("ngModel",t.configModel.tuning.smartqos.maxiops)}}function O(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-checkbox-container"),g.Ub(1,"label"),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Ub(6,"clr-checkbox-wrapper"),g.Pb(7,"input",55),g.Ub(8,"label"),g.Kc(9),g.hc(10,"translate"),g.Ub(11,"input",56),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(3).configModel.tuning.smartqos.minbandwidth=e})),g.Tb(),g.Kc(12," MB/s "),g.Tb(),g.Tb(),g.Ub(13,"clr-checkbox-wrapper"),g.Pb(14,"input",55),g.Ub(15,"label"),g.Kc(16,"IOPS >= "),g.Ub(17,"input",57),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(3).configModel.tuning.smartqos.miniops=e})),g.Tb(),g.Tb(),g.Tb(),g.Ub(18,"clr-checkbox-wrapper"),g.Pb(19,"input",55),g.Ub(20,"label"),g.Kc(21),g.hc(22,"translate"),g.Ub(23,"input",58),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(3).configModel.tuning.smartqos.latency=e})),g.Tb(),g.Kc(24," ms "),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(3);g.Cb(2),g.Lc(g.ic(3,6,"rdm.trafficC")),g.Cb(7),g.Mc("",g.ic(10,8,"rdm.bandwidth")," >= "),g.Cb(2),g.mc("ngModel",t.configModel.tuning.smartqos.minbandwidth),g.Cb(6),g.mc("ngModel",t.configModel.tuning.smartqos.miniops),g.Cb(4),g.Mc("",g.ic(22,10,"rdm.latency")," <= "),g.Cb(2),g.mc("ngModel",t.configModel.tuning.smartqos.latency)}}function x(e,c){if(1&e&&(g.Ub(0,"div"),g.Ic(1,S,18,8,"clr-checkbox-container",37),g.Ic(2,O,25,12,"clr-checkbox-container",37),g.Tb()),2&e){var n=g.gc(2);g.Cb(1),g.mc("ngIf","1"===n.configModel.tuning.smartqos.control_policy),g.Cb(1),g.mc("ngIf","0"===n.configModel.tuning.smartqos.control_policy)}}function k(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-select-container"),g.Ub(1,"label"),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Kc(6,": "),g.Ub(7,"select",59),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(2).configModel.tuning.alloctype=e})),g.Ub(8,"option",60),g.Kc(9,"thin"),g.Tb(),g.Ub(10,"option",61),g.Kc(11,"thick"),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(2);g.Cb(2),g.Lc(g.ic(3,2,"rdm.alloctype")),g.Cb(5),g.mc("ngModel",t.configModel.tuning.alloctype)}}function R(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-select-container"),g.Ub(1,"label"),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Kc(6,": "),g.Ub(7,"select",62),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(2).configModel.tuning.dedupe_enabled=e})),g.Ub(8,"option",63),g.Kc(9),g.hc(10,"translate"),g.Tb(),g.Ub(11,"option",64),g.Kc(12),g.hc(13,"translate"),g.Tb(),g.Ub(14,"option",65),g.Kc(15),g.hc(16,"translate"),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(2);g.Cb(2),g.Lc(g.ic(3,5,"rdm.dedupe")),g.Cb(5),g.mc("ngModel",t.configModel.tuning.dedupe_enabled),g.Cb(2),g.Lc(g.ic(10,7,"rdm.default")),g.Cb(3),g.Lc(g.ic(13,9,"rdm.enable")),g.Cb(3),g.Lc(g.ic(16,11,"rdm.disable"))}}function z(e,c){if(1&e){var n=g.Vb();g.Ub(0,"clr-select-container"),g.Ub(1,"label"),g.Kc(2),g.hc(3,"translate"),g.Ub(4,"span",3),g.Kc(5,"*"),g.Tb(),g.Tb(),g.Kc(6,": "),g.Ub(7,"select",66),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc(2).configModel.tuning.compression_enabled=e})),g.Ub(8,"option",63),g.Kc(9),g.hc(10,"translate"),g.Tb(),g.Ub(11,"option",64),g.Kc(12),g.hc(13,"translate"),g.Tb(),g.Ub(14,"option",65),g.Kc(15),g.hc(16,"translate"),g.Tb(),g.Tb(),g.Tb()}if(2&e){var t=g.gc(2);g.Cb(2),g.Lc(g.ic(3,5,"rdm.compression")),g.Cb(5),g.mc("ngModel",t.configModel.tuning.compression_enabled),g.Cb(2),g.Lc(g.ic(10,7,"rdm.default")),g.Cb(3),g.Lc(g.ic(13,9,"rdm.enable")),g.Cb(3),g.Lc(g.ic(16,11,"rdm.disable"))}}function F(e,c){if(1&e){var n=g.Vb();g.Ub(0,"div",30),g.Ub(1,"clr-select-container"),g.Ub(2,"label"),g.Kc(3),g.hc(4,"translate"),g.Ub(5,"span",3),g.Kc(6,"*"),g.Tb(),g.Tb(),g.Kc(7,": "),g.Ub(8,"select",39),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().configModel.storage_id=e}))("ngModelChange",(function(){g.zc(n);var e=g.gc();return e.loadStoragePool(e.configModel.storage_id)})),g.Pb(9,"option",40),g.Ic(10,q,2,2,"option",9),g.Tb(),g.Ub(11,"clr-control-error"),g.Kc(12),g.hc(13,"translate"),g.Tb(),g.Tb(),g.Ub(14,"clr-select-container"),g.Ub(15,"label"),g.Kc(16),g.hc(17,"translate"),g.Ub(18,"span",3),g.Kc(19,"*"),g.Tb(),g.Tb(),g.Kc(20,": "),g.Ub(21,"select",41),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().configModel.pool_raw_id=e})),g.Pb(22,"option",40),g.Ic(23,w,2,2,"option",9),g.Tb(),g.Ub(24,"clr-control-error"),g.Kc(25),g.hc(26,"translate"),g.Tb(),g.Tb(),g.Ub(27,"clr-select-container"),g.Ub(28,"label"),g.Kc(29),g.hc(30,"translate"),g.Ub(31,"span",3),g.Kc(32,"*"),g.Tb(),g.Tb(),g.Kc(33,": "),g.Ub(34,"select",42),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().configModel.owner_controller=e})),g.Ub(35,"option",43),g.Kc(36),g.hc(37,"translate"),g.Tb(),g.Ub(38,"option",44),g.Kc(39,"0A"),g.Tb(),g.Ub(40,"option",45),g.Kc(41,"0B"),g.Tb(),g.Tb(),g.Ub(42,"clr-control-error"),g.Kc(43),g.hc(44,"translate"),g.Tb(),g.Tb(),g.Ub(45,"clr-select-container"),g.Ub(46,"label"),g.Kc(47),g.hc(48,"translate"),g.Ub(49,"span",3),g.Kc(50,"*"),g.Tb(),g.Tb(),g.Kc(51,": "),g.Ub(52,"select",46),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().configModel.initial_distribute_policy=e})),g.Ub(53,"option",43),g.Kc(54),g.hc(55,"translate"),g.Tb(),g.Ub(56,"option",44),g.Kc(57),g.hc(58,"translate"),g.Tb(),g.Ub(59,"option",45),g.Kc(60),g.hc(61,"translate"),g.Tb(),g.Ub(62,"option",47),g.Kc(63),g.hc(64,"translate"),g.Tb(),g.Tb(),g.Ub(65,"clr-control-error"),g.Kc(66),g.hc(67,"translate"),g.Tb(),g.Tb(),g.Ub(68,"clr-select-container"),g.Ub(69,"label"),g.Kc(70),g.hc(71,"translate"),g.Ub(72,"span",3),g.Kc(73,"*"),g.Tb(),g.Tb(),g.Kc(74,": "),g.Ub(75,"select",48),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().configModel.prefetch_policy=e})),g.Ub(76,"option",43),g.Kc(77),g.hc(78,"translate"),g.Tb(),g.Ub(79,"option",44),g.Kc(80),g.hc(81,"translate"),g.Tb(),g.Ub(82,"option",45),g.Kc(83),g.hc(84,"translate"),g.Tb(),g.Ub(85,"option",47),g.Kc(86),g.hc(87,"translate"),g.Tb(),g.Tb(),g.Ub(88,"clr-control-error"),g.Kc(89),g.hc(90,"translate"),g.Tb(),g.Tb(),g.Ub(91,"clr-input-container"),g.Ub(92,"label"),g.Kc(93),g.hc(94,"translate"),g.Tb(),g.Tb(),g.Ub(95,"clr-toggle-container"),g.Ub(96,"clr-toggle-wrapper"),g.Ub(97,"label"),g.Kc(98),g.hc(99,"translate"),g.Tb(),g.Ub(100,"input",49),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().policyEnable.smartTier=e})),g.Tb(),g.Tb(),g.Tb(),g.Ic(101,I,20,16,"clr-select-container",37),g.Ub(102,"clr-toggle-container"),g.Ub(103,"clr-toggle-wrapper"),g.Ub(104,"label"),g.Kc(105),g.hc(106,"translate"),g.Tb(),g.Ub(107,"input",49),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().policyEnable.qosPolicy=e})),g.Tb(),g.Tb(),g.Tb(),g.Ic(108,P,16,11,"clr-radio-container",50),g.Ic(109,x,3,2,"div",37),g.Ub(110,"clr-toggle-container"),g.Ub(111,"clr-toggle-wrapper"),g.Ub(112,"label"),g.Kc(113),g.hc(114,"translate"),g.Tb(),g.Ub(115,"input",49),g.cc("ngModelChange",(function(e){return g.zc(n),g.gc().policyEnable.resourceTuning=e})),g.Tb(),g.Tb(),g.Tb(),g.Ic(116,k,12,4,"clr-select-container",37),g.Ic(117,R,17,13,"clr-select-container",37),g.Ic(118,z,17,13,"clr-select-container",37),g.Tb()}if(2&e){var t=g.gc();g.mc("hidden","storage"!==t.levelCheck),g.Cb(3),g.Lc(g.ic(4,40,"rdm.storage")),g.Cb(5),g.mc("ngModel",t.configModel.storage_id),g.Cb(2),g.mc("ngForOf",t.storageDevices),g.Cb(2),g.Lc(g.ic(13,42,"validations.required")),g.Cb(4),g.Lc(g.ic(17,44,"rdm.sPool")),g.Cb(5),g.mc("ngModel",t.configModel.pool_raw_id),g.Cb(2),g.mc("ngForOf",t.storagePools),g.Cb(2),g.Lc(g.ic(26,46,"validations.required")),g.Cb(4),g.Lc(g.ic(30,48,"rdm.ownerC")),g.Cb(5),g.mc("ngModel",t.configModel.owner_controller),g.Cb(2),g.Lc(g.ic(37,50,"rdm.autoSelect")),g.Cb(7),g.Lc(g.ic(44,52,"validations.required")),g.Cb(4),g.Lc(g.ic(48,54,"rdm.idp")),g.Cb(5),g.mc("ngModel",t.configModel.initial_distribute_policy),g.Cb(2),g.Lc(g.ic(55,56,"rdm.autoSelect")),g.Cb(3),g.Lc(g.ic(58,58,"rdm.hperformanceLevel")),g.Cb(3),g.Lc(g.ic(61,60,"rdm.performanceLevel")),g.Cb(3),g.Lc(g.ic(64,62,"rdm.capacityLevel")),g.Cb(3),g.Lc(g.ic(67,64,"validations.required")),g.Cb(4),g.Lc(g.ic(71,66,"rdm.fetchP")),g.Cb(5),g.mc("ngModel",t.configModel.prefetch_policy),g.Cb(2),g.Lc(g.ic(78,68,"rdm.notFetch")),g.Cb(3),g.Lc(g.ic(81,70,"rdm.fixedFetch")),g.Cb(3),g.Lc(g.ic(84,72,"rdm.variableFetch")),g.Cb(3),g.Lc(g.ic(87,74,"rdm.smartFetch")),g.Cb(3),g.Lc(g.ic(90,76,"validations.required")),g.Cb(4),g.Lc(g.ic(94,78,"rdm.tuning")),g.Cb(5),g.Lc(g.ic(99,80,"rdm.smartTier")),g.Cb(2),g.mc("ngModel",t.policyEnable.smartTier),g.Cb(1),g.mc("ngIf",t.policyEnable.smartTier),g.Cb(4),g.Lc(g.ic(106,82,"rdm.qosP")),g.Cb(2),g.mc("ngModel",t.policyEnable.qosPolicy),g.Cb(1),g.mc("ngIf",t.policyEnable.qosPolicy),g.Cb(1),g.mc("ngIf",t.policyEnable.qosPolicy),g.Cb(4),g.Lc(g.ic(114,84,"rdm.rtuning")),g.Cb(2),g.mc("ngModel",t.policyEnable.resourceTuning),g.Cb(1),g.mc("ngIf",t.policyEnable.resourceTuning),g.Cb(1),g.mc("ngIf","thin"==t.configModel.tuning.alloctype&&t.policyEnable.resourceTuning),g.Cb(1),g.mc("ngIf","thin"==t.configModel.tuning.alloctype&&t.policyEnable.resourceTuning)}}var E,N,B,$=((E=function(){function c(e,t,o,i){n(this,c),this.cdr=e,this.http=t,this.commonService=o,this.gs=i,this.policyEnable={smartTier:!1,qosPolicy:!1,resourceTuning:!1},this.popShow=!0,this.configModel=new V,this.mapping=new G,this.storageDevices=[],this.storagePools=[],this.hostList=[],this.hostSelected="",this.dataStoreName="",this.levelCheck="level",this.dataStores=[],this.searchName="",this.serviceLevelsRes=[],this.serviceLevels=[],this.service_level_id="",this.vmObjectId=""}var o,i,r;return o=c,(i=[{key:"ngOnInit",value:function(){this.loadStorageDevice(),this.loadHosts(),this.tierFresh();var e=this.gs.getClientSdk().app.getContextObjects();console.log(e),this.vmObjectId=null!=e?e[0].id:"urn:vmomi:VirtualMachine:vm-1046:674908e5-ab21-4079-9cb1-596358ee5dd1"}},{key:"tierFresh",value:function(){var c=this;this.http.post("servicelevel/listservicelevel",{}).subscribe((function(n){n.data=JSON.stringify(n.data),n.data=n.data.replace("service-levels","serviceLevels");var t,o=c.recursiveNullDelete(JSON.parse(n.data)),i=e(o.serviceLevels);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.usedRate=0==r.total_capacity?0:(r.used_capacity/r.total_capacity*100).toFixed(2),r.used_capacity=(r.used_capacity/1024).toFixed(2),r.total_capacity=(r.total_capacity/1024).toFixed(2),r.free_capacity=(r.free_capacity/1024).toFixed(2)}}catch(l){i.e(l)}finally{i.f()}c.serviceLevelsRes=o.serviceLevels,c.search(),console.log(c.serviceLevelsRes)}),(function(e){console.error("ERROR",e)}))}},{key:"serviceLevelClick",value:function(e,c){this.service_level_id=e}},{key:"search",value:function(){var e=this;this.serviceLevels=""!==this.searchName?this.serviceLevelsRes.filter((function(c){return c.name.indexOf(e.searchName)>-1})):this.serviceLevelsRes}},{key:"submit",value:function(){if(this.rdmForm.form.invalid)this.rdmFormGroup.markAsTouched();else{var e=JSON.parse(JSON.stringify(this.configModel));console.log(e);var c={};"2"==this.configModel.storageType&&(this.policyEnable.smartTier||(e.tuning.smarttier=null),this.policyEnable.qosPolicy||(e.tuning.smartqos=null),this.policyEnable.resourceTuning||(e.tuning.alloctype=null,e.tuning.dedupe_enabled=null,e.tuning.compression_enabled=null),this.policyEnable.smartTier||this.policyEnable.qosPolicy||this.policyEnable.resourceTuning||(e.tuning=null),c={customizeVolumesRequest:{customize_volumes:e,mapping:{host_id:this.hostSelected}}}),"1"==this.configModel.storageType&&(c={createVolumesRequest:{service_level_id:this.service_level_id,volumes:this.configModel.volume_specs,mapping:{host_id:this.hostSelected}}}),this.http.post("v1/vmrdm/createRdm?hostId="+this.hostSelected+"&vmObjectId="+this.vmObjectId+"&dataStoreName="+this.dataStoreName,c).subscribe((function(e){}),(function(e){console.error("ERROR",e)}))}}},{key:"basAdd",value:function(){this.configModel.volume_specs.push(new D)}},{key:"basRemove",value:function(e){this.configModel.volume_specs=this.configModel.volume_specs.filter((function(c){return c!=e}))}},{key:"recursiveNullDelete",value:function(e){for(var c in e)null===e[c]?delete e[c]:e[c]instanceof Object?this.recursiveNullDelete(e[c]):("minBandWidth"==c&&0==e[c]||"maxBandWidth"==c&&0==e[c]||"minIOPS"==c&&0==e[c]||"maxIOPS"==c&&0==e[c]||"latency"==c&&0==e[c])&&delete e[c];return e}},{key:"loadStorageDevice",value:function(){var e=this;this.http.get("dmestorage/storages",{}).subscribe((function(c){"0"!==c.code&&"200"!==c.code||(e.storageDevices=c.data.data,e.cdr.detectChanges())}),(function(e){console.error("ERROR",e)}))}},{key:"loadStoragePool",value:function(e){var c=this;this.http.get("dmestorage/storagepools",{params:{storageId:e,media_type:"all"}}).subscribe((function(e){"0"!==e.code&&"200"!==e.code||(c.storagePools=e.data.data,c.cdr.detectChanges())}),(function(e){console.error("ERROR",e)}))}},{key:"loadHosts",value:function(){var e=this;this.http.get("v1/vmrdm/dmeHosts").subscribe((function(c){"0"!==c.code&&"200"!==c.code||(e.hostList=c.data,e.cdr.detectChanges())}),(function(e){console.error("ERROR",e)}))}},{key:"loadDataStore",value:function(e){var c=this;this.http.get("v1/vmrdm/vCenter/datastoreOnHost",{params:{hostId:e}}).subscribe((function(e){c.dataStores="0"===e.code||"200"===e.code?e.data:[],c.cdr.detectChanges()}),(function(e){console.error("ERROR",e)}))}}])&&t(o.prototype,i),r&&t(o,r),c}()).\u0275fac=function(e){return new(e||E)(g.Ob(g.h),g.Ob(u.b),g.Ob(b.a),g.Ob(s.b))},E.\u0275cmp=g.Ib({type:E,selectors:[["app-rdm"]],viewQuery:function(e,c){var n;1&e&&(g.Ec(d.A,!0),g.Ec(m,!0)),2&e&&(g.vc(n=g.dc())&&(c.rdmFormGroup=n.first),g.vc(n=g.dc())&&(c.rdmForm=n.first))},features:[g.Bb([b.a,s.b])],decls:73,vars:48,consts:[[2,"margin-left","30px","margin-right","30px"],[1,"clr-row"],[2,"width","700px"],[2,"color","red"],[3,"clrDgItem",4,"ngFor","ngForOf"],[2,"margin-top","20px","margin-left","20px","color","#00F","cursor","pointer",3,"click"],["clrForm","","clrLayout","horizontal"],["rdmForm","ngForm"],["clrSelect","","required","","name","hostSelected",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["clrSelect","","required","","name","dataStoreName",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrInline",""],["type","radio","clrRadio","","name","storageType","value","1",3,"ngModel","click","ngModelChange"],["type","radio","clrRadio","","name","storageType","value","2",3,"ngModel","click","ngModelChange"],[3,"hidden",4,"ngIf"],[1,"clr-col-4"],["type","button",1,"btn","btn-primary",3,"click"],[3,"clrDgItem"],[2,"width","200px"],["type","text","required","","name","name",2,"height","30px",3,"ngModel","ngModelChange"],["name","ngModel"],["type","number","name","capacity",2,"height","30px","width","100px",3,"ngModel","ngModelChange"],["number","ngModel"],["name","unit",2,"height","30px",3,"ngModel","ngModelChange"],["value","GB"],["value","TB"],["type","number","name","count",2,"height","30px",3,"ngModel","ngModelChange"],[2,"width","100px",3,"hidden"],[2,"color","#00F","cursor","pointer",3,"click"],[3,"value"],[3,"hidden"],["style","margin-top: 20px;",3,"click",4,"ngFor","ngForOf"],[2,"margin-top","20px",3,"click"],[2,"height","50px","line-height","50px","color","#333","font-size","16px"],[1,"table","table-vertical","table-noborder","table-compact"],["hidden",""],["clrSuccess","","clrLabeled","",3,"clrValue"],[4,"ngIf"],["src","./assets/images/selectDown.svg","width","40px","height","40px",2,"position","absolute","right","0px","bottom","0px"],["clrSelect","","name","storage_id","required","",3,"ngModel","ngModelChange"],["value",""],["clrSelect","","name","pool_raw_id","required","",3,"ngModel","ngModelChange"],["clrSelect","","name","owner_controller","required","",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["clrSelect","","name","initial_distribute_policy","required","",3,"ngModel","ngModelChange"],["value","3"],["clrSelect","","name","prefetch_policy","required","",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","options",3,"ngModel","ngModelChange"],["clrInline","",4,"ngIf"],["clrSelect","","name","smarttier",3,"ngModel","ngModelChange"],[1,"floatleft"],["type","radio","clrRadio","","name","control_policy","required","","value","1",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policy","required","","value","0",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox",""],["name","Brandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["name","IOPS",1,"inputOneLine",3,"ngModel","ngModelChange"],["name","Latency",1,"inputOneLine",3,"ngModel","ngModelChange"],["clrSelect","","name","alloctype",3,"ngModel","ngModelChange"],["value","thin"],["value","thick"],["clrSelect","","name","dedupe",3,"ngModel","ngModelChange"],["value","null"],["value","true"],["value","false"],["clrSelect","","name","compression",3,"ngModel","ngModelChange"]],template:function(e,c){1&e&&(g.Ub(0,"div"),g.Ub(1,"div",0),g.Ub(2,"div",1),g.Ub(3,"clr-datagrid",2),g.Ub(4,"clr-dg-column"),g.Kc(5),g.hc(6,"translate"),g.Ub(7,"span",3),g.Kc(8,"*"),g.Tb(),g.Tb(),g.Ub(9,"clr-dg-column"),g.Kc(10),g.hc(11,"translate"),g.Ub(12,"span",3),g.Kc(13,"*"),g.Tb(),g.Tb(),g.Ub(14,"clr-dg-column"),g.Kc(15),g.hc(16,"translate"),g.Ub(17,"span",3),g.Kc(18,"*"),g.Tb(),g.Tb(),g.Ub(19,"clr-dg-column"),g.Kc(20),g.hc(21,"translate"),g.Tb(),g.Ic(22,f,20,10,"clr-dg-row",4),g.Tb(),g.Tb(),g.Ub(23,"div",1),g.Ub(24,"span",5),g.cc("click",(function(){return c.basAdd()})),g.Kc(25),g.hc(26,"translate"),g.Tb(),g.Tb(),g.Ub(27,"div",1),g.Ub(28,"form",6,7),g.Ub(30,"clr-select-container"),g.Ub(31,"label"),g.Kc(32),g.hc(33,"translate"),g.Ub(34,"span",3),g.Kc(35,"*"),g.Tb(),g.Tb(),g.Ub(36,"select",8),g.cc("ngModelOptions",(function(){return c.hostList}))("ngModelChange",(function(e){return c.hostSelected=e}))("change",(function(){return c.loadDataStore(c.hostSelected)})),g.Ic(37,v,2,3,"option",9),g.Tb(),g.Ub(38,"clr-control-error"),g.Kc(39),g.hc(40,"translate"),g.Tb(),g.Tb(),g.Ub(41,"clr-select-container"),g.Ub(42,"label"),g.Kc(43),g.hc(44,"translate"),g.Ub(45,"span",3),g.Kc(46,"*"),g.Tb(),g.Tb(),g.Ub(47,"select",10),g.cc("ngModelOptions",(function(){return c.dataStores}))("ngModelChange",(function(e){return c.dataStoreName=e})),g.Ic(48,T,2,2,"option",9),g.Tb(),g.Ub(49,"clr-control-error"),g.Kc(50),g.hc(51,"translate"),g.Tb(),g.Tb(),g.Ub(52,"clr-radio-container",11),g.Ub(53,"label"),g.Kc(54),g.hc(55,"translate"),g.Tb(),g.Ub(56,"clr-radio-wrapper"),g.Ub(57,"input",12),g.cc("click",(function(){return c.levelCheck="level"}))("ngModelChange",(function(e){return c.configModel.storageType=e})),g.Tb(),g.Ub(58,"label"),g.Kc(59),g.hc(60,"translate"),g.Tb(),g.Tb(),g.Ub(61,"clr-radio-wrapper"),g.Ub(62,"input",13),g.cc("click",(function(){return c.levelCheck="storage"}))("ngModelChange",(function(e){return c.configModel.storageType=e})),g.Tb(),g.Ub(63,"label"),g.Kc(64),g.hc(65,"translate"),g.Tb(),g.Tb(),g.Tb(),g.Ic(66,_,3,2,"div",14),g.Ic(67,F,119,86,"div",14),g.Tb(),g.Tb(),g.Ub(68,"div",1),g.Pb(69,"div",15),g.Ub(70,"button",16),g.cc("click",(function(){return c.submit()})),g.Kc(71),g.hc(72,"translate"),g.Tb(),g.Tb(),g.Tb(),g.Tb()),2&e&&(g.Cb(5),g.Lc(g.ic(6,22,"rdm.name")),g.Cb(5),g.Lc(g.ic(11,24,"rdm.capacity")),g.Cb(5),g.Lc(g.ic(16,26,"rdm.count")),g.Cb(5),g.Lc(g.ic(21,28,"rdm.operation")),g.Cb(2),g.mc("ngForOf",c.configModel.volume_specs),g.Cb(3),g.Lc(g.ic(26,30,"rdm.add")),g.Cb(7),g.Lc(g.ic(33,32,"rdm.host")),g.Cb(4),g.mc("ngModel",c.hostSelected),g.Cb(1),g.mc("ngForOf",c.hostList),g.Cb(2),g.Lc(g.ic(40,34,"validations.required")),g.Cb(4),g.Lc(g.ic(44,36,"rdm.dataStore")),g.Cb(4),g.mc("ngModel",c.dataStoreName),g.Cb(1),g.mc("ngForOf",c.dataStores),g.Cb(2),g.Lc(g.ic(51,38,"validations.required")),g.Cb(4),g.Lc(g.ic(55,40,"rdm.storageType")),g.Cb(3),g.mc("ngModel",c.configModel.storageType),g.Cb(2),g.Lc(g.ic(60,42,"rdm.tier")),g.Cb(3),g.mc("ngModel",c.configModel.storageType),g.Cb(2),g.Lc(g.ic(65,44,"rdm.storage1")),g.Cb(2),g.mc("ngIf","level"===c.levelCheck),g.Cb(1),g.mc("ngIf","storage"===c.levelCheck),g.Cb(4),g.Lc(g.ic(72,46,"menu.submit")))},directives:[d.m,d.qb,d.sb,d.lb,d.tb,d.o,d.pb,r.m,p.E,p.r,p.s,d.A,d.I,d.W,d.H,p.A,d.V,p.z,p.q,p.t,d.k,d.T,d.U,p.x,p.e,d.S,r.n,d.v,d.rb,d.n,d.nb,p.w,p.v,p.D,d.b,d.kb,d.d,d.jb,d.e,d.c,d.R,d.G,d.g,d.h,p.b,d.f],pipes:[h.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.clr-form-horizontal[_ngcontent-%COMP%]   .clr-form-control[_ngcontent-%COMP%] > .clr-control-label[_ngcontent-%COMP%]{width:700px}  .clr-select-wrapper,   .clr-select-wrapper select{width:190px}.clr-accordion-panel[_ngcontent-%COMP%]{display:block;width:700px}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:30px 5px}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}"]}),E),V=function e(){n(this,e),this.storageType="1",this.volume_specs=[new D],this.tuning=new j,this.initial_distribute_policy="0",this.owner_controller="0",this.prefetch_policy="3"},D=function e(){n(this,e),this.unit="GB"},j=function e(){n(this,e),this.smartqos=new A,this.alloctype="thick",this.smarttier="0",this.compression_enabled=null,this.dedupe_enabled=null},A=function e(){n(this,e),this.control_policy="1"},G=function e(){n(this,e)},W=[{path:"",component:$}],J=((B=function e(){n(this,e)}).\u0275mod=g.Mb({type:B}),B.\u0275inj=g.Lb({factory:function(e){return new(e||B)},imports:[[a.i.forChild(W)],a.i]}),B),H=((N=function e(){n(this,e)}).\u0275mod=g.Mb({type:N}),N.\u0275inj=g.Lb({factory:function(e){return new(e||N)},imports:[[r.c,l.a,p.m,J]]}),N)}}])}();