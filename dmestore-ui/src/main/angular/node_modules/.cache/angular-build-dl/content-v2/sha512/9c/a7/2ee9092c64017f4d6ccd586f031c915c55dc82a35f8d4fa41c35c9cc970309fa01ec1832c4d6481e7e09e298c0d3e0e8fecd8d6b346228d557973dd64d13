(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{p5bE:function(c,e,n){"use strict";n.r(e),n.d(e,"RdmModule",(function(){return D}));var t=n("ofXK"),o=n("M0ag"),i=n("tyNb"),l=n("6rlL"),r=n("/Kh9"),a=n("8MG2"),b=n("fXoL"),s=n("tk/3"),d=n("3Pt+"),g=n("sYmb");const p=["rdmForm"];function h(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-dg-row",17),b.Ub(1,"clr-dg-cell",18),b.Ub(2,"input",19,20),b.cc("ngModelChange",(function(n){return b.zc(c),e.$implicit.name=n})),b.Tb(),b.Tb(),b.Ub(4,"clr-dg-cell",18),b.Ub(5,"input",21,22),b.cc("ngModelChange",(function(n){return b.zc(c),e.$implicit.capacity=n})),b.Tb(),b.Ub(7,"select",23),b.cc("ngModelChange",(function(n){return b.zc(c),e.$implicit.unit=n})),b.Ub(8,"option",24),b.Kc(9,"GB"),b.Tb(),b.Ub(10,"option",25),b.Kc(11,"TB"),b.Tb(),b.Tb(),b.Tb(),b.Ub(12,"clr-dg-cell",18),b.Ub(13,"input",26,22),b.cc("ngModelChange",(function(n){return b.zc(c),e.$implicit.count=n})),b.Tb(),b.Tb(),b.Ub(15,"clr-dg-cell",27),b.Ub(16,"span",28),b.cc("click",(function(){b.zc(c);const n=e.$implicit;return b.gc().basRemove(n)})),b.Kc(17),b.hc(18,"translate"),b.Tb(),b.Tb(),b.Pb(19,"clr-dg-cell",27),b.Tb()}if(2&c){const c=e.$implicit,n=b.gc();b.mc("clrDgItem",c),b.Cb(2),b.mc("ngModel",c.name),b.Cb(3),b.mc("ngModel",c.capacity),b.Cb(2),b.mc("ngModel",c.unit),b.Cb(6),b.mc("ngModel",c.count),b.Cb(2),b.mc("hidden",1===n.configModel.volume_specs.length),b.Cb(2),b.Lc(b.ic(18,8,"rdm.remove")),b.Cb(2),b.mc("hidden",1!==n.configModel.volume_specs.length)}}function m(c,e){if(1&c&&(b.Ub(0,"option",29),b.Kc(1),b.Tb()),2&c){const c=e.$implicit;b.nc("value",c.id),b.Cb(1),b.Nc("",c.ip,"(",c.name,")")}}function u(c,e){if(1&c&&(b.Ub(0,"option",29),b.Kc(1),b.Tb()),2&c){const c=e.$implicit;b.nc("value",c.name),b.Cb(1),b.Lc(c.name)}}function f(c,e){if(1&c&&(b.Ub(0,"th"),b.Kc(1),b.Tb()),2&c){const c=b.gc().$implicit;b.Cb(1),b.Mc(" IOPS <= ",c.capabilities.qos.qosParam.maxIOPS," IOPS/TB ")}}function T(c,e){if(1&c&&(b.Ub(0,"th"),b.Kc(1),b.Tb()),2&c){const c=b.gc().$implicit;b.Cb(1),b.Mc(" IOPS >= ",c.capabilities.qos.qosParam.minIOPS," IOPS/TB ")}}function C(c,e){if(1&c&&(b.Ub(0,"th"),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&c){const c=b.gc().$implicit;b.Cb(1),b.Nc(" ",b.ic(2,2,"tier.bandwidth")," >= ",c.capabilities.qos.qosParam.minBandWidth," Mbps/s ")}}function M(c,e){if(1&c&&(b.Ub(0,"th"),b.Kc(1),b.hc(2,"translate"),b.Tb()),2&c){const c=b.gc().$implicit;b.Cb(1),b.Nc(" ",b.ic(2,2,"tier.bandwidth")," <= ",c.capabilities.qos.qosParam.maxBandWidth," Mbps/s ")}}function U(c,e){if(1&c&&(b.Ub(0,"th"),b.Kc(1),b.Tb()),2&c){const c=b.gc().$implicit;b.Cb(1),b.Nc(" Latency= ",c.capabilities.qos.qosParam.latency," ",c.capabilities.qos.qosParam.latencyUnit," ")}}function v(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-accordion-panel",32),b.cc("click",(function(){b.zc(c);const n=e.$implicit;return b.gc(2).serviceLevelClick(n.id,n.name)})),b.Ub(1,"clr-accordion-title",33),b.Kc(2),b.Tb(),b.Ub(3,"clr-accordion-content"),b.Ub(4,"table",34),b.Ub(5,"tbody"),b.Ub(6,"tr"),b.Pb(7,"th",35),b.Ub(8,"th"),b.Kc(9),b.Tb(),b.Tb(),b.Ub(10,"tr"),b.Pb(11,"th",35),b.Ub(12,"td"),b.Kc(13),b.hc(14,"translate"),b.Tb(),b.Ub(15,"td"),b.Kc(16),b.hc(17,"translate"),b.Tb(),b.Tb(),b.Ub(18,"tr"),b.Pb(19,"th",35),b.Ub(20,"th"),b.Pb(21,"clr-progress-bar",36),b.Tb(),b.Ic(22,f,2,1,"th",37),b.Ic(23,T,2,1,"th",37),b.Tb(),b.Ub(24,"tr"),b.Pb(25,"th",35),b.Pb(26,"th"),b.Ic(27,C,3,4,"th",37),b.Ic(28,M,3,4,"th",37),b.Tb(),b.Ub(29,"tr"),b.Pb(30,"th",35),b.Ub(31,"th"),b.Kc(32),b.Tb(),b.Ic(33,U,2,2,"th",37),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Pb(34,"img",38),b.Tb()}if(2&c){const c=e.$implicit;b.Cb(2),b.Lc(c.name),b.Cb(7),b.Mc(" ",c.name," "),b.Cb(4),b.Lc(b.ic(14,12,"vmfs.capacityUsage")),b.Cb(3),b.Lc(b.ic(17,14,"vmfs.qos")),b.Cb(5),b.nc("clrValue",c.usedRate),b.Cb(1),b.mc("ngIf",null!=c.capabilities.qos&&null!=c.capabilities.qos.qosParam.maxIOPS),b.Cb(1),b.mc("ngIf",null!=c.capabilities.qos&&null!=c.capabilities.qos.qosParam.minIOPS),b.Cb(4),b.mc("ngIf",null!=c.capabilities.qos&&1==c.capabilities.qos.enabled&&null!=c.capabilities.qos.qosParam.minBandWidth),b.Cb(1),b.mc("ngIf",null!=c.capabilities.qos&&1==c.capabilities.qos.enabled&&null!=c.capabilities.qos.qosParam.maxBandWidth),b.Cb(4),b.Nc("",c.used_capacity," GB/",c.total_capacity,"GB"),b.Cb(1),b.mc("ngIf",null!=c.capabilities.qos&&1==c.capabilities.qos.enabled&&null!=c.capabilities.qos.qosParam.latency)}}function y(c,e){if(1&c&&(b.Ub(0,"div",30),b.Ub(1,"clr-accordion"),b.Ic(2,v,35,16,"clr-accordion-panel",31),b.Tb(),b.Tb()),2&c){const c=b.gc();b.mc("hidden","level"!==c.levelCheck),b.Cb(2),b.mc("ngForOf",c.serviceLevels)}}function K(c,e){if(1&c&&(b.Ub(0,"option",29),b.Kc(1),b.Tb()),2&c){const c=e.$implicit;b.nc("value",c.id),b.Cb(1),b.Lc(c.name)}}function L(c,e){if(1&c&&(b.Ub(0,"option",29),b.Kc(1),b.Tb()),2&c){const c=e.$implicit;b.nc("value",c.id),b.Cb(1),b.Lc(c.name)}}function _(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-select-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Kc(6,": "),b.Ub(7,"select",51),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(2).configModel.tuning.smarttier=e})),b.Ub(8,"option",43),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"option",44),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"option",45),b.Kc(15),b.hc(16,"translate"),b.Tb(),b.Ub(17,"option",47),b.Kc(18),b.hc(19,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(2);b.Cb(2),b.Lc(b.ic(3,6,"rdm.smartTierP")),b.Cb(5),b.mc("ngModel",c.configModel.tuning.smarttier),b.Cb(2),b.Lc(b.ic(10,8,"rdm.notMove")),b.Cb(3),b.Lc(b.ic(13,10,"rdm.autoMove")),b.Cb(3),b.Lc(b.ic(16,12,"rdm.highPMove")),b.Cb(3),b.Lc(b.ic(19,14,"rdm.lowPMove"))}}function q(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-radio-container",11),b.Ub(1,"label",52),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Ub(6,"clr-radio-wrapper"),b.Ub(7,"input",53),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(2).configModel.tuning.smartqos.control_policy=e})),b.Tb(),b.Ub(8,"label"),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Tb(),b.Ub(11,"clr-radio-wrapper"),b.Ub(12,"input",54),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(2).configModel.tuning.smartqos.control_policy=e})),b.Tb(),b.Ub(13,"label"),b.Kc(14),b.hc(15,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(2);b.Cb(2),b.Lc(b.ic(3,5,"rdm.controlP")),b.Cb(5),b.mc("ngModel",c.configModel.tuning.smartqos.control_policy),b.Cb(2),b.Lc(b.ic(10,7,"rdm.uLimit")),b.Cb(3),b.mc("ngModel",c.configModel.tuning.smartqos.control_policy),b.Cb(2),b.Lc(b.ic(15,9,"rdm.lLimit"))}}function P(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-checkbox-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Ub(6,"clr-checkbox-wrapper"),b.Pb(7,"input",55),b.Ub(8,"label"),b.Kc(9),b.hc(10,"translate"),b.Ub(11,"input",56),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(3).configModel.tuning.smartqos.maxbandwidth=e})),b.Tb(),b.Kc(12," MB/s "),b.Tb(),b.Tb(),b.Ub(13,"clr-checkbox-wrapper"),b.Pb(14,"input",55),b.Ub(15,"label"),b.Kc(16,"IOPS <= "),b.Ub(17,"input",57),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(3).configModel.tuning.smartqos.maxiops=e})),b.Tb(),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(3);b.Cb(2),b.Lc(b.ic(3,4,"rdm.trafficC")),b.Cb(7),b.Mc("",b.ic(10,6,"rdm.bandwidth")," <= "),b.Cb(2),b.mc("ngModel",c.configModel.tuning.smartqos.maxbandwidth),b.Cb(6),b.mc("ngModel",c.configModel.tuning.smartqos.maxiops)}}function I(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-checkbox-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Ub(6,"clr-checkbox-wrapper"),b.Pb(7,"input",55),b.Ub(8,"label"),b.Kc(9),b.hc(10,"translate"),b.Ub(11,"input",56),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(3).configModel.tuning.smartqos.minbandwidth=e})),b.Tb(),b.Kc(12," MB/s "),b.Tb(),b.Tb(),b.Ub(13,"clr-checkbox-wrapper"),b.Pb(14,"input",55),b.Ub(15,"label"),b.Kc(16,"IOPS >= "),b.Ub(17,"input",57),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(3).configModel.tuning.smartqos.miniops=e})),b.Tb(),b.Tb(),b.Tb(),b.Ub(18,"clr-checkbox-wrapper"),b.Pb(19,"input",55),b.Ub(20,"label"),b.Kc(21),b.hc(22,"translate"),b.Ub(23,"input",58),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(3).configModel.tuning.smartqos.latency=e})),b.Tb(),b.Kc(24," ms "),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(3);b.Cb(2),b.Lc(b.ic(3,6,"rdm.trafficC")),b.Cb(7),b.Mc("",b.ic(10,8,"rdm.bandwidth")," >= "),b.Cb(2),b.mc("ngModel",c.configModel.tuning.smartqos.minbandwidth),b.Cb(6),b.mc("ngModel",c.configModel.tuning.smartqos.miniops),b.Cb(4),b.Mc("",b.ic(22,10,"rdm.latency")," <= "),b.Cb(2),b.mc("ngModel",c.configModel.tuning.smartqos.latency)}}function w(c,e){if(1&c&&(b.Ub(0,"div"),b.Ic(1,P,18,8,"clr-checkbox-container",37),b.Ic(2,I,25,12,"clr-checkbox-container",37),b.Tb()),2&c){const c=b.gc(2);b.Cb(1),b.mc("ngIf","1"===c.configModel.tuning.smartqos.control_policy),b.Cb(1),b.mc("ngIf","0"===c.configModel.tuning.smartqos.control_policy)}}function x(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-select-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Kc(6,": "),b.Ub(7,"select",59),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(2).configModel.tuning.alloctype=e})),b.Ub(8,"option",60),b.Kc(9,"thin"),b.Tb(),b.Ub(10,"option",61),b.Kc(11,"thick"),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(2);b.Cb(2),b.Lc(b.ic(3,2,"rdm.alloctype")),b.Cb(5),b.mc("ngModel",c.configModel.tuning.alloctype)}}function O(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-select-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Kc(6,": "),b.Ub(7,"select",62),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(2).configModel.tuning.dedupe_enabled=e})),b.Ub(8,"option",63),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"option",64),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"option",65),b.Kc(15),b.hc(16,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(2);b.Cb(2),b.Lc(b.ic(3,5,"rdm.dedupe")),b.Cb(5),b.mc("ngModel",c.configModel.tuning.dedupe_enabled),b.Cb(2),b.Lc(b.ic(10,7,"rdm.default")),b.Cb(3),b.Lc(b.ic(13,9,"rdm.enable")),b.Cb(3),b.Lc(b.ic(16,11,"rdm.disable"))}}function S(c,e){if(1&c){const c=b.Vb();b.Ub(0,"clr-select-container"),b.Ub(1,"label"),b.Kc(2),b.hc(3,"translate"),b.Ub(4,"span",3),b.Kc(5,"*"),b.Tb(),b.Tb(),b.Kc(6,": "),b.Ub(7,"select",66),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc(2).configModel.tuning.compression_enabled=e})),b.Ub(8,"option",63),b.Kc(9),b.hc(10,"translate"),b.Tb(),b.Ub(11,"option",64),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Ub(14,"option",65),b.Kc(15),b.hc(16,"translate"),b.Tb(),b.Tb(),b.Tb()}if(2&c){const c=b.gc(2);b.Cb(2),b.Lc(b.ic(3,5,"rdm.compression")),b.Cb(5),b.mc("ngModel",c.configModel.tuning.compression_enabled),b.Cb(2),b.Lc(b.ic(10,7,"rdm.default")),b.Cb(3),b.Lc(b.ic(13,9,"rdm.enable")),b.Cb(3),b.Lc(b.ic(16,11,"rdm.disable"))}}function k(c,e){if(1&c){const c=b.Vb();b.Ub(0,"div",30),b.Ub(1,"clr-select-container"),b.Ub(2,"label"),b.Kc(3),b.hc(4,"translate"),b.Ub(5,"span",3),b.Kc(6,"*"),b.Tb(),b.Tb(),b.Kc(7,": "),b.Ub(8,"select",39),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().configModel.storage_id=e}))("ngModelChange",(function(){b.zc(c);const e=b.gc();return e.loadStoragePool(e.configModel.storage_id)})),b.Pb(9,"option",40),b.Ic(10,K,2,2,"option",9),b.Tb(),b.Ub(11,"clr-control-error"),b.Kc(12),b.hc(13,"translate"),b.Tb(),b.Tb(),b.Ub(14,"clr-select-container"),b.Ub(15,"label"),b.Kc(16),b.hc(17,"translate"),b.Ub(18,"span",3),b.Kc(19,"*"),b.Tb(),b.Tb(),b.Kc(20,": "),b.Ub(21,"select",41),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().configModel.pool_raw_id=e})),b.Pb(22,"option",40),b.Ic(23,L,2,2,"option",9),b.Tb(),b.Ub(24,"clr-control-error"),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Tb(),b.Ub(27,"clr-select-container"),b.Ub(28,"label"),b.Kc(29),b.hc(30,"translate"),b.Ub(31,"span",3),b.Kc(32,"*"),b.Tb(),b.Tb(),b.Kc(33,": "),b.Ub(34,"select",42),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().configModel.owner_controller=e})),b.Ub(35,"option",43),b.Kc(36),b.hc(37,"translate"),b.Tb(),b.Ub(38,"option",44),b.Kc(39,"0A"),b.Tb(),b.Ub(40,"option",45),b.Kc(41,"0B"),b.Tb(),b.Tb(),b.Ub(42,"clr-control-error"),b.Kc(43),b.hc(44,"translate"),b.Tb(),b.Tb(),b.Ub(45,"clr-select-container"),b.Ub(46,"label"),b.Kc(47),b.hc(48,"translate"),b.Ub(49,"span",3),b.Kc(50,"*"),b.Tb(),b.Tb(),b.Kc(51,": "),b.Ub(52,"select",46),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().configModel.initial_distribute_policy=e})),b.Ub(53,"option",43),b.Kc(54),b.hc(55,"translate"),b.Tb(),b.Ub(56,"option",44),b.Kc(57),b.hc(58,"translate"),b.Tb(),b.Ub(59,"option",45),b.Kc(60),b.hc(61,"translate"),b.Tb(),b.Ub(62,"option",47),b.Kc(63),b.hc(64,"translate"),b.Tb(),b.Tb(),b.Ub(65,"clr-control-error"),b.Kc(66),b.hc(67,"translate"),b.Tb(),b.Tb(),b.Ub(68,"clr-select-container"),b.Ub(69,"label"),b.Kc(70),b.hc(71,"translate"),b.Ub(72,"span",3),b.Kc(73,"*"),b.Tb(),b.Tb(),b.Kc(74,": "),b.Ub(75,"select",48),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().configModel.prefetch_policy=e})),b.Ub(76,"option",43),b.Kc(77),b.hc(78,"translate"),b.Tb(),b.Ub(79,"option",44),b.Kc(80),b.hc(81,"translate"),b.Tb(),b.Ub(82,"option",45),b.Kc(83),b.hc(84,"translate"),b.Tb(),b.Ub(85,"option",47),b.Kc(86),b.hc(87,"translate"),b.Tb(),b.Tb(),b.Ub(88,"clr-control-error"),b.Kc(89),b.hc(90,"translate"),b.Tb(),b.Tb(),b.Ub(91,"clr-input-container"),b.Ub(92,"label"),b.Kc(93),b.hc(94,"translate"),b.Tb(),b.Tb(),b.Ub(95,"clr-toggle-container"),b.Ub(96,"clr-toggle-wrapper"),b.Ub(97,"label"),b.Kc(98),b.hc(99,"translate"),b.Tb(),b.Ub(100,"input",49),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().policyEnable.smartTier=e})),b.Tb(),b.Tb(),b.Tb(),b.Ic(101,_,20,16,"clr-select-container",37),b.Ub(102,"clr-toggle-container"),b.Ub(103,"clr-toggle-wrapper"),b.Ub(104,"label"),b.Kc(105),b.hc(106,"translate"),b.Tb(),b.Ub(107,"input",49),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().policyEnable.qosPolicy=e})),b.Tb(),b.Tb(),b.Tb(),b.Ic(108,q,16,11,"clr-radio-container",50),b.Ic(109,w,3,2,"div",37),b.Ub(110,"clr-toggle-container"),b.Ub(111,"clr-toggle-wrapper"),b.Ub(112,"label"),b.Kc(113),b.hc(114,"translate"),b.Tb(),b.Ub(115,"input",49),b.cc("ngModelChange",(function(e){return b.zc(c),b.gc().policyEnable.resourceTuning=e})),b.Tb(),b.Tb(),b.Tb(),b.Ic(116,x,12,4,"clr-select-container",37),b.Ic(117,O,17,13,"clr-select-container",37),b.Ic(118,S,17,13,"clr-select-container",37),b.Tb()}if(2&c){const c=b.gc();b.mc("hidden","storage"!==c.levelCheck),b.Cb(3),b.Lc(b.ic(4,40,"rdm.storage")),b.Cb(5),b.mc("ngModel",c.configModel.storage_id),b.Cb(2),b.mc("ngForOf",c.storageDevices),b.Cb(2),b.Lc(b.ic(13,42,"validations.required")),b.Cb(4),b.Lc(b.ic(17,44,"rdm.sPool")),b.Cb(5),b.mc("ngModel",c.configModel.pool_raw_id),b.Cb(2),b.mc("ngForOf",c.storagePools),b.Cb(2),b.Lc(b.ic(26,46,"validations.required")),b.Cb(4),b.Lc(b.ic(30,48,"rdm.ownerC")),b.Cb(5),b.mc("ngModel",c.configModel.owner_controller),b.Cb(2),b.Lc(b.ic(37,50,"rdm.autoSelect")),b.Cb(7),b.Lc(b.ic(44,52,"validations.required")),b.Cb(4),b.Lc(b.ic(48,54,"rdm.idp")),b.Cb(5),b.mc("ngModel",c.configModel.initial_distribute_policy),b.Cb(2),b.Lc(b.ic(55,56,"rdm.autoSelect")),b.Cb(3),b.Lc(b.ic(58,58,"rdm.hperformanceLevel")),b.Cb(3),b.Lc(b.ic(61,60,"rdm.performanceLevel")),b.Cb(3),b.Lc(b.ic(64,62,"rdm.capacityLevel")),b.Cb(3),b.Lc(b.ic(67,64,"validations.required")),b.Cb(4),b.Lc(b.ic(71,66,"rdm.fetchP")),b.Cb(5),b.mc("ngModel",c.configModel.prefetch_policy),b.Cb(2),b.Lc(b.ic(78,68,"rdm.notFetch")),b.Cb(3),b.Lc(b.ic(81,70,"rdm.fixedFetch")),b.Cb(3),b.Lc(b.ic(84,72,"rdm.variableFetch")),b.Cb(3),b.Lc(b.ic(87,74,"rdm.smartFetch")),b.Cb(3),b.Lc(b.ic(90,76,"validations.required")),b.Cb(4),b.Lc(b.ic(94,78,"rdm.tuning")),b.Cb(5),b.Lc(b.ic(99,80,"rdm.smartTier")),b.Cb(2),b.mc("ngModel",c.policyEnable.smartTier),b.Cb(1),b.mc("ngIf",c.policyEnable.smartTier),b.Cb(4),b.Lc(b.ic(106,82,"rdm.qosP")),b.Cb(2),b.mc("ngModel",c.policyEnable.qosPolicy),b.Cb(1),b.mc("ngIf",c.policyEnable.qosPolicy),b.Cb(1),b.mc("ngIf",c.policyEnable.qosPolicy),b.Cb(4),b.Lc(b.ic(114,84,"rdm.rtuning")),b.Cb(2),b.mc("ngModel",c.policyEnable.resourceTuning),b.Cb(1),b.mc("ngIf",c.policyEnable.resourceTuning),b.Cb(1),b.mc("ngIf","thin"==c.configModel.tuning.alloctype&&c.policyEnable.resourceTuning),b.Cb(1),b.mc("ngIf","thin"==c.configModel.tuning.alloctype&&c.policyEnable.resourceTuning)}}let R=(()=>{class c{constructor(c,e,n,t){this.cdr=c,this.http=e,this.commonService=n,this.gs=t,this.policyEnable={smartTier:!1,qosPolicy:!1,resourceTuning:!1},this.popShow=!0,this.configModel=new z,this.mapping=new B,this.storageDevices=[],this.storagePools=[],this.hostList=[],this.hostSelected="",this.dataStoreName="",this.levelCheck="level",this.dataStores=[],this.searchName="",this.serviceLevelsRes=[],this.serviceLevels=[],this.service_level_id="",this.vmObjectId=""}ngOnInit(){this.loadStorageDevice(),this.loadHosts(),this.tierFresh();const c=this.gs.getClientSdk().app.getContextObjects();console.log(c),this.vmObjectId=null!=c?c[0].id:"urn:vmomi:VirtualMachine:vm-1046:674908e5-ab21-4079-9cb1-596358ee5dd1"}tierFresh(){this.http.post("servicelevel/listservicelevel",{}).subscribe(c=>{c.data=JSON.stringify(c.data),c.data=c.data.replace("service-levels","serviceLevels");const e=this.recursiveNullDelete(JSON.parse(c.data));for(const n of e.serviceLevels)n.usedRate=0==n.total_capacity?0:(n.used_capacity/n.total_capacity*100).toFixed(2),n.used_capacity=(n.used_capacity/1024).toFixed(2),n.total_capacity=(n.total_capacity/1024).toFixed(2),n.free_capacity=(n.free_capacity/1024).toFixed(2);this.serviceLevelsRes=e.serviceLevels,this.search(),console.log(this.serviceLevelsRes)},c=>{console.error("ERROR",c)})}serviceLevelClick(c,e){this.service_level_id=c}search(){this.serviceLevels=""!==this.searchName?this.serviceLevelsRes.filter(c=>c.name.indexOf(this.searchName)>-1):this.serviceLevelsRes}submit(){if(this.rdmForm.form.invalid)return void this.rdmFormGroup.markAsTouched();let c=JSON.parse(JSON.stringify(this.configModel));console.log(c);let e={};"2"==this.configModel.storageType&&(this.policyEnable.smartTier||(c.tuning.smarttier=null),this.policyEnable.qosPolicy||(c.tuning.smartqos=null),this.policyEnable.resourceTuning||(c.tuning.alloctype=null,c.tuning.dedupe_enabled=null,c.tuning.compression_enabled=null),this.policyEnable.smartTier||this.policyEnable.qosPolicy||this.policyEnable.resourceTuning||(c.tuning=null),e={customizeVolumesRequest:{customize_volumes:c,mapping:{host_id:this.hostSelected}}}),"1"==this.configModel.storageType&&(e={createVolumesRequest:{service_level_id:this.service_level_id,volumes:this.configModel.volume_specs,mapping:{host_id:this.hostSelected}}}),this.http.post("v1/vmrdm/createRdm?hostId="+this.hostSelected+"&vmObjectId="+this.vmObjectId+"&dataStoreName="+this.dataStoreName,e).subscribe(c=>{},c=>{console.error("ERROR",c)})}basAdd(){this.configModel.volume_specs.push(new F)}basRemove(c){this.configModel.volume_specs=this.configModel.volume_specs.filter(e=>e!=c)}recursiveNullDelete(c){for(const e in c)null===c[e]?delete c[e]:c[e]instanceof Object?this.recursiveNullDelete(c[e]):("minBandWidth"==e&&0==c[e]||"maxBandWidth"==e&&0==c[e]||"minIOPS"==e&&0==c[e]||"maxIOPS"==e&&0==c[e]||"latency"==e&&0==c[e])&&delete c[e];return c}loadStorageDevice(){this.http.get("dmestorage/storages",{}).subscribe(c=>{"0"!==c.code&&"200"!==c.code||(this.storageDevices=c.data.data,this.cdr.detectChanges())},c=>{console.error("ERROR",c)})}loadStoragePool(c){this.http.get("dmestorage/storagepools",{params:{storageId:c,media_type:"all"}}).subscribe(c=>{"0"!==c.code&&"200"!==c.code||(this.storagePools=c.data.data,this.cdr.detectChanges())},c=>{console.error("ERROR",c)})}loadHosts(){this.http.get("v1/vmrdm/dmeHosts").subscribe(c=>{"0"!==c.code&&"200"!==c.code||(this.hostList=c.data,this.cdr.detectChanges())},c=>{console.error("ERROR",c)})}loadDataStore(c){this.http.get("v1/vmrdm/vCenter/datastoreOnHost",{params:{hostId:c}}).subscribe(c=>{this.dataStores="0"===c.code||"200"===c.code?c.data:[],this.cdr.detectChanges()},c=>{console.error("ERROR",c)})}}return c.\u0275fac=function(e){return new(e||c)(b.Ob(b.h),b.Ob(s.b),b.Ob(l.a),b.Ob(r.b))},c.\u0275cmp=b.Ib({type:c,selectors:[["app-rdm"]],viewQuery:function(c,e){var n;1&c&&(b.Ec(a.A,!0),b.Ec(p,!0)),2&c&&(b.vc(n=b.dc())&&(e.rdmFormGroup=n.first),b.vc(n=b.dc())&&(e.rdmForm=n.first))},features:[b.Bb([l.a,r.b])],decls:73,vars:48,consts:[[2,"margin-left","30px","margin-right","30px"],[1,"clr-row"],[2,"width","700px"],[2,"color","red"],[3,"clrDgItem",4,"ngFor","ngForOf"],[2,"margin-top","20px","margin-left","20px","color","#00F","cursor","pointer",3,"click"],["clrForm","","clrLayout","horizontal"],["rdmForm","ngForm"],["clrSelect","","required","","name","hostSelected",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["clrSelect","","required","","name","dataStoreName",1,"clr-select",3,"ngModel","ngModelOptions","ngModelChange"],["clrInline",""],["type","radio","clrRadio","","name","storageType","value","1",3,"ngModel","click","ngModelChange"],["type","radio","clrRadio","","name","storageType","value","2",3,"ngModel","click","ngModelChange"],[3,"hidden",4,"ngIf"],[1,"clr-col-4"],["type","button",1,"btn","btn-primary",3,"click"],[3,"clrDgItem"],[2,"width","200px"],["type","text","required","","name","name",2,"height","30px",3,"ngModel","ngModelChange"],["name","ngModel"],["type","number","name","capacity",2,"height","30px","width","100px",3,"ngModel","ngModelChange"],["number","ngModel"],["name","unit",2,"height","30px",3,"ngModel","ngModelChange"],["value","GB"],["value","TB"],["type","number","name","count",2,"height","30px",3,"ngModel","ngModelChange"],[2,"width","100px",3,"hidden"],[2,"color","#00F","cursor","pointer",3,"click"],[3,"value"],[3,"hidden"],["style","margin-top: 20px;",3,"click",4,"ngFor","ngForOf"],[2,"margin-top","20px",3,"click"],[2,"height","50px","line-height","50px","color","#333","font-size","16px"],[1,"table","table-vertical","table-noborder","table-compact"],["hidden",""],["clrSuccess","","clrLabeled","",3,"clrValue"],[4,"ngIf"],["src","./assets/images/selectDown.svg","width","40px","height","40px",2,"position","absolute","right","0px","bottom","0px"],["clrSelect","","name","storage_id","required","",3,"ngModel","ngModelChange"],["value",""],["clrSelect","","name","pool_raw_id","required","",3,"ngModel","ngModelChange"],["clrSelect","","name","owner_controller","required","",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["clrSelect","","name","initial_distribute_policy","required","",3,"ngModel","ngModelChange"],["value","3"],["clrSelect","","name","prefetch_policy","required","",3,"ngModel","ngModelChange"],["type","checkbox","clrToggle","","name","options",3,"ngModel","ngModelChange"],["clrInline","",4,"ngIf"],["clrSelect","","name","smarttier",3,"ngModel","ngModelChange"],[1,"floatleft"],["type","radio","clrRadio","","name","control_policy","required","","value","1",3,"ngModel","ngModelChange"],["type","radio","clrRadio","","name","control_policy","required","","value","0",3,"ngModel","ngModelChange"],["type","checkbox","clrCheckbox",""],["name","Brandwidth",1,"inputOneLine",3,"ngModel","ngModelChange"],["name","IOPS",1,"inputOneLine",3,"ngModel","ngModelChange"],["name","Latency",1,"inputOneLine",3,"ngModel","ngModelChange"],["clrSelect","","name","alloctype",3,"ngModel","ngModelChange"],["value","thin"],["value","thick"],["clrSelect","","name","dedupe",3,"ngModel","ngModelChange"],["value","null"],["value","true"],["value","false"],["clrSelect","","name","compression",3,"ngModel","ngModelChange"]],template:function(c,e){1&c&&(b.Ub(0,"div"),b.Ub(1,"div",0),b.Ub(2,"div",1),b.Ub(3,"clr-datagrid",2),b.Ub(4,"clr-dg-column"),b.Kc(5),b.hc(6,"translate"),b.Ub(7,"span",3),b.Kc(8,"*"),b.Tb(),b.Tb(),b.Ub(9,"clr-dg-column"),b.Kc(10),b.hc(11,"translate"),b.Ub(12,"span",3),b.Kc(13,"*"),b.Tb(),b.Tb(),b.Ub(14,"clr-dg-column"),b.Kc(15),b.hc(16,"translate"),b.Ub(17,"span",3),b.Kc(18,"*"),b.Tb(),b.Tb(),b.Ub(19,"clr-dg-column"),b.Kc(20),b.hc(21,"translate"),b.Tb(),b.Ic(22,h,20,10,"clr-dg-row",4),b.Tb(),b.Tb(),b.Ub(23,"div",1),b.Ub(24,"span",5),b.cc("click",(function(){return e.basAdd()})),b.Kc(25),b.hc(26,"translate"),b.Tb(),b.Tb(),b.Ub(27,"div",1),b.Ub(28,"form",6,7),b.Ub(30,"clr-select-container"),b.Ub(31,"label"),b.Kc(32),b.hc(33,"translate"),b.Ub(34,"span",3),b.Kc(35,"*"),b.Tb(),b.Tb(),b.Ub(36,"select",8),b.cc("ngModelOptions",(function(){return e.hostList}))("ngModelChange",(function(c){return e.hostSelected=c}))("change",(function(){return e.loadDataStore(e.hostSelected)})),b.Ic(37,m,2,3,"option",9),b.Tb(),b.Ub(38,"clr-control-error"),b.Kc(39),b.hc(40,"translate"),b.Tb(),b.Tb(),b.Ub(41,"clr-select-container"),b.Ub(42,"label"),b.Kc(43),b.hc(44,"translate"),b.Ub(45,"span",3),b.Kc(46,"*"),b.Tb(),b.Tb(),b.Ub(47,"select",10),b.cc("ngModelOptions",(function(){return e.dataStores}))("ngModelChange",(function(c){return e.dataStoreName=c})),b.Ic(48,u,2,2,"option",9),b.Tb(),b.Ub(49,"clr-control-error"),b.Kc(50),b.hc(51,"translate"),b.Tb(),b.Tb(),b.Ub(52,"clr-radio-container",11),b.Ub(53,"label"),b.Kc(54),b.hc(55,"translate"),b.Tb(),b.Ub(56,"clr-radio-wrapper"),b.Ub(57,"input",12),b.cc("click",(function(){return e.levelCheck="level"}))("ngModelChange",(function(c){return e.configModel.storageType=c})),b.Tb(),b.Ub(58,"label"),b.Kc(59),b.hc(60,"translate"),b.Tb(),b.Tb(),b.Ub(61,"clr-radio-wrapper"),b.Ub(62,"input",13),b.cc("click",(function(){return e.levelCheck="storage"}))("ngModelChange",(function(c){return e.configModel.storageType=c})),b.Tb(),b.Ub(63,"label"),b.Kc(64),b.hc(65,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Ic(66,y,3,2,"div",14),b.Ic(67,k,119,86,"div",14),b.Tb(),b.Tb(),b.Ub(68,"div",1),b.Pb(69,"div",15),b.Ub(70,"button",16),b.cc("click",(function(){return e.submit()})),b.Kc(71),b.hc(72,"translate"),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&c&&(b.Cb(5),b.Lc(b.ic(6,22,"rdm.name")),b.Cb(5),b.Lc(b.ic(11,24,"rdm.capacity")),b.Cb(5),b.Lc(b.ic(16,26,"rdm.count")),b.Cb(5),b.Lc(b.ic(21,28,"rdm.operation")),b.Cb(2),b.mc("ngForOf",e.configModel.volume_specs),b.Cb(3),b.Lc(b.ic(26,30,"rdm.add")),b.Cb(7),b.Lc(b.ic(33,32,"rdm.host")),b.Cb(4),b.mc("ngModel",e.hostSelected),b.Cb(1),b.mc("ngForOf",e.hostList),b.Cb(2),b.Lc(b.ic(40,34,"validations.required")),b.Cb(4),b.Lc(b.ic(44,36,"rdm.dataStore")),b.Cb(4),b.mc("ngModel",e.dataStoreName),b.Cb(1),b.mc("ngForOf",e.dataStores),b.Cb(2),b.Lc(b.ic(51,38,"validations.required")),b.Cb(4),b.Lc(b.ic(55,40,"rdm.storageType")),b.Cb(3),b.mc("ngModel",e.configModel.storageType),b.Cb(2),b.Lc(b.ic(60,42,"rdm.tier")),b.Cb(3),b.mc("ngModel",e.configModel.storageType),b.Cb(2),b.Lc(b.ic(65,44,"rdm.storage1")),b.Cb(2),b.mc("ngIf","level"===e.levelCheck),b.Cb(1),b.mc("ngIf","storage"===e.levelCheck),b.Cb(4),b.Lc(b.ic(72,46,"menu.submit")))},directives:[a.m,a.qb,a.sb,a.lb,a.tb,a.o,a.pb,t.m,d.E,d.r,d.s,a.A,a.I,a.W,a.H,d.A,a.V,d.z,d.q,d.t,a.k,a.T,a.U,d.x,d.e,a.S,t.n,a.v,a.rb,a.n,a.nb,d.w,d.v,d.D,a.b,a.kb,a.d,a.jb,a.e,a.c,a.R,a.G,a.g,a.h,d.b,a.f],pipes:[g.c],styles:[".inputOneLine[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #dbdbdb;width:80px}.clr-form-horizontal[_ngcontent-%COMP%]   .clr-form-control[_ngcontent-%COMP%] > .clr-control-label[_ngcontent-%COMP%]{width:700px}  .clr-select-wrapper,   .clr-select-wrapper select{width:190px}.clr-accordion-panel[_ngcontent-%COMP%]{display:block;width:700px}  .clr-accordion-content{background-color:#edf6fa;position:relative;border:none}  .clr-accordion-angle{display:none}  .clr-accordion-header{border:3px solid #99c9e2}  .clr-accordion-panel:last-child .clr-accordion-header{border-bottom:3px solid #99c9e2}  .clr-accordion:not(.clr-stepper-forms) .clr-accordion-content{padding:30px 5px}.clr-accordion-panel[_ngcontent-%COMP%]:last-child   .clr-accordion-header[_ngcontent-%COMP%],   .clr-accordion-panel:last-child .clr-accordion-content{border:none}"]}),c})();class z{constructor(){this.storageType="1",this.volume_specs=[new F],this.tuning=new E,this.initial_distribute_policy="0",this.owner_controller="0",this.prefetch_policy="3"}}class F{constructor(){this.unit="GB"}}class E{constructor(){this.smartqos=new N,this.alloctype="thick",this.smarttier="0",this.compression_enabled=null,this.dedupe_enabled=null}}class N{constructor(){this.control_policy="1"}}class B{constructor(){}}const $=[{path:"",component:R}];let V=(()=>{class c{}return c.\u0275mod=b.Mb({type:c}),c.\u0275inj=b.Lb({factory:function(e){return new(e||c)},imports:[[i.i.forChild($)],i.i]}),c})(),D=(()=>{class c{}return c.\u0275mod=b.Mb({type:c}),c.\u0275inj=b.Lb({factory:function(e){return new(e||c)},imports:[[t.c,o.a,d.m,V]]}),c})()}}]);