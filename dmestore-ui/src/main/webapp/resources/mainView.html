<!doctype html>
<!-- Copyright (c) 2012-2018 VMware, Inc. All rights reserved. -->
<html>
<head>
   <meta charset="utf-8" />
   <title>dmestore main view</title>

   <link rel="stylesheet" href="../assets/css/default.css" media="screen" />

   <!-- Safer not to use CDN links to javascript libraries, the Internet may not be available! -->
   <script src="../assets/jquery-1.10.2.min.js"></script>

   <script>
   // Use JQuery's $(document).ready to execute the script when the document is loaded.
   // This also hides locale variables from the global scope.
   $(document).ready(function() {

      $("#helloBtn").click(function() {
        // Call EchoService and displays the identical message being returned
        var echoServiceUrl = "/ui/dmestore/rest/services/echo";
        var msg = "World!";
        $.post(echoServiceUrl, { message: msg},
            function(echoStr) {
               alert(echoStr);
          })
         .fail(function(jqXHR, status, error) {
            var response = jqXHR.responseJSON;
            alert( "echoService error: " + response.message +
                  "\nCause: " + response.cause);
         });
      });

      $("#title").text("Main View");
      $("#clickToCall").text("Click to call the EchoService");
      $("#helloBtn").text("Hello");

   }); // end $(document).ready
   </script>
</head>
<body>
   <!-- The default text is replaced at runtime by localized resources -->
   <h3 id="title">Main View</h3>
   <p id="clickToCall">Click to call the EchoService</p>
   <button id="helloBtn">Hello</button>
</body>
</html>
