<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:mvc="http://www.springframework.org/schema/mvc"
   xmlns:context="http://www.springframework.org/schema/context"
   xsi:schemaLocation="
      http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/mvc
      http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <context:property-placeholder location="classpath:application.properties"/>

   <bean name="EchoServiceImpl" class="com.dmeplugin.dmestore.services.EchoServiceImpl">

   </bean>

   <bean name="SampleActionServiceImpl" class="com.dmeplugin.dmestore.services.SampleActionServiceImpl">

   </bean>

    <bean name="dmeInfoDao" class="com.dmeplugin.dmestore.dao.DmeInfoDao">
        <property name="url" value="${h2.url}"/>
    </bean>

    <bean name="DmeAccessServiceImpl" class="com.dmeplugin.dmestore.services.DmeAccessServiceImpl">
        <property name="dmeInfoDao" ref="dmeInfoDao"/>
    </bean>

    <bean name="h2DataBaseDao" class="com.dmeplugin.dmestore.dao.H2DataBaseDao">
        <property name="url" value="${h2.url}"/>
    </bean>

    <bean name="systemDao" class="com.dmeplugin.dmestore.dao.SystemDao">
        <property name="url" value="${h2.url}"/>
    </bean>

    <bean name="vcenterInfoDao" class="com.dmeplugin.dmestore.dao.VCenterInfoDao">
        <property name="url" value="${h2.url}"/>
    </bean>

    <bean name="InstantiationBeanServiceImpl"
          class="com.dmeplugin.dmestore.services.InstantiationBeanServiceImpl">
        <property name="systemService" ref="SystemServiceImpl"/>
    </bean>

    <bean name="SystemServiceImpl" class="com.dmeplugin.dmestore.services.SystemServiceImpl">
        <property name="systemDao" ref="systemDao"/>
        <property name="vCenterInfoService" ref="VCenterInfoServiceImpl"/>
    </bean>

    <bean name="VCenterInfoServiceImpl"
          class="com.dmeplugin.dmestore.services.VCenterInfoServiceImpl">
        <property name="vCenterInfoDao" ref="vcenterInfoDao"/>
    </bean>

    <bean name="ServiceLevelServiceImpl" class="com.dmeplugin.dmestore.services.ServiceLevelServiceImpl">
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
        <property name="dmeStorageService" ref="dmeStorageService"/>
        <property name="dmeRelationInstanceService" ref="dmeRelationInstanceService"/>
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
    </bean>

    <bean name="dmeRelationInstanceService" class="com.dmeplugin.dmestore.services.DmeRelationInstanceServiceImpl">
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
    </bean>

    <bean name="dmeStorageService" class="com.dmeplugin.dmestore.services.DmeStorageServiceImpl">
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
    </bean>
    <bean name="dmeVmwareRalationDao" class="com.dmeplugin.dmestore.dao.DmeVmwareRalationDao">
        <property name="url" value="${h2.url}"/>
    </bean>

    <bean name="VmfsAccessServiceImpl" class="com.dmeplugin.dmestore.services.VmfsAccessServiceImpl">
        <property name="dmeVmwareRalationDao" ref="dmeVmwareRalationDao"/>
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
        <property name="dataStoreStatisticHistoryService" ref="DataStoreStatisticHistoryService"/>
        <property name="dmeStorageService" ref="dmeStorageService"/>
        <property name="taskService" ref="taskService"/>
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
    </bean>

    <bean name="DataStoreStatisticHistoryService"
          class="com.dmeplugin.dmestore.services.DataStoreStatisticHistoryServiceImpl">
    </bean>


    <bean name="taskService" class="com.dmeplugin.dmestore.services.TaskServiceImpl">
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
    </bean>

    <bean name="DmeNFSAccessServiceImpl" class="com.dmeplugin.dmestore.services.DmeNFSAccessServiceImpl">
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
        <property name="dmeStorageService" ref="dmeStorageService"/>
        <property name="dataStoreStatisticHistoryService" ref="DataStoreStatisticHistoryService"/>
        <property name="dmeVmwareRalationDao" ref="dmeVmwareRalationDao"/>
        <property name="taskService" ref="taskService"/>
    </bean>

    <bean name="vmfsOperationService" class="com.dmeplugin.dmestore.services.VmfsOperationServiceImpl"/>


    <bean name="vmwareAccessService" class="com.dmeplugin.dmestore.services.VmwareAccessServiceImpl">
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
        <property name="dmeVmwareRalationDao" ref="dmeVmwareRalationDao"/>
    </bean>

    <bean name="vmrdmService" class="com.dmeplugin.dmestore.services.VMRDMServiceImpl">
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
        <property name="dmeAccessService" ref="DmeAccessServiceImpl"/>
        <property name="taskService" ref="taskService"/>
    </bean>

    <bean name="bestPracticeProcessService" class="com.dmeplugin.dmestore.services.BestPracticeProcessServiceImpl">
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
        <property name="bestPracticeCheckDao" ref="bestPracticeCheckDao"/>
        <property name="bestPracticeServices">
            <list>
                <ref bean="vmfs3EnableBlockDeleteService"/>
                <ref bean="vmfs3HardwareAcceleratedLocking"/>
                <ref bean="vmfs3UseATSForHBOnVMFS"/>
                <ref bean="diskSchedQuantum"/>
                <ref bean="diskDiskMaxIOSize"/>
                <ref bean="dataMoverHardwareAcceleratedInit"/>
                <ref bean="dataMoverHardwareAcceleratedMove"/>
                <ref bean="lunQueueDepthForEmulex"/>
                <ref bean="lunQueueDepthForQlogic"/>
            </list>
        </property>
    </bean>

    <!--最佳实践后端逻辑service-->
    <bean name="vmfs3EnableBlockDeleteService" class="com.dmeplugin.dmestore.services.bestpractice.VMFS3EnableBlockDeleteImpl"/>
    <bean name="vmfs3HardwareAcceleratedLocking" class="com.dmeplugin.dmestore.services.bestpractice.VMFS3HardwareAcceleratedLockingImpl"/>
    <bean name="vmfs3UseATSForHBOnVMFS" class="com.dmeplugin.dmestore.services.bestpractice.VMFS3UseATSForHBOnVMFS5Impl"/>
    <bean name="diskSchedQuantum" class="com.dmeplugin.dmestore.services.bestpractice.DiskSchedQuantumImpl"/>
    <bean name="diskDiskMaxIOSize" class="com.dmeplugin.dmestore.services.bestpractice.DiskDiskMaxIOSizeImpl"/>
    <bean name="dataMoverHardwareAcceleratedInit" class="com.dmeplugin.dmestore.services.bestpractice.DataMoverHardwareAcceleratedInitImpl"/>
    <bean name="dataMoverHardwareAcceleratedMove" class="com.dmeplugin.dmestore.services.bestpractice.DataMoverHardwareAcceleratedMoveImpl"/>
    <bean name="lunQueueDepthForEmulex" class="com.dmeplugin.dmestore.services.bestpractice.LunQueueDepthForEmulexImpl"/>
    <bean name="lunQueueDepthForQlogic" class="com.dmeplugin.dmestore.services.bestpractice.LunQueueDepthForQlogicImpl"/>

    <bean name="bestPracticeCheckDao" class="com.dmeplugin.dmestore.dao.BestPracticeCheckDao">
        <property name="url" value="${h2.url}"/>
    </bean>

    <bean name="vCSDKUtils" class="com.dmeplugin.dmestore.utils.VCSDKUtils">
        <property name="vcConnectionHelper" ref="springBootConnectionHelper"/>
    </bean>

    <bean name="springBootConnectionHelper" class="com.dmeplugin.vmware.SpringBootConnectionHelper">
        <property name="serverurl" value="10.143.132.248"/>
        <property name="username" value="administrator@vsphere.local"/>
        <property name="password" value="Pbu4@123"/>
        <property name="serverport" value="443"/>
        <property name="vCenterInfoService" ref="VCenterInfoServiceImpl"/>
    </bean>

    
    <bean name="nfsOperationService" class="com.dmeplugin.dmestore.services.NfsOperationServiceImpl"/>


    <bean name="PluginRegisterServiceImpl" class="com.dmeplugin.dmestore.services.PluginRegisterServiceImpl">

    </bean>

    <bean name="hostAccessService" class="com.dmeplugin.dmestore.services.HostAccessServiceImpl">
        <property name="vcsdkUtils" ref="vCSDKUtils"/>
    </bean>


</beans>
